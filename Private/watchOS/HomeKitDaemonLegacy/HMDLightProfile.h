//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1092.3.10.0.0
//
#ifndef HMDLightProfile_h
#define HMDLightProfile_h
@import Foundation;

#include "HMDAccessoryProfile.h"
#include "HMDCharacteristic.h"
#include "HMDCharacteristicsAvailabilityListener.h"
#include "HMDCharacteristicsAvailabilityListenerDelegate-Protocol.h"
#include "HMDHAPAccessory.h"
#include "HMDLightProfileDataSource-Protocol.h"
#include "HMDNaturalLightingActiveTransitionContext.h"
#include "HMDNaturalLightingCurve.h"
#include "HMDNaturalLightingCurveWriter.h"
#include "HMDNaturalLightingEnabledRetryContext.h"
#include "HMDService.h"

@class HMLightProfileSettings, NSDate, NSHashTable, NSSet, NSString;

@interface HMDLightProfile : HMDAccessoryProfile<HMDCharacteristicsAvailabilityListenerDelegate>

@property unsigned long long supportedFeatures;
@property (readonly) HMDCharacteristicsAvailabilityListener *characteristicsAvailabilityListener;
@property (copy) NSSet *notificationEnabledCharacteristics;
@property (weak) HMDHAPAccessory *hapAccessory;
@property (readonly) NSString *clientIdentifier;
@property (readonly) HMDNaturalLightingCurveWriter *naturalLightingCurveWriter;
@property (copy) NSDate *lastNaturalLightingEnabledDate;
@property (copy) NSDate *lastNaturalLightingUsedDate;
@property (readonly) BOOL usingNaturalLighting;
@property (readonly) NSObject<HMDLightProfileDataSource> *dataSource;
@property (retain) HMDCharacteristic *brightnessCharacteristic;
@property (retain) HMDCharacteristic *colorTemperatureCharacteristic;
@property (copy) NSDate *lastNaturalLightingCurveUpdateDate;
@property (copy) HMDNaturalLightingCurve *naturalLightingCurve;
@property (copy) HMDNaturalLightingActiveTransitionContext *naturalLightingActiveTransitionContext;
@property (copy) NSSet *readCharacteristics;
@property (copy) HMDNaturalLightingEnabledRetryContext *naturalLightingEnabledRetryContext;
@property unsigned char activeTransitionsCount;
@property (retain) NSHashTable *characteristicValueObservers;
@property (readonly, copy) NSSet *availableCharacteristics;
@property (readonly) HMLightProfileSettings *settings;
@property BOOL naturalLightingEnabled;
@property BOOL naturalLightingSupported;
@property (readonly, copy) NSDate *mostRecentNaturalLightingEnabledDate;
@property (readonly, copy) NSDate *mostRecentNaturalLightingUsedDate;
@property (readonly) HMDService *service;
@property (readonly, copy) NSSet *readCharacteristicRequests;
@property (readonly) BOOL supportsCHIP;

/* class methods */
+ (id)logCategory;

/* instance methods */
- (id)initWithWorkQueue:(id)queue lightService:(id)service accessory:(id)accessory;
- (id)initWithUUID:(id)uuid workQueue:(id)queue lightService:(id)service accessory:(id)accessory characteristicsAvailabilityListener:(id)listener naturalLightingCurveWriter:(id)writer dataSource:(id)source;
- (void)dealloc;
- (void)registerForMessages;
- (void)handleSetNaturalLightingEnabledMessage:(id)message;
- (void)handleFetchNaturalLightColorTemperatureForBrightnessMessage:(id)message;
- (void)resetNaturalLightingEnabledRetryContext;
- (void)handleSetNaturalLightingEnabled:(BOOL)enabled;
- (void)notifyClientsOfUpdatedSettingsWithPreviousSettings:(id)settings;
- (void)updateNaturalLightingEnabledForCharacteristic:(id)characteristic;
- (void)updateSupportedFeaturesWithCharacteristics:(id)characteristics;
- (void)_handleAccessoryCharacteristicsChanged:(id)changed;
- (id)availableCharacteristicWithType:(id)type fromChangedObjects:(id)objects;
- (BOOL)isUsingNaturalLighting;
- (void)updateLastNaturalLightingUsedState;
- (BOOL)updateNaturalLightingCurve;
- (void)readNaturalLightingCharacteristicsWithReason:(id)reason;
- (void)readNaturalLightingCharacteristicsWithReason:(id)reason completion:(id /* block */)completion;
- (BOOL)updateActiveTransitionCountWithCharacteristic:(id)characteristic;
- (void)updateSettingsWithCharacteristics:(id)characteristics;
- (void)synchronizeCurveToAccessory;
- (BOOL)updateEnabledCharacteristicsNotifications;
- (BOOL)enableNaturalLightingCharacteristicNotificationsForObserver:(id)observer;
- (void)disableNaturalLightingCharacteristicNotificationsForObserver:(id)observer;
- (void)setNaturalLightingEnabled:(BOOL)enabled shouldRetryOnFailure:(BOOL)failure completion:(id /* block */)completion;
- (void)setNaturalLightingEnabled:(BOOL)enabled completion:(id /* block */)completion retryContext:(id)context;
- (void)retrySetNaturalLightingEnabledWithContext:(id)context error:(id)error;
- (BOOL)shouldRetrySetNaturalLightingEnabledWithError:(id)error;
- (void)callSetNaturalLightingEnabledCompletion:(id /* block */)completion error:(id)error;
- (void)encodeWithCoder:(id)coder;
- (void)listener:(id)listener didUpdateAvailableCharacteristics:(id)characteristics;
- (id)updateSettingsWithReadCharacteristicResponsePayload:(id)payload error:(id *)error;
- (void)setNaturalLightingEnabled:(BOOL)enabled completion:(id /* block */)completion;
- (void)setNaturalLightingCharacteristicsNotificationEnabled:(BOOL)enabled forObserver:(id)observer;
- (void)fetchNaturalLightingEnabledWithCompletion:(id /* block */)completion;
- (void)handleAccessoryUnconfigured:(id)unconfigured;
- (void)handleAccessoryCharacteristicsChanged:(id)changed;
- (void)handleHomeDidEnableCharacteristicNotification:(id)notification;
- (void)handleHomeDidDisableCharacteristicNotification:(id)notification;
- (void)handleHomeNaturalLightingContextUpdated:(id)updated;
- (BOOL)isNaturalLightingEnabled;
- (BOOL)isNaturalLightingSupported;
@end

#endif /* HMDLightProfile_h */
