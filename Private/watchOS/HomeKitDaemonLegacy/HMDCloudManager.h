//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1092.3.10.0.0
//
#ifndef HMDCloudManager_h
#define HMDCloudManager_h
@import Foundation;

#include "HMFObject.h"
#include "HMBCloudPushObserver-Protocol.h"
#include "HMDCloudCache.h"
#include "HMDCloudDataSyncStateFilter.h"
#include "HMDCloudHomeManagerZone.h"
#include "HMDCloudLegacyZone.h"
#include "HMDCloudManagerDelegate-Protocol.h"
#include "HMDCloudMetadataZone.h"
#include "HMDSyncOperationManager.h"
#include "HMFLogging-Protocol.h"

@class CKContainer, CKDatabase, HMFMessageDispatcher, NSData, NSMutableArray, NSString;
@protocol HMDCloudManagerDataSource, HMMLogEventSubmitting, OS_dispatch_queue, OS_dispatch_source, OS_os_log;

@interface HMDCloudManager : HMFObject<HMBCloudPushObserver, HMFLogging> {
  /* instance variables */
  NSObject<OS_os_log> *_logger;
}

@property (readonly, weak) NSObject<HMDCloudManagerDelegate> *delegate;
@property (readonly, weak) NSObject<HMDCloudManagerDataSource> *dataSource;
@property (readonly, nonatomic) NSObject<HMMLogEventSubmitting> *logEventSubmitter;
@property (readonly, nonatomic) CKContainer *container;
@property (retain, nonatomic) CKDatabase *database;
@property (retain, nonatomic) HMDCloudCache *cloudCache;
@property (readonly, nonatomic) HMDCloudLegacyZone *legacyZone;
@property (readonly, nonatomic) HMDCloudMetadataZone *metadataZone;
@property (readonly, nonatomic) HMDCloudHomeManagerZone *homeManagerZone;
@property (retain, nonatomic) HMFMessageDispatcher *configSyncDispatcher;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *workQueue;
@property (nonatomic) BOOL accountActive;
@property (copy, nonatomic) id /* block */ fetchCompletionHandler;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *clientCallbackQueue;
@property (nonatomic) BOOL cloudHomeDataRecordExists;
@property (nonatomic) BOOL keychainSyncEnabled;
@property (readonly, nonatomic) BOOL decryptionFailed;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *retryTimer;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *pollTimer;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *controllerKeyPollTimer;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *watchdogControllerKeyPollTimer;
@property (copy, nonatomic) id /* block */ cloudDataDeletedNotificationHandler;
@property (copy, nonatomic) id /* block */ cloudMetadataDeletedNotificationHandler;
@property (copy, nonatomic) id /* block */ controllerKeyAvailableNotificationHandler;
@property (retain, nonatomic) HMDCloudDataSyncStateFilter *cloudDataSyncStateFilter;
@property (retain, nonatomic) HMFMessageDispatcher *msgDispatcher;
@property (weak, nonatomic) HMDSyncOperationManager *syncManager;
@property (retain, nonatomic) NSMutableArray *currentBackoffTimerValuesInMinutes;
@property (copy, nonatomic) id /* block */ dataDecryptionFailedHandler;
@property (copy, nonatomic) id /* block */ accountActiveUpdateHandler;
@property (nonatomic) BOOL firstV3FetchRun;
@property (nonatomic) BOOL firstDBQueryRun;
@property (readonly, nonatomic) NSData *serverTokenData;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *callbackQueue;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)logCategory;

/* instance methods */
- (id)initWithMessageDispatcher:(id)dispatcher cloudDataSyncStateFilter:(id)filter cloudCache:(id)cache delegate:(id)delegate dataSource:(id)source syncManager:(id)manager logEventSubmitter:(id)submitter callbackQueue:(id)queue;
- (id)initWithMessageDispatcher:(id)dispatcher cloudDataSyncStateFilter:(id)filter cloudCache:(id)cache delegate:(id)delegate dataSource:(id)source syncManager:(id)manager callbackQueue:(id)queue container:(id)container logEventSubmitter:(id)submitter workQueue:(id)queue;
- (void)dealloc;
- (void)__addCKDatabaseOperation:(id)operation;
- (void)__fetchSubscriptionWithID:(id)id completionHandler:(id /* block */)handler;
- (void)__saveSubscription:(id)subscription completionHandler:(id /* block */)handler;
- (void)__fetchAllRecordZonesWithCompletionHandler:(id /* block */)handler;
- (void)__fetchRecordZoneWithID:(id)id completionHandler:(id /* block */)handler;
- (void)__saveRecordZone:(id)zone completionHandler:(id /* block */)handler;
- (void)__deleteRecordZoneWithID:(id)id completionHandler:(id /* block */)handler;
- (void)__deleteRecordZonesWithIDs:(id)ids completionHandler:(id /* block */)handler;
- (void)__deleteRecordWithID:(id)id completionHandler:(id /* block */)handler;
- (BOOL)legacyZoneHasRecordsAvailable;
- (void)addHomeZoneName:(id)name owner:(id)owner;
- (void)_addHomeZoneName:(id)name owner:(id)owner;
- (void)removeHomeZoneName:(id)name;
- (void)_removeHomeZoneName:(id)name;
- (void)fetchTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)_fetchTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)uploadTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)_createZoneAndUploadTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)_verifyZoneHasBeenDeletedTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)_checkZoneAndUploadTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)_uploadTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)removeZonesTransactions:(id)transactions completionHandler:(id /* block */)handler;
- (void)_removeZonesTransactions:(id)transactions completionHandler:(id /* block */)handler;
- (void)uploadLegacyTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)_uploadLegacyTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (void)_fetchAndVerifyZoneRootRecord:(id)record completionHandler:(id /* block */)handler;
- (void)resetCloudDataAndDeleteMetadataForCurrentAccount:(BOOL)account completionHandler:(id /* block */)handler;
- (void)_removeAllHomeZonesCompletionHandler:(id /* block */)handler;
- (void)verifyAndRemoveZone:(id)zone completionHandler:(id /* block */)handler;
- (void)_verifyAndRemoveZone:(id)zone completionHandler:(id /* block */)handler;
- (void)_verifyAndRemoveAllHomeZonesCompletionHandler:(id /* block */)handler;
- (void)_resetCloudZonesIgnoreHomeManager:(BOOL)manager completionHandler:(id /* block */)handler;
- (void)_resetCloudDataAndDeleteMetadataForCurrentAccount:(BOOL)account completionHandler:(id /* block */)handler;
- (void)resetCloudServerTokenData:(id)data;
- (void)_resetCloudServerTokenData;
- (void)resetCloudCache:(id /* block */)cache;
- (void)_resetCloudCache:(id /* block */)cache;
- (id)_serverTokenData;
- (void)fetchCurrentAccountStateWithCompletionHandler:(id /* block */)handler;
- (void)setDataAvailableFromCloudCompletionBlock:(id /* block */)block;
- (void)setCloudDataDeletedNotificationBlock:(id /* block */)block;
- (void)setCloudMetadataDeletedNotificationBlock:(id /* block */)block;
- (void)setControllerKeyAvailableNotificationBlock:(id /* block */)block;
- (void)setDataDecryptionFailedCompletionBlock:(id /* block */)block;
- (void)setAccountActiveUpdateCallback:(id /* block */)callback;
- (void)fetchLegacyTransaction:(id)transaction forceFetch:(BOOL)fetch accountCompletionHandler:(id /* block */)handler dataCompletionHandler:(id /* block */)handler;
- (void)_fetchLegacyTransaction:(id)transaction forceFetch:(BOOL)fetch accountCompletionHandler:(id /* block */)handler dataCompletionHandler:(id /* block */)handler;
- (BOOL)_processFetchedTransaction:(id)transaction;
- (void)_processFetchCompletedWithError:(id)error serverToken:(id)token fetchTransaction:(id)transaction migrationOptions:(unsigned long long)options completionHandler:(id /* block */)handler moreRecordsComing:(BOOL)coming emptyRecord:(BOOL)record;
- (void)updateAccountStatusChanged:(BOOL)changed completionHandler:(id /* block */)handler;
- (void)_handleAccountStatus:(long long)status completionHandler:(id /* block */)handler;
- (id)_changeTokenFromData:(id)data;
- (void)_resetHomeDataRecordState;
- (void)_verifyHH2SentinelCloudZoneExist:(id /* block */)exist;
- (void)_verifyZonesExist:(id)exist zoneIndex:(unsigned long long)index completion:(id /* block */)completion;
- (void)_createZoneAndFetchChanges:(id /* block */)changes;
- (void)_accountIsActive;
- (void)updateCloudDataSyncFilterState:(BOOL)state;
- (void)_forceCleanCloud:(BOOL)cloud fetchTransaction:(id)transaction completionHandler:(id /* block */)handler;
- (BOOL)_validFetchRetryCKErrorCode:(long long)code;
- (void)initializeServerTokenStatusOnCloudFilter;
- (void)updateServerTokenStatusOnCloudFilter;
- (void)_updateServerTokenStatusOnCloudFilter;
- (void)_startFetchRetryTimer;
- (void)_stopFetchRetryTimer;
- (void)_startFetchPollTimer;
- (void)_stopFetchPollTimer;
- (void)handleKeychainStateChangedNotification:(id)notification;
- (void)_handleKeychainSyncStateChanged:(BOOL)changed;
- (void)_handleControllerKeyAvailable;
- (void)_startWatchdogControllerKeyPollTimer;
- (void)_stopWatchdogControllerKeyPollTimer;
- (void)_startControllerKeyPollTimer;
- (void)_startControllerKeyPollTimerWithBackoff;
- (void)_startControllerKeyPollTimerWithValue:(long long)value;
- (void)_stopControllerKeyPollTimer;
- (void)_auditProxSetupNotification:(id)notification;
- (void)_registerForProxSetupNotifications;
- (void)_setupSubscriptionForZone:(id)zone;
- (void)registerForPushNotifications;
- (void)_scheduleZoneFetch:(id)fetch;
- (void)fetchDatabaseZoneChanges;
- (void)cacheDatabaseServerToken;
- (void)_fetchDatabaseZoneChangesCompletion:(id /* block */)completion;
- (void)handler:(id)handler didReceivePushForTopic:(id)topic;
- (void)handler:(id)handler didReceiveCKNotification:(id)cknotification;
- (BOOL)isFirstV3FetchRun;
- (BOOL)isFirstDBQueryRun;
@end

#endif /* HMDCloudManager_h */
