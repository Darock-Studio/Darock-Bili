//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1262.300.81.4.10
//
#ifndef IMDAttachmentStore_h
#define IMDAttachmentStore_h
@import Foundation;

#include "AssetStoreProviding-Protocol.h"
#include "RecordStoreDeleting-Protocol.h"
#include "RecordStoreProviding-Protocol.h"

@class NSNumber;

@interface IMDAttachmentStore : NSObject<RecordStoreProviding, AssetStoreProviding, RecordStoreDeleting>

@property (retain, nonatomic) NSNumber *afterRowForAssets;

/* class methods */
+ (id)sharedInstance;
+ (BOOL)_cloudkitSyncingEnabled;
+ (BOOL)fileEligibleForCacheDelete:(id)delete;
+ (BOOL)_filesystemIsCaseSensitiveWithPath:(id)path;
+ (void)_askToTapToRadarForErrorString:(id)string path:(id)path;
+ (BOOL)updateTransferIn:(id)in fromGUID:(id)guid toGUID:(id)guid;

/* instance methods */
- (id)batchOfRecordIDsToDeleteWithLimit:(long long)limit error:(id *)error;
- (void)clearTombstonesForRecordIDs:(id)ids;
- (void)resetFetchState;
- (id)batchOfRecordsMissingAssetsWithLimit:(long long)limit;
- (void)updateAssetUsingRecord:(id)record;
- (void)markTransferAsNotSuccessfullyDownloadedWithGUID:(id)guid;
- (void)_removeTransferFromiCloudBackupWithGuid:(id)guid;
- (id)syncTokenStore;
- (void)resetLocalSyncStateIfAppropriate;
- (void)clearLocalSyncState:(unsigned long long)state;
- (BOOL)_shouldMarkAttachmentsAsNeedingReupload;
- (void)_markAllFailedAttachmentsAsNeedingSync;
- (void)deleteAttachmentSyncToken;
- (void)_needsToMarkAllAttachmentsAsNeedingSync;
- (BOOL)_shouldMarkAllAttachmentsAsNeedingSync;
- (void)_hasMarkedAllAttachmentsAsNeedingSync;
- (void)_markAttachmentWithROWIDAsFailedToUploadToCloudKit:(id)kit;
- (id)_updateAttachmentGUIDIfNeededAndReturnTransfersToForceMarkAsSync:(id)sync transfersToSyncRowIDs:(id)ids;
- (id)batchOfRecordsToWriteWithLimit:(long long)limit error:(id *)error;
- (void)recordUpdateSucceededWithRecord:(id)record;
- (void)recordUpdateFailedWithID:(id)id localGUID:(id)guid error:(id)error;
- (void)_resetAttachmentSyncStateForGUID:(id)guid newSyncState:(long long)state;
- (void)_markTransferAsNotBeingAbleToSyncWithGUID:(id)guid;
- (void)legacyImport:(id)import;
- (BOOL)storeAttachment:(id)attachment associateWithMessageWithGUID:(id)guid;
- (BOOL)storeAttachment:(id)attachment associateWithMessageWithGUID:(id)guid chatGUID:(id)guid storeAtExternalLocation:(BOOL)location;
- (BOOL)removeAttachment:(id)attachment fromMessageWithGUID:(id)guid;
- (BOOL)updateAttachment:(id)attachment;
- (BOOL)updateAttachment:(id)attachment chatGUID:(id)guid storeAtExternalPath:(BOOL)path;
- (void)markFile:(id)file asPurgeable:(BOOL)purgeable;
- (void)markAttachmentPurgeable:(id)purgeable;
- (void)markAttachmentUnpurgeable:(id)unpurgeable;
- (void)markAttachment:(id)attachment purgeable:(BOOL)purgeable;
- (id)_alternateAttachmentPathIfExists:(id)exists;
- (void)markAllAttachmentsAsNotPurgeable;
- (id)attachmentWithGUID:(id)guid;
- (id)attachmentsWithGUIDs:(id)guids;
- (id)fileTransferWithAttachmentRecordRef:(struct _IMDAttachmentRecordStruct { struct __CFRuntimeBase { unsigned long long x0; atomic  x1; unsigned long long x2; } x0; long long x1; struct __CFArray * x2; } *)ref;
- (id)attachmentsFilteredUsingPredicate:(id)predicate limit:(unsigned long long)limit;
- (id)database;
- (BOOL)updateLegacyTransferGUIDIfNeeded:(id)needed transfersToSync:(id)sync;
- (BOOL)_shouldEarlyReturnForWrongItemType:(id)type;
- (BOOL)updateLegacyTransferGUIDOnMessageIfNeeded:(id)needed;
- (struct _IMDAttachmentRecordStruct { struct __CFRuntimeBase { unsigned long long x0; atomic  x1; unsigned long long x2; } x0; long long x1; struct __CFArray * x2; } *)_loadAttachmentRecordForGUID:(id)guid;
- (id)_newFileTransferFromIMDAttachmentRecordRef:(struct _IMDAttachmentRecordStruct { struct __CFRuntimeBase { unsigned long long x0; atomic  x1; unsigned long long x2; } x0; long long x1; struct __CFArray * x2; } *)ref;
- (id)_IMTransferGUIDForMessageGUID:(id)guid andIndex:(unsigned long long)index;
- (BOOL)_updateAttachmentGUID:(id)guid withGUID:(id)guid;
- (void)_reindexMessage:(id)message completion:(id /* block */)completion;
- (BOOL)_updateLegacyTransferGUIDOn:(id)guidon andUpdateMessageIfNeeded:(id)needed transfersToSync:(id)sync;
- (id)_updatedMessageBody:(id)body replacingGuid:(id)guid withGuid:(id)guid;
- (void)markAllAttachmentsAsNeedingCloudKitSync;
- (BOOL)deleteAttachmentsForMessage:(id)message;
- (BOOL)deleteAttachmentsWithGUIDs:(id)guids;
- (BOOL)deleteAttachmentDataForTransfer:(id)transfer;
- (BOOL)deleteAttachmentWithGUID:(id)guid;
- (BOOL)isSafeToDeleteAttachmentAtPath:(id)path;
- (void)deleteAttachmentsDirectWithPredicate:(id)predicate;
@end

#endif /* IMDAttachmentStore_h */
