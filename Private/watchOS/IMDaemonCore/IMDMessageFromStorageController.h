//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1262.300.81.4.10
//
#ifndef IMDMessageFromStorageController_h
#define IMDMessageFromStorageController_h
@import Foundation;

#include "IMDMessageStore.h"

@class IMTimingCollection, NSMutableSet, NSString, NSTimer;

@interface IMDMessageFromStorageController : NSObject

@property (retain, nonatomic) IMDMessageStore *messageStore;
@property (retain, nonatomic) NSString *serviceName;
@property (retain, nonatomic) NSTimer *storageTimer;
@property (retain, nonatomic) NSMutableSet *messagesReceivedDuringStorage;
@property (retain, nonatomic) IMTimingCollection *timingComingBackFromStorage;
@property (nonatomic) unsigned long long messagesProcessedComingBackFromStorage;
@property (retain, nonatomic) id _broadcasterForTesting;
@property (nonatomic) double storageTimerInterval;
@property (nonatomic) double lastMessageStorageTimerInterval;
@property (nonatomic) unsigned long long pendingReadReceiptFromStorageCount;

/* class methods */
+ (id)iMessageStorageController;
+ (id)SMSStorageController;

/* instance methods */
- (id)initWithMessageStore:(id)store;
- (id)broadcaster;
- (BOOL)isAwaitingStorageTimer;
- (void)noteSuppressedMessageUpdate:(id)update;
- (void)noteItemFromStorage:(id)storage;
- (void)noteLastItemFromStorage:(id)storage;
- (void)noteLastItemProcessed;
- (void)noteLastItemProcessedWithError:(unsigned long long)error;
- (void)_submitStorageMetricsWithError:(unsigned long long)error;
- (void)_updateStorageTimerWithInterval:(double)interval;
- (void)_storageTimerFired;
- (void)_postMessagesFromStorage:(id)storage;
- (void)incrementPendingReadReceiptFromStorageCount;
- (void)decrementPendingReadReceiptFromStorageCount;
@end

#endif /* IMDMessageFromStorageController_h */
