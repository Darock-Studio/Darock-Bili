//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1262.300.81.4.10
//
#ifndef IMDServiceSession_h
#define IMDServiceSession_h
@import Foundation;

#include "IMDAccount.h"
#include "IMDAutoReplying-Protocol.h"
#include "IMDChatRegistry.h"
#include "IMDService.h"
#include "IMDServiceSession.h"
#include "IMNetworkMonitorDelegate-Protocol.h"
#include "IMServiceSessionProtocol-Protocol.h"
#include "IMSystemMonitorListener-Protocol.h"

@class IMNetworkMonitor, IMOneTimeCodeUtilities, IMSystemProxySettingsFetcher, IMTimer, NSArray, NSDictionary, NSMutableArray, NSMutableDictionary, NSMutableSet, NSRecursiveLock, NSString, NSTimer;

@interface IMDServiceSession : NSObject<IMSystemMonitorListener, IMNetworkMonitorDelegate, IMServiceSessionProtocol> {
  /* instance variables */
  NSRecursiveLock *_lock;
  NSMutableDictionary *_localProperties;
  NSMutableSet *_changedBuddies;
  NSMutableDictionary *_groupChatIdentifierToChatRoomMap;
  NSMutableDictionary *_chatRoomToGroupChatIdentifierMap;
  IMTimer *_messageRoutingTimer;
  IMTimer *_messageExpireStateTimer;
  IMTimer *_messageWatchdogTimer;
  NSObject<IMDAutoReplying> *_messageAutoReplier;
  IMNetworkMonitor *_networkMonitor;
  NSTimer *_reconnectTimer;
  NSString *_loginID;
  NSString *_pwRequestID;
  IMSystemProxySettingsFetcher *_systemProxySettingsFetcher;
  int _buddyChangeLevel;
  BOOL _activated;
  BOOL _saveKeychainPassword;
  IMOneTimeCodeUtilities *_otcUtilities;
  BOOL _shouldReconnect;
  BOOL _badPass;
  NSMutableDictionary *_buddies;
}

@property (readonly, nonatomic) NSArray *allBuddies;
@property (readonly) NSDictionary *buddyProperties;
@property (readonly) NSDictionary *buddyPictures;
@property (readonly, nonatomic) int registrationStatus;
@property (readonly, nonatomic) int registrationError;
@property (readonly, nonatomic) NSDictionary *registrationAlertInfo;
@property (readonly, nonatomic) IMDChatRegistry *chatRegistry;
@property (readonly, nonatomic) NSArray *replicationSessions;
@property (readonly, nonatomic) IMDServiceSession *replicationProxy;
@property (readonly, nonatomic) IMDAccount *account;
@property (readonly, nonatomic) IMDService *service;
@property (readonly, weak, nonatomic) IMDServiceSession *mainSession;
@property (readonly, nonatomic) BOOL replicating;
@property (readonly, weak, nonatomic) IMDAccount *replicationAccount;
@property (readonly, weak, nonatomic) IMDService *replicationService;
@property (readonly, nonatomic) NSArray *accounts;
@property (readonly, nonatomic) NSString *accountID;
@property (readonly, nonatomic) NSString *password;
@property (readonly, nonatomic) NSDictionary *accountDefaults;
@property (readonly, nonatomic) NSString *serverHost;
@property (readonly, nonatomic) unsigned short serverPort;
@property (readonly, nonatomic) long long proxyType;
@property (readonly, nonatomic) NSString *proxyHost;
@property (readonly, nonatomic) unsigned short proxyPort;
@property (readonly, nonatomic) NSString *proxyAccount;
@property (readonly, nonatomic) NSString *proxyPassword;
@property (readonly, nonatomic) BOOL useSSL;
@property (readonly, nonatomic) BOOL isActive;
@property (readonly, nonatomic) NSString *displayName;
@property (readonly, nonatomic) BOOL accountNeedsLogin;
@property (readonly, nonatomic) BOOL accountNeedsPassword;
@property (readonly, nonatomic) BOOL accountShouldBeAlwaysLoggedIn;
@property (readonly, nonatomic) BOOL allowedAsChild;
@property (readonly, nonatomic) BOOL networkConditionsAllowLogin;
@property (readonly, nonatomic) BOOL overrideNetworkAvailability;

/* class methods */
+ (void)initialize;
+ (id)_firewallUserNotificationForService:(id)service;
+ (id)__allServiceSessionsWeakReferenceArray;
+ (void)__registerNewServiceSession:(id)session;
+ (id)allServiceSessions;
+ (id)existingServiceSessionForService:(id)service;

/* instance methods */
- (void)replayMessage:(id)message;
- (void)enqueReplayMessageCallback:(id /* block */)callback;
- (void)scheduleTransactionLogTask:(id)task;
- (void)disallowReconnection;
- (void)autoReconnect;
- (void)autoReconnectWithAccount:(id)account;
- (void)_doLoginIgnoringProxy:(BOOL)proxy;
- (void)_doLoginIgnoringProxy:(BOOL)proxy withAccount:(id)account;
- (void)_login_serverSettingsReadyWithAccount:(id)account;
- (void)_data_connection_readyWithAccount:(id)account;
- (void)_login_usernameAndPasswordReadyWithAccount:(id)account;
- (void)_login_checkUsernameAndPasswordWithAccount:(id)account;
- (void)systemProxySettingsFetcher:(id)fetcher retrievedHost:(id)host port:(unsigned short)port protocol:(long long)protocol;
- (void)systemProxySettingsFetcher:(id)fetcher retrievedAccount:(id)account password:(id)password;
- (void)autoLogin;
- (void)login;
- (void)loginWithAccount:(id)account;
- (void)logoutServiceSessionWithAccount:(id)account;
- (void)logout;
- (void)logoutWithAccount:(id)account;
- (void)serviceSessionDidLoginWithAccount:(id)account;
- (void)serviceSessionDidLogoutWithAccount:(id)account;
- (void)serviceSessionDidLogoutWithMessage:(id)message reason:(int)reason properties:(id)properties account:(id)account;
- (void)_wentOfflineWithAccount:(id)account;
- (void)__forceSetLoginStatus:(unsigned int)status oldStatus:(unsigned int)status message:(id)message reason:(int)reason properties:(id)properties account:(id)account;
- (void)_setAutoReconnectTimer;
- (void)_autoReconnectTimer:(id)timer;
- (void)_clearAutoReconnectTimer;
- (BOOL)warnIfPortBlocked:(int)blocked forAction:(id)action;
- (void)_handleFirewallUserNotificationDidFinish:(id)finish;
- (void)userNotificationDidFinish:(id)finish;
- (BOOL)hasCapability:(unsigned long long)capability;
- (id)server;
- (void)authenticateAccount:(id)account;
- (void)registerAccount:(id)account;
- (void)unregisterAccount:(id)account;
- (void)setRegistrationStatus:(int)status error:(int)error alertInfo:(id)info;
- (id)loginID;
- (void)noteBadPassword;
- (void)_abandonPWFetcher;
- (void)_abandonSystemProxySettingsFetcher;
- (void)accountDefaultsChanged:(id)changed;
- (void)passwordUpdatedWithAccount:(id)account;
- (void)loginServiceSessionWithAccount:(id)account;
- (unsigned long long)capabilities;
- (void)setBlockingMode:(unsigned int)mode;
- (unsigned int)blockingMode;
- (void)setAllowList:(id)list;
- (id)allowList;
- (void)setBlockList:(id)list;
- (id)blockList;
- (void)setBlockIdleStatus:(BOOL)status;
- (BOOL)blockIdleStatus;
- (void)requestGroups;
- (void)changeGroups:(id)groups;
- (void)changeGroup:(id)group changes:(id)changes;
- (void)renameGroup:(id)group to:(id)to;
- (void)acceptSubscriptionRequest:(BOOL)request from:(id)from;
- (void)requestSubscriptionTo:(id)to;
- (void)startWatchingBuddy:(id)buddy;
- (void)stopWatchingBuddy:(id)buddy;
- (void)requestProperty:(id)property ofPerson:(id)person;
- (void)setValue:(id)value ofProperty:(id)property ofPerson:(id)person;
- (id)defaultChatSuffix;
- (BOOL)shouldImitateGroupChatUsingChatRooms;
- (void)joinChat:(id)chat style:(unsigned char)style joinProperties:(id)properties;
- (void)joinChat:(id)chat style:(unsigned char)style groupID:(id)id joinProperties:(id)properties;
- (void)joinChat:(id)chat handleInfo:(id)info style:(unsigned char)style groupID:(id)id joinProperties:(id)properties;
- (void)joinChat:(id)chat handleInfo:(id)info style:(unsigned char)style groupID:(id)id lastAddressedHandle:(id)handle lastAddressedSIMID:(id)simid joinProperties:(id)properties;
- (void)leaveChat:(id)chat style:(unsigned char)style;
- (void)leaveiMessageChat:(id)chat style:(unsigned char)style;
- (void)removeChat:(id)chat style:(unsigned char)style;
- (void)invitePerson:(id)person withMessage:(id)message toChat:(id)chat style:(unsigned char)style;
- (void)invitePersonInfo:(id)info withMessage:(id)message toChat:(id)chat style:(unsigned char)style;
- (void)invitePersonInfoToiMessageChat:(id)chat withMessage:(id)message toChat:(id)chat style:(unsigned char)style;
- (void)invitePersonInfoToiMessageChat:(id)chat withMessage:(id)message toChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)sendGroupPhotoUpdate:(id)update toChatID:(id)id identifier:(id)identifier style:(unsigned char)style account:(id)account;
- (void)_requestGroupPhotoResendForChatGUID:(id)guid fromIdentifier:(id)identifier toIdentifier:(id)identifier;
- (void)retryGroupPhotoUpload:(id)upload toChatID:(id)id identifier:(id)identifier style:(unsigned char)style account:(id)account;
- (void)removePersonInfo:(id)info chatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)eagerUploadTransfer:(id)transfer recipients:(id)recipients;
- (void)eagerUploadCancel:(id)cancel;
- (void)removePersonInfoFromiMessageChat:(id)chat chatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)declineInvitationToChat:(id)chat style:(unsigned char)style;
- (void)setProperties:(id)properties ofParticipant:(id)participant inChat:(id)chat style:(unsigned char)style;
- (struct _FZChatRoomValidity { int x0; unsigned short x1; })validityOfChatRoomName:(id)name;
- (void)requestVCWithPerson:(id)person properties:(id)properties conference:(id)conference;
- (void)respondToVCInvitationWithPerson:(id)person properties:(id)properties conference:(id)conference;
- (void)cancelVCRequestWithPerson:(id)person properties:(id)properties conference:(id)conference;
- (void)sendCounterProposalToPerson:(id)person properties:(id)properties conference:(id)conference;
- (void)sendVCUpdate:(id)vcupdate toPerson:(id)person conference:(id)conference;
- (void)sendAVMessageToPerson:(id)person sessionID:(unsigned int)id type:(unsigned int)type userInfo:(id)info conference:(id)conference;
- (void)relay:(id)relay sendInitateRequest:(id)request toPerson:(id)person;
- (void)relay:(id)relay sendUpdate:(id)update toPerson:(id)person;
- (void)relay:(id)relay sendCancel:(id)cancel toPerson:(id)person;
- (void)closeSessionChat:(id)chat style:(unsigned char)style;
- (void)sendCommand:(id)command withProperties:(id)properties toPerson:(id)person;
- (void)sendCommand:(id)command withProperties:(id)properties toPerson:(id)person toChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)addAliases:(id)aliases account:(id)account;
- (void)removeAliases:(id)aliases account:(id)account;
- (void)validateAliases:(id)aliases account:(id)account;
- (void)unvalidateAliases:(id)aliases account:(id)account;
- (void)validateProfileWithAccount:(id)account;
- (void)updateAuthorizationCredentials:(id)credentials token:(id)token account:(id)account;
- (void)joinChatID:(id)id handleInfo:(id)info identifier:(id)identifier style:(unsigned char)style groupID:(id)id lastAddressedHandle:(id)handle lastAddressedSIMID:(id)simid joinProperties:(id)properties;
- (void)leaveChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)leaveiMessageChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)removeChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)invitePersonInfo:(id)info withMessage:(id)message toChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)declineInvitationToChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)sendMessage:(id)message toChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)sendJunkReportMessage:(id)message;
- (void)sendLogDumpMessageAtFilePath:(id)path toRecipient:(id)recipient shouldDeleteFile:(BOOL)file withCompletion:(id /* block */)completion;
- (void)setProperties:(id)properties ofParticipant:(id)participant inChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)closeSessionChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (BOOL)sendNicknameUpdatesToPeerDevices:(id)devices toDestinations:(id)destinations;
- (void)sendNicknameInfoToChatID:(id)id;
- (BOOL)reflectMarkUnreadToPeerDevicesForMessageGUID:(id)guid;
- (BOOL)reflectRecoverChatToPeerDevicesForMessageGUID:(id)guid;
- (void)sendEditedMessage:(id)message previousMessage:(id)message partIndex:(long long)index editType:(unsigned long long)type toChatIdentifier:(id)identifier style:(unsigned char)style account:(id)account backwardCompatabilityText:(id)text;
- (id)pictureOfBuddy:(id)buddy;
- (id)pictureKeyForBuddy:(id)buddy;
- (id)groups;
- (void)holdBuddyUpdates;
- (void)resumeBuddyUpdates;
- (void)markBuddiesAsChanged:(id)changed;
- (void)beginBuddyChanges;
- (void)changeProperty:(id)property ofBuddy:(id)buddy to:(id)to;
- (void)clearPropertiesOfBuddy:(id)buddy;
- (void)endBuddyChanges;
- (id)property:(id)property ofBuddy:(id)buddy;
- (id)localProperty:(id)property ofBuddy:(id)buddy;
- (void)clearLocalProperties;
- (id)localPropertiesOfBuddy:(id)buddy;
- (void)changeLocalProperty:(id)property ofBuddy:(id)buddy to:(id)to;
- (id)_sharedAccountController;
- (id)_sharedMessageStore;
- (void)useChatRoom:(id)room forGroupChatIdentifier:(id)identifier;
- (id)groupChatIdentifierForChatRoom:(id)room;
- (id)chatRoomForGroupChatIdentifier:(id)identifier;
- (id)_guidForChat:(id)chat style:(unsigned char)style;
- (void)registerChat:(id)chat groupID:(id)id style:(unsigned char)style;
- (void)registerChat:(id)chat style:(unsigned char)style;
- (void)registerChat:(id)chat style:(unsigned char)style handleInfo:(id)info;
- (void)registerChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info;
- (void)registerChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info account:(id)account;
- (void)registerChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle handleInfo:(id)info account:(id)account isBlackholed:(BOOL)blackholed;
- (void)registerChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle lastAddressedSIMID:(id)simid handleInfo:(id)info account:(id)account isBlackholed:(BOOL)blackholed;
- (void)canonicalizeChatIdentifier:(id *)identifier style:(unsigned char *)style;
- (void)_mapRoomChatToGroupChat:(id *)chat style:(unsigned char *)style;
- (id)existingChatsForGroupID:(id)id;
- (id)existingChatForID:(id)id;
- (id)existingChatsForIDs:(id)ids style:(unsigned char)style;
- (id)chatForChatIdentifier:(id)identifier style:(unsigned char)style;
- (id)chatForChatIdentifier:(id)identifier style:(unsigned char)style account:(id)account;
- (id)bestCandidateGroupChatWithFromIdentifier:(id)identifier toIdentifier:(id)identifier displayName:(id)name participants:(id)participants groupID:(id)id;
- (void)processMessageForSending:(id)sending toChat:(id)chat style:(unsigned char)style allowWatchdog:(BOOL)watchdog completionBlock:(id /* block */)block;
- (void)processMessageForSending:(id)sending toChat:(id)chat style:(unsigned char)style allowWatchdog:(BOOL)watchdog account:(id)account completionBlock:(id /* block */)block;
- (void)_configureAccountInformationOnItem:(id)item withAccount:(id)account;
- (void)_configureTimeOnOutgoingItem:(id)item;
- (void)_configureIdentifierForOutgoingItem:(id)item withIdentifier:(id)identifier withStyle:(unsigned char)style;
- (void)_configureSessionInformationOnItem:(id)item toChat:(id)chat withStyle:(unsigned char)style forAccount:(id)account;
- (void)_setOutgoingFlagsOnMessage:(id)message;
- (void)_messageStoreCompletion:(BOOL)completion inputMessage:(id)message outputMessage:(id)message originalMessage:(id)message completionBlock:(id /* block */)block;
- (id)_determineResultMessageForInput:(id)input output:(id)output original:(id)original;
- (BOOL)_shouldDropSendingMessage;
- (id)itemWithGUID:(id)guid;
- (id)chatForItemWithGUID:(id)guid;
- (void)storeItem:(id)item toChat:(id)chat style:(unsigned char)style;
- (void)sendMessage:(id)message toChat:(id)chat style:(unsigned char)style;
- (void)sendMessage:(id)message toChat:(id)chat style:(unsigned char)style account:(id)account;
- (void)sendReadReceiptForMessage:(id)message toChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)sendDeliveredQuietlyReceiptForMessage:(id)message forIncomingMessageFromIDSID:(id)idsid toChatGuid:(id)guid identifier:(id)identifier style:(unsigned char)style withWillSendToDestinationsHandler:(id /* block */)handler;
- (void)sendNotifyRecipientCommandForMessage:(id)message toChatGuid:(id)guid identifier:(id)identifier style:(unsigned char)style;
- (void)sendPlayedReceiptForMessage:(id)message toChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)sendSavedReceiptForMessage:(id)message toChatID:(id)id identifier:(id)identifier style:(unsigned char)style account:(id)account;
- (void)sendSavedReceiptForMessage:(id)message toChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)sendSyndicationAction:(id)action toChatsWithIdentifiers:(id)identifiers;
- (void)sendDeliveryReceiptForMessageID:(id)id toID:(id)id deliveryContext:(id)context needsDeliveryReceipt:(id)receipt callerID:(id)id account:(id)account;
- (void)_blastDoorProcessingWithIMMessageItem:(id)item chat:(id)chat account:(id)account fromToken:(id)token fromIDSID:(id)idsid fromIdentifier:(id)identifier toIdentifier:(id)identifier participants:(id)participants groupName:(id)name groupID:(id)id isFromMe:(BOOL)me isLastFromStorage:(BOOL)storage isFromStorage:(BOOL)storage hideLockScreenNotification:(BOOL)notification wantsCheckpointing:(BOOL)checkpointing needsDeliveryReceipt:(id)receipt messageBalloonPayloadAttachmentDictionary:(id)dictionary inlineAttachments:(id)attachments attributionInfoArray:(id)array nicknameDictionary:(id)dictionary availabilityVerificationRecipientChannelIDPrefix:(id)idprefix availabilityVerificationRecipientEncryptionValidationToken:(id)token idsService:(id)service messageContext:(id)context isFromTrustedSender:(BOOL)sender completionBlock:(id /* block */)block;
- (void)requestGroupPhotoIfNecessary:(id)necessary incomingGroupPhotoCreationTime:(id)time toIdentifier:(id)identifier fromIdentifier:(id)identifier messageIsFromStorage:(BOOL)storage;
- (void)sendLocationSharingInfo:(id)info toID:(id)id completionBlock:(id /* block */)block;
- (BOOL)_shouldBroadcastSendFailures;
- (void)didLeaveChat:(id)chat style:(unsigned char)style;
- (void)didLeaveChat:(id)chat style:(unsigned char)style account:(id)account;
- (void)didJoinChat:(id)chat style:(unsigned char)style;
- (void)didJoinChat:(id)chat style:(unsigned char)style handleInfo:(id)info;
- (void)didJoinChat:(id)chat style:(unsigned char)style handleInfo:(id)info account:(id)account;
- (void)didJoinChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info;
- (void)didJoinChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle handleInfo:(id)info;
- (void)didJoinChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle lastAddressedSIMID:(id)simid handleInfo:(id)info;
- (void)didJoinChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info category:(long long)category spamExtensionName:(id)name;
- (void)didJoinChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info account:(id)account isBlackholed:(BOOL)blackholed;
- (void)didJoinReadOnlyChat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info category:(long long)category spamExtensionName:(id)name;
- (void)didReceiveReplaceMessageID:(int)id forChat:(id)chat style:(unsigned char)style;
- (void)didReceiveErrorMessage:(id)message forChat:(id)chat style:(unsigned char)style;
- (void)didReceiveError:(unsigned int)error forMessageID:(id)id forceError:(BOOL)error;
- (void)didReceiveError:(unsigned int)error forMessageID:(id)id forceError:(BOOL)error account:(id)account;
- (void)didReceiveMessageEditingUnsupportedHandleIDs:(id)ids forMessageGUID:(id)guid partIndex:(long long)index previousMessage:(id)message backwardCompatibilityMessageGUID:(id)guid;
- (void)didReceiveMessageEditingSendFailure:(unsigned int)failure forMessageGUID:(id)guid partIndex:(long long)index editType:(unsigned long long)type;
- (void)didSendMessageEditForMessageGUID:(id)guid;
- (void)didSendMessageReadReceiptForMessageID:(id)id;
- (void)didSendMessageReadReceiptForMessageID:(id)id account:(id)account;
- (void)didSendDeliveredQuietlyReceiptForMessageID:(id)id;
- (void)didSendDeliveredQuietlyReceiptForMessageID:(id)id account:(id)account;
- (void)didSendNotifyRecipientCommandForMessageID:(id)id;
- (void)didSendNotifyRecipientCommandForMessageID:(id)id account:(id)account;
- (void)didSendMessagePlayedReceiptForMessageID:(id)id;
- (void)didSendMessagePlayedReceiptForMessageID:(id)id account:(id)account;
- (void)didSendMessageSavedReceiptForMessageID:(id)id;
- (void)didSendMessageSavedReceiptForMessageID:(id)id account:(id)account;
- (void)didSendSyndicationActionItem:(id)item forChat:(id)chat;
- (BOOL)didReceiveMessageDeliveryReceiptForMessageID:(id)id date:(id)date;
- (BOOL)didReceiveMessageDeliveryReceiptForMessageID:(id)id date:(id)date account:(id)account;
- (BOOL)_didReceiveMessageDeliveryReceiptForMessageID:(id)id attempts:(long long)attempts date:(id)date account:(id)account;
- (void)updateChatGUID:(id)guid withLastReadTimeStamp:(long long)stamp withLastSeenMessageGUID:(id)guid fromMe:(BOOL)me;
- (void)_didReceiveMessageReadForMessageID:(id)id date:(id)date attempts:(long long)attempts completionBlock:(id /* block */)block;
- (void)didReceiveMessageReadForMessageID:(id)id date:(id)date completionBlock:(id /* block */)block;
- (void)_didReceiveMessageReadReceiptForMessageID:(id)id date:(id)date attempts:(long long)attempts completionBlock:(id /* block */)block;
- (void)didReceiveMessageReadReceiptForMessageID:(id)id date:(id)date completionBlock:(id /* block */)block;
- (void)_didReceiveMessagePlayedForMessageID:(id)id date:(id)date attempts:(long long)attempts completionBlock:(id /* block */)block;
- (void)didReceiveMessagePlayedForMessageID:(id)id date:(id)date completionBlock:(id /* block */)block;
- (void)_didReceiveMessagePlayedReceiptForMessageID:(id)id date:(id)date attempts:(long long)attempts completionBlock:(id /* block */)block;
- (void)didReceiveMessagePlayedReceiptForMessageID:(id)id date:(id)date completionBlock:(id /* block */)block;
- (void)_didReceiveMessageSavedForMessageID:(id)id ofType:(long long)type forChat:(id)chat fromHandle:(id)handle fromMe:(BOOL)me date:(id)date attempts:(long long)attempts account:(id)account completionBlock:(id /* block */)block;
- (void)didReceiveMessageSavedForMessageID:(id)id ofType:(long long)type forChat:(id)chat fromHandle:(id)handle fromMe:(BOOL)me date:(id)date account:(id)account completionBlock:(id /* block */)block;
- (void)didSendMessage:(id)message forChat:(id)chat style:(unsigned char)style;
- (void)didSendMessage:(id)message forChat:(id)chat style:(unsigned char)style forceDate:(id)date;
- (void)didSendMessage:(id)message forChat:(id)chat style:(unsigned char)style account:(id)account forceDate:(id)date;
- (void)didSendMessage:(id)message forChat:(id)chat style:(unsigned char)style account:(id)account forceDate:(id)date itemIsComingFromStorage:(BOOL)storage;
- (void)notifyDidSendMessageID:(id)id;
- (void)notifyDidSendMessageID:(id)id shouldNotify:(BOOL)notify;
- (void)notifyDidSendMessageID:(id)id account:(id)account shouldNotify:(BOOL)notify;
- (void)sendDeleteCommand:(id)command forChatGUID:(id)guid;
- (void)didReceiveDisplayNameChange:(id)change fromID:(id)id toIdentifier:(id)identifier forChat:(id)chat style:(unsigned char)style account:(id)account;
- (void)didReceiveDisplayNameChange:(id)change fromID:(id)id toIdentifier:(id)identifier forChat:(id)chat style:(unsigned char)style account:(id)account sender:(id)sender;
- (void)_updateInputMessage:(id)message forExistingMessage:(id)message;
- (void)didReceiveMessage:(id)message forChat:(id)chat style:(unsigned char)style fromIDSID:(id)idsid;
- (void)didReceiveMessage:(id)message forChat:(id)chat style:(unsigned char)style account:(id)account fromIDSID:(id)idsid;
- (id)_transcodeController;
- (void)_setReplyGUIDOnMessage:(id)message forChat:(id)chat;
- (void)_setSortIDForMessage:(id)message forChat:(id)chat;
- (BOOL)_isActivated;
- (BOOL)didReceiveMessages:(id)messages forChat:(id)chat style:(unsigned char)style account:(id)account fromIDSID:(id)idsid;
- (BOOL)testOverrideTextValidationDidFail;
- (BOOL)_storeMessage:(id)message chatIdentifier:(id)identifier localChat:(id)chat style:(unsigned char)style account:(id)account messagesToPostArray:(id)array;
- (BOOL)_canUpgradeExistingMessageItem:(id)item replacementReplicatedMessageItem:(id)item;
- (void)didReceiveInvitation:(id)invitation forChat:(id)chat style:(unsigned char)style;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style account:(id)account;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style handleInfo:(id)info;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle handleInfo:(id)info;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle lastAddressedSIMID:(id)simid handleInfo:(id)info;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info account:(id)account isBlackholed:(BOOL)blackholed;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle lastAddressedSIMID:(id)simid handleInfo:(id)info account:(id)account isBlackholed:(BOOL)blackholed;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id handleInfo:(id)info account:(id)account category:(long long)category spamExtensionName:(id)name;
- (void)didUpdateChatStatus:(int)status chat:(id)chat style:(unsigned char)style displayName:(id)name groupID:(id)id lastAddressedHandle:(id)handle lastAddressedSIMID:(id)simid handleInfo:(id)info account:(id)account category:(long long)category spamExtensionName:(id)name isBlackholed:(BOOL)blackholed;
- (void)updateDisplayName:(id)name fromDisplayName:(id)name forChatID:(id)id identifier:(id)identifier style:(unsigned char)style;
- (void)didChangeMemberStatus:(int)status forHandle:(id)handle forChat:(id)chat style:(unsigned char)style;
- (void)didChangeMemberStatus:(int)status forHandle:(id)handle unformattedNumber:(id)number countryCode:(id)code forChat:(id)chat style:(unsigned char)style;
- (void)didChangeMemberStatus:(int)status forHandle:(id)handle fromHandle:(id)handle unformattedNumber:(id)number countryCode:(id)code forChat:(id)chat style:(unsigned char)style;
- (void)didChangeMemberStatus:(int)status forHandle:(id)handle fromHandle:(id)handle unformattedNumber:(id)number countryCode:(id)code forChat:(id)chat style:(unsigned char)style account:(id)account;
- (void)didChangeMemberStatus:(int)status forHandle:(id)handle fromHandle:(id)handle unformattedNumber:(id)number countryCode:(id)code forChat:(id)chat style:(unsigned char)style account:(id)account destinationCallerID:(id)id;
- (void)didChangeMemberStatus:(int)status forHandle:(id)handle fromHandle:(id)handle unformattedNumber:(id)number countryCode:(id)code forChat:(id)chat style:(unsigned char)style account:(id)account destinationCallerID:(id)id messageTime:(id)time;
- (BOOL)_shouldBlackholeGroupChatFromSender:(id)sender toRecipient:(id)recipient withOtherParticipants:(id)participants forAccount:(id)account;
- (Class)spotlightItemRecorderClass;
- (void)_removeChatGuidFromCoreDuet:(id)duet;
- (void)_markChatAsDowngraded:(id)downgraded;
- (void)_handleRoutingWithDictionary:(id)dictionary;
- (void)_updateRoutingForMessageGUID:(id)guid chatGUID:(id)guid error:(unsigned int)error account:(id)account;
- (void)_updateRoutingTimerWithInterval:(double)interval;
- (void)_routingTimerFired;
- (BOOL)canMakeExpireStateChecks;
- (void)_handleExpireStateDictionary:(id)dictionary;
- (void)_updateExpireStateForMessageGUID:(id)guid;
- (void)_updateExpireStateTimerWithInterval:(double)interval;
- (void)_expireStateTimerFired;
- (void)_handleWatchdogWithDictionary:(id)dictionary;
- (void)_updateWatchdogForMessageGUID:(id)guid;
- (void)_updateWatchdogTimerWithInterval:(double)interval;
- (void)_watchdogTimerFired;
- (id)_autoReplier;
- (void)autoReplier:(id)replier generatedAutoReplyText:(id)text forChat:(id)chat;
- (void)autoReplier:(id)replier receivedUrgentRequestForMessages:(id)messages;
- (void)autoReplier:(id)replier sendDeliveredQuietlyReceiptForMessages:(id)messages forIncomingMessageFromIDSID:(id)idsid inChat:(id)chat withWillSendToDestinationsHandler:(id /* block */)handler;
- (void)autoReplier:(id)replier sendNotifyRecipientCommandForMessages:(id)messages inChat:(id)chat;
- (id)otcUtilities;
- (void)_checkMessageForOneTimeCodes:(id)codes;
- (void)_checkMessageForENURL:(id)enurl;
- (void)didSendBalloonPayload:(id)payload forChat:(id)chat style:(unsigned char)style messageGUID:(id)guid account:(id)account completionBlock:(id /* block */)block;
- (void)didReceiveBalloonPayload:(id)payload forChat:(id)chat style:(unsigned char)style messageGUID:(id)guid account:(id)account;
- (id)storageController;
- (void)noteItemFromStorage:(id)storage;
- (void)noteSuppressedMessageUpdate:(id)update;
- (void)noteLastItemFromStorage:(id)storage;
- (void)noteLastItemProcessed;
- (BOOL)isAwaitingStorageTimer;
- (void)incrementPendingReadReceiptFromStorageCount;
- (void)decrementPendingReadReceiptFromStorageCount;
- (unsigned long long)pendingReadReceiptFromStorageCount;
- (void)setPendingReadReceiptFromStorageCount:(unsigned long long)count;
- (BOOL)_isMessageSWYSpamMessage:(id)message inChat:(id)chat;
- (BOOL)_shouldShowSWYQuickActionForMessage:(id)message outAppName:(id *)name outBundleID:(id *)id;
- (id)_predominantServiceForChat:(id)chat usingMessageThreshold:(unsigned long long)threshold;
- (id)_fetchMessagesFromChat:(id)chat onService:(id)service numberOfMessages:(unsigned long long)messages;
- (void)_configureSyndicationRangesForMessage:(id)message forChat:(id)chat withSyndicationStatus:(long long)status;
- (void)sendBalloonPayload:(id)payload attachments:(id)attachments withMessageGUID:(id)guid bundleID:(id)id;
- (void)updateBalloonPayload:(id)payload attachments:(id)attachments forMessageGUID:(id)guid;
- (BOOL)_shouldConvergeChatParticipants:(id)participants withHandleInfo:(id)info;
- (void)_calculateHandleInfoOverrideIfPermittedForChatIdentifier:(id)identifier style:(unsigned char)style completion:(id /* block */)completion;
- (void)storeMessage:(id)message forceReplace:(BOOL)replace modifyError:(BOOL)error modifyFlags:(BOOL)flags calculateUnreadCount:(BOOL)count flagMask:(unsigned long long)mask shouldStoreBlock:(id /* block */)block didStoreBlock:(id /* block */)block block:(id /* block */)block;
- (id)initWithAccount:(id)account service:(id)service;
- (id)initWithAccount:(id)account service:(id)service replicatingForSession:(id)session;
- (void)dealloc;
- (void)addAccount:(id)account;
- (void)removeAccount:(id)account;
- (BOOL)isReplicating;
- (void)_replicationSessionsChanged;
- (BOOL)acceptsIncomingReplicatedMessagesFromAccount:(id)account toIdentifier:(id)identifier isSOS:(BOOL)sos;
- (id)outgoingReplicationCallerIDForChat:(id)chat;
- (BOOL)isOutgoingReplicationEnabled;
- (id)preferredAccountForReplicationOnService:(id)service eligibleAccounts:(id)accounts;
- (void)sessionDidBecomeActive;
- (void)sessionWillBecomeInactiveWithAccount:(id)account;
- (void)_clearNetworkMonitor;
- (void)_updateNetworkMonitorWithRemoteHost:(id)host;
- (void)_updateNetworkMonitorFromAccountDefaultsIgnoringProxy:(BOOL)proxy;
- (void)_reconnectIfNecessary;
- (void)_reconnectIfNecessaryWithAccount:(id)account;
- (void)_processNetworkMonitorUpdate;
- (void)_setPendingNetworkMonitorUpdate;
- (BOOL)_processesNetworkEvents;
- (void)_processPotentialNetworkChange;
- (void)networkMonitorDidUpdate:(id)update;
- (void)_callMonitorStateChanged:(id)changed;
- (void)_networkChanged:(id)changed;
- (id)_IDSService;
- (void)processNetworkDataAvailabilityChange:(BOOL)change;
- (void)_managedPrefsNotification:(id)notification;
- (id)canonicalFormOfID:(id)id;
- (id)canonicalFormOfID:(id)id withIDSensitivity:(int)idsensitivity;
- (id)canonicalFormOfChatRoom:(id)room;
- (BOOL)equalID:(id)id andID:(id)id;
- (void)refreshServiceCapabilities;
- (id)broadcaster;
- (id)broadcasterForChatListeners;
- (id)broadcasterForChatListenersWithBlackholeStatus:(BOOL)status;
- (id)broadcasterForChatObserverListeners;
- (id)broadcasterForAVConferenceListeners;
- (id)broadcasterForACConferenceListeners;
- (id)broadcasterForVCConferenceListeners;
- (id)broadcasterForNotificationsListeners;
- (void)_clearDowngradeMarkersForChat:(id)chat;
- (BOOL)shouldInferRecoverableDeleteForCommandDictionary:(id)dictionary;
- (id)deleteCommandDictionaryWithIncomingDictionary:(id)dictionary inferredRecoverableDeleteForLegacyCommandsWithDate:(id)date;
- (void)_blocklistIfNeededForChatDict:(id)dict;
- (void)deleteChatsForCommandDictionary:(id)dictionary;
- (void)deleteMessagesForCommandDictionary:(id)dictionary;
- (void)recoverChatsForCommandDictionary:(id)dictionary;
- (void)deleteMessagePartsForCommandDictionary:(id)dictionary;
- (id)_chatsForDeleteAndRecoveryChatMetadataDictionary:(id)dictionary;
- (void)_updateLastMessageTimeStampForChat:(id)chat broadcaster:(id)broadcaster;
- (void)cancelScheduledMessageWithGUID:(id)guid;
- (void)cancelScheduledMessageWithGUID:(id)guid destination:(id)destination;
@end

#endif /* IMDServiceSession_h */
