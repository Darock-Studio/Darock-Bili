//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 617.1.17.12.4
//
#ifndef WebBookmarkCollection_h
#define WebBookmarkCollection_h
@import Foundation;

#include "SafariFetcherServerProxy.h"
#include "WBBookmarkProvider-Protocol.h"
#include "WBCollectionConfiguration.h"
#include "WBDatabaseLockAcquisitor.h"
#include "WBDatabaseLockAcquisitorDelegate-Protocol.h"
#include "WebBookmark.h"
#include "WebBookmarkList.h"
#include "WebBookmarkTitleWordTokenizer.h"

@class NSArray, NSNumber, NSString;
@protocol {unique_ptr<WebBookmarks::BookmarkSQLWriteTransaction, std::default_delete<WebBookmarks::BookmarkSQLWriteTransaction>>="__ptr_"{__compressed_pair<WebBookmarks::BookmarkSQLWriteTransaction *, std::default_delete<WebBookmarks::BookmarkSQLWriteTransaction>>="__value_"^{BookmarkSQLWriteTransaction}}};

@interface WebBookmarkCollection : NSObject<WBDatabaseLockAcquisitorDelegate, WBBookmarkProvider> {
  /* instance variables */
  struct sqlite3 * _db;
  struct __CFLocale * _locale;
  WebBookmarkTitleWordTokenizer *_wordTokenizer;
  int _favoritesFolderIdentifier;
  BOOL _dirty;
  SafariFetcherServerProxy *_safariFetcherServerProxy;
  BOOL _setupFinished;
  long long _mergeMode;
  WBDatabaseLockAcquisitor *_databaseLockAcquisitor;
  struct unique_ptr<WebBookmarks::BookmarkSQLWriteTransaction, std::default_delete<WebBookmarks::BookmarkSQLWriteTransaction>> { struct __compressed_pair<WebBookmarks::BookmarkSQLWriteTransaction *, std::default_delete<WebBookmarks::BookmarkSQLWriteTransaction>> { struct BookmarkSQLWriteTransaction *__value_; } __ptr_; } _currentTransaction;
}

@property (readonly, @dynamic, nonatomic) BOOL _usesCloudKit;
@property (readonly, nonatomic) long long _cloudKitLocalMigrationState;
@property (readonly, nonatomic) unsigned long long generation;
@property (readonly, nonatomic) BOOL containsOnlyStockBookmarks;
@property (readonly, nonatomic) BOOL merging;
@property (readonly, nonatomic) WBCollectionConfiguration *configuration;
@property (readonly, nonatomic) BOOL transactionCurrentlyActive;
@property (readonly, copy, nonatomic) NSArray *changeList;
@property (readonly, nonatomic) long long currentRecordGeneration;
@property (nonatomic) long long lastSyncedRecordGeneration;
@property (readonly, nonatomic) WebBookmark *rootBookmark;
@property (readonly, nonatomic) WebBookmarkList *rootList;
@property (readonly, nonatomic) WebBookmark *bookmarksBarBookmark;
@property (readonly, nonatomic) WebBookmarkList *bookmarksBarList;
@property (readonly, nonatomic) WebBookmark *readingListFolder;
@property (readonly, nonatomic) int readingListFolderBookmarkID;
@property (readonly, nonatomic) WebBookmark *webFilterAllowedSitesFolder;
@property (readonly, nonatomic) int webFilterAllowedSitesFolderBookmarkID;
@property (readonly, nonatomic) WebBookmarkList *webFilterAllowedSites;
@property (readonly, nonatomic) WebBookmark *favoritesFolder;
@property (readonly, nonatomic) WebBookmarkList *favoritesFolderList;
@property (readonly, nonatomic) WebBookmark *frequentlyVisitedSitesFolder;
@property (readonly, nonatomic) WebBookmarkList *frequentlyVisitedSitesList;
@property (readonly, copy, nonatomic) NSNumber *frequentlyVisitedSitesFolderBookmarkID;
@property (readonly, nonatomic) BOOL isEmpty;
@property (readonly, nonatomic) WebBookmarkList *bookmarksNeedingIcons;
@property (readonly, copy, nonatomic) NSArray *purgeableReadingListItems;
@property (readonly, nonatomic) unsigned long long purgeableSpace;
@property (readonly, nonatomic) unsigned long long rollingReadingListMaximumCount;
@property (readonly, nonatomic) WebBookmarkList *rollingListOfArchivedReadingListItems;
@property (readonly, nonatomic) BOOL hasInMemoryChanges;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (BOOL)isLockedSync;
+ (BOOL)_isLockedSync;
+ (BOOL)lockSync;
+ (BOOL)_lockSync;
+ (void)unlockSync;
+ (void)unlockSyncAsynchronously;
+ (void)_unlockSync;
+ (void)holdLockSync:(const void *)sync;
+ (void)unholdLockSync:(const void *)sync;
+ (void)_postBookmarksChangedSyncNotificationOnSyncQueue;
+ (id)_syncFlags;
+ (BOOL)isSyncAllowed;
+ (id)inMemoryChangeSet;
+ (id)_defaultDatabaseFileNameForConfiguration:(id)configuration;
+ (BOOL)_removeCorruptedBookmarksDatabaseAtPath:(id)path;
+ (id)collectionWithConfiguration:(id)configuration;
+ (id)databasePathForConfiguration:(id)configuration;
+ (id)inMemoryChangesFileURL;
+ (id)readingListArchivesDirectoryPath;
+ (id)safariDirectoryPath;
+ (unsigned long long)readingListArchivesDiskUsage;
+ (id)safariBookmarkCollection;
+ (id)_uniqueExternalUUID;
+ (id)_syncLockFileName;
+ (id)bookmarkImagesDirectoryPath;

/* instance methods */
- (id)_bookmarkDictionaryForSqliteRow:(struct sqlite3_stmt *)row recursive:(BOOL)recursive error:(id *)error;
- (BOOL)_addChildrenOfID:(int)id toCollection:(id)collection recursive:(BOOL)recursive error:(id *)error;
- (id)bookmarksDictionary;
- (BOOL)_syncAdd:(id)add toParent:(int)parent withOrderIndex:(unsigned int)index error:(id *)error;
- (BOOL)_mergeChildrenOfID:(int)id referencingBase:(id)base error:(id *)error;
- (BOOL)_markSpecialBookmarks;
- (BOOL)mergeWithBookmarksDictionary:(id)dictionary clearHidden:(BOOL)hidden error:(id *)error;
- (BOOL)mergeWithBookmarksDictionary:(id)dictionary clearHidden:(BOOL)hidden clearSyncData:(BOOL)data error:(id *)error;
- (void)removePersistedInMemoryBookmarkChangesFile;
- (BOOL)_syncPropertyExistsForKey:(id)key;
- (BOOL)_deleteSyncPropertyForKey:(id)key;
- (BOOL)syncSetString:(id)string forKey:(id)key;
- (BOOL)_syncSetString:(id)string forKey:(id)key updatedExistingKey:(BOOL *)key;
- (id)syncStringForKey:(id)key;
- (BOOL)setSyncData:(id)data forKey:(id)key;
- (id)syncDataForKey:(id)key;
- (id)allSyncDataForKeysWithPrefix:(id)prefix;
- (BOOL)removeAllSyncDataForKeyWithPrefix:(id)prefix;
- (BOOL)beginSyncTransaction;
- (void)commitSyncTransaction;
- (void)rollbackSyncTransaction;
- (void)_postBookmarksChangedSyncNotification;
- (void)_setSyncNotificationType:(long long)type;
- (BOOL)_setupWithPath:(id)path checkIntegrity:(BOOL)integrity;
- (BOOL)_openDatabaseAtPath:(id)path checkIntegrity:(BOOL)integrity error:(id *)error;
- (BOOL)_unsafeOpenDatabaseAtPath:(id)path checkIntegrity:(BOOL)integrity error:(id *)error;
- (void)_enableForeignKeys;
- (void)_enableAutoVacuum;
- (BOOL)_verifyAllTablesExist:(int *)exist;
- (BOOL)_checkDatabaseIntegrity;
- (id)initWithConfiguration:(id)configuration;
- (id)initWithConfiguration:(id)configuration checkIntegrity:(BOOL)integrity;
- (BOOL)_setupWithPath:(id)path migratingBookmarksPlist:(id)plist syncAnchorPlist:(id)plist checkIntegrity:(BOOL)integrity;
- (id)initWithPath:(id)path migratingBookmarksPlist:(id)plist syncAnchorPlist:(id)plist;
- (BOOL)_primaryCollection;
- (void)dealloc;
- (BOOL)cleanUpReadingListArchives;
- (BOOL)markArchivedReadingListItemsAsNonRecoverable;
- (BOOL)clearAllReadingListArchives;
- (BOOL)clearReadingListArchiveWithUUID:(id)uuid;
- (BOOL)updateReadingListWebFilterStatusForUnsetItemsOnly:(BOOL)only;
- (BOOL)markWebContentFilterAllowsAllReadingListItems;
- (BOOL)incrementalVacuumIfNeeded;
- (BOOL)vacuum;
- (BOOL)truncateWAL;
- (void)localeSettingsChanged;
- (unsigned long long)purge:(unsigned long long)purge;
- (BOOL)_isDatabaseWriteAllowed;
- (BOOL)maintainsSyncMetadata;
- (BOOL)isTransactionCurrentlyActive;
- (BOOL)performDatabaseUpdatesWithTransaction:(id /* block */)transaction secureDelete:(BOOL)delete;
- (BOOL)performDatabaseUpdatesWithTransaction:(id /* block */)transaction applyInMemoryChanges:(BOOL)changes secureDelete:(BOOL)delete;
- (void)logRegulatoryBookmarksRead;
- (id)bookmarkWithID:(int)id includingInMemoryChanges:(BOOL)changes;
- (id)bookmarkWithID:(int)id;
- (id)bookmarkWithUUID:(id)uuid;
- (id)validBookmarkUUIDsFromUUIDs:(id)uuids;
- (id)bookmarkAtPath:(id)path;
- (id)subfoldersOfID:(int)id;
- (id)descendantsOfBookmarkFolder:(id)folder;
- (BOOL)bookmarkContainsLeafBookmark:(id)bookmark;
- (unsigned long long)leafChildCountForBookmarksInFolderWithID:(int)id;
- (id)leafChildCountForFoldersInFolderWithID:(int)id;
- (unsigned int)orderIndexOfBookmark:(id)bookmark;
- (int)parentIdentifierOfBookmarkWithID:(int)id;
- (unsigned long long)modifiedAttributesOfBookmark:(id)bookmark;
- (int)identifierOfBookmarkWithUUID:(id)uuid;
- (id)_bookmarkUUIDsInFolderWithID:(int)id;
- (int)bookmarkIDWithSpecialID:(int)id;
- (id)listWithID:(int)id;
- (id)listWithSpecialID:(int)id;
- (id)listWithID:(int)id skipOffset:(unsigned int)offset;
- (id)listWithID:(int)id skipOffset:(unsigned int)offset includeHidden:(BOOL)hidden;
- (id)listWithID:(int)id skipOffset:(unsigned int)offset includeHidden:(BOOL)hidden includeDescendantsAsChildren:(BOOL)children filteredUsingString:(id)string;
- (id)readingListWithUnreadOnly:(BOOL)only;
- (id)readingListWithUnreadOnly:(BOOL)only filteredUsingString:(id)string;
- (id)_readingListItemsWhere:(id)where filteredBy:(id)by withInMemoryFilter:(id)filter;
- (id)_parentIdentifiersOfBookmarksNeedingIcons;
- (BOOL)shouldFetchIconForBookmark:(id)bookmark;
- (BOOL)markAllFavoritesAsNeedingIcons;
- (BOOL)deleteAllFavoriteIcons;
- (BOOL)saveBookmark:(id)bookmark;
- (BOOL)saveBookmarks:(id)bookmarks postNotification:(BOOL)notification;
- (BOOL)saveBookmark:(id)bookmark startReadingListFetcher:(BOOL)fetcher;
- (BOOL)_saveBookmark:(id)bookmark startReadingListFetcher:(BOOL)fetcher forApplyingInMemoryChanges:(BOOL)changes;
- (BOOL)deleteBookmark:(id)bookmark postChangeNotification:(BOOL)notification;
- (void)_deleteIconForBookmark:(id)bookmark;
- (BOOL)_deleteBookmarks:(id)bookmarks leaveTombstone:(BOOL)tombstone;
- (BOOL)deleteBookmarks:(id)bookmarks postChangeNotification:(BOOL)notification;
- (BOOL)_deleteBookmark:(id)bookmark postChangeNotification:(BOOL)notification forApplyingInMemoryChanges:(BOOL)changes;
- (BOOL)deleteBookmark:(id)bookmark;
- (BOOL)_moveBookmark:(id)bookmark toFolderWithID:(int)id;
- (BOOL)moveBookmark:(id)bookmark toFolderWithID:(int)id;
- (BOOL)moveBookmark:(id)bookmark fromIndex:(unsigned int)index toIndex:(unsigned int)index;
- (BOOL)_moveBookmark:(id)bookmark fromIndex:(unsigned int)index toIndex:(unsigned int)index;
- (BOOL)_reorderBookmark:(id)bookmark afterBookmark:(id)bookmark;
- (BOOL)_reorderBookmark:(id)bookmark toIndex:(unsigned int)index;
- (BOOL)_reorderBookmark:(id)bookmark toIndex:(unsigned int)index generateSyncPositionIfNeeded:(BOOL)needed;
- (BOOL)reorderBookmark:(id)bookmark toIndex:(unsigned int)index;
- (BOOL)reorderList:(id)list moveBookmarkAtIndex:(unsigned int)index toIndex:(unsigned int)index;
- (void)saveArchiveForReadingListBookmarkWithID:(int)id;
- (void)saveArchivesForReadingListBookmarks:(id)bookmarks;
- (void)deleteArchiveForReadingListBookmarkWithID:(int)id;
- (void)saveIconWithData:(id)data urlString:(id)string forBookmark:(id)bookmark;
- (void)saveAndMoveBookmark:(id)bookmark toFolderID:(int)id;
- (BOOL)_saveAndMoveBookmark:(id)bookmark toFolderID:(int)id;
- (BOOL)_saveAndMoveBookmark:(id)bookmark toFolderID:(int)id orderIndex:(unsigned int)index;
- (BOOL)_saveAndMoveBookmarks:(id)bookmarks toFolderID:(int)id;
- (BOOL)updateBookmarks:(id)bookmarks inFolderWithID:(int)id secureDelete:(BOOL)delete;
- (BOOL)_updateBookmarks:(id)bookmarks inFolderWithID:(int)id;
- (BOOL)fixCachedNumberOfChildrenIfNeeded;
- (struct sqlite3_stmt *)_prefixSearch:(id)search usingColumns:(const char *)columns maxCount:(unsigned int)count;
- (id)bookmarksMatchingString:(id)string;
- (void)_enumerateBookmarksForMatchStatement:(id)statement normalizedQuery:(id)query usingBlock:(id /* block */)block;
- (void)enumerateBookmarks:(BOOL)bookmarks andReadingListItems:(BOOL)items matchingString:(id)string usingBlock:(id /* block */)block;
- (id)_bookmarksFromStatementSelectingIDs:(const char *)ids withQuery:(id)query;
- (void)_addBookmarksForReadingListMatchStatement:(id)statement normalizedQuery:(id)query toArray:(id)array maxResults:(int)results;
- (id)readingListBookmarksMatchingString:(id)string maxResults:(unsigned int)results onlyArchivedBookmarks:(BOOL)bookmarks;
- (id)firstReadingListBookmarkWithURLMatchingString:(id)string prefixMatch:(BOOL)match;
- (unsigned long long)indexOfReadingListBookmark:(id)bookmark countingOnlyUnread:(BOOL)unread;
- (void)postBookmarksDidReloadNotification;
- (id)_tableExpressionForArchiveMode:(long long)mode;
- (id)_orderedWhereClauseForArchiveMode:(long long)mode automaticArchivingEnabled:(BOOL)enabled;
- (id)_orderedWhereClauseForArchiveMode:(long long)mode;
- (unsigned long long)countReadingListBookmarksNeedingArchiveInMode:(long long)mode automaticArchivingEnabled:(BOOL)enabled;
- (unsigned long long)countReadingListBookmarksNeedingArchiveInMode:(long long)mode;
- (id)firstReadingListBookmarkNeedingArchiveInMode:(long long)mode automaticArchivingEnabled:(BOOL)enabled;
- (id)firstReadingListBookmarkNeedingArchiveInMode:(long long)mode;
- (id)readingListBookmarksNeedingArchiveInMode:(long long)mode automaticArchivingEnabled:(BOOL)enabled;
- (id)readingListBookmarksNeedingArchiveInMode:(long long)mode;
- (void)_cullReadingListBookmarksList:(id)list toSize:(unsigned long long)size;
- (BOOL)rollOutLastReadingListItem;
- (void)rollOutReadingListItemIfNeededToMakeRoomForOneNewItem;
- (void)clearCarrierBookmarks;
- (unsigned int)_orderIndexForBookmarkInsertedIntoParent:(int)parent insertAtBeginning:(BOOL)beginning;
- (id)bookmarkWithSpecialID:(int)id;
- (id)_firstBookmarkWithURLMatchingString:(id)string prefixMatch:(BOOL)match inParent:(int)parent;
- (id)_mergeCandidateFolderWithTitle:(id)title parent:(int)parent mergeMode:(long long)mode;
- (id)_mergeCandidateBookmarkWithTitle:(id)title address:(id)address parent:(int)parent mergeMode:(long long)mode;
- (long long)_userVersion;
- (void)_createFreshDatabase;
- (void)_createSchema;
- (void)_clearAndCreateBookmarksTitleWordTable;
- (void)_clearAndCreateBookmarksTables;
- (void)_migrateSchemaVersion0ToVersion1;
- (void)_migrateSchemaVersion1And2ToVersion3;
- (void)_migrateSchemaVersion3ToVersion4;
- (void)_migrateSchemaVersion4ToVersion5;
- (void)_migrateSchemaVersion5ToVersion6;
- (void)_migrateSchemaVersion6ToVersion7;
- (void)_migrateSchemaVersion7ToVersion8;
- (void)_migrateSchemaVersion8ToVersion9;
- (void)_migrateSchemaVersion9ToVersion10;
- (void)_migrateSchemaVersion10ToVersion11;
- (void)_migrateSchemaVersion11And12And13ToVersion14;
- (void)_migrateSchemaVersion14ToVersion15;
- (void)_migrateSchemaVersion15ToVersion16;
- (void)_migrateSchemaVersion16AndVersion17AndVersion18ToVersion19;
- (void)_migrateSchemaVersion19And20ToVersion21;
- (void)_migrateSchemaVersion21ToVersion22;
- (void)_migrateSchemaVersion22ToVersion23;
- (void)_migrateSchemaVersion23ToVersion24;
- (void)_migrateSchemaVersion24ToVersion25;
- (void)_migrateSchemaVersion25ToVersion26;
- (void)_migrateSchemaVersion26ToVersion27;
- (void)_migrateSchemaVersion27ToVersion28;
- (void)_migrateSchemaVersion28ToVersion29;
- (void)_migrateSchemaVersion29ToVersion30;
- (void)_migrateSchemaVersion30ToVersion31;
- (void)_migrateSchemaVersion31ToVersion32;
- (void)_migrateSchemaVersion32ToVersion33;
- (void)_migrateSchemaVersion33ToVersion34;
- (void)_migrateSchemaVersion34ToVersion35;
- (void)_migrateSchemaVersion35ToVersion36;
- (void)_migrateSchemaVersion36ToVersion37;
- (void)_migrateSchemaVersion37ToVersion38;
- (void)_migrateSchemaVersion39Or40ToVersion41;
- (void)_migrateSchemaVersion41ToVersion42;
- (void)_migrateSchemaVersion42ToVersion43;
- (void)_migrateSchemaVersion43ToVersion44;
- (void)_migrateSchemaVersion44ToVersion45;
- (void)_migrateSchemaVersion46ToVersion47;
- (void)_migrateSchemaVersion47ToVersion48;
- (void)_migrateSchemaVersion48ToVersion49;
- (void)_migrateSchemaVersion49ToVersion50;
- (void)_migrateSchemaVersion50ToVersion51;
- (BOOL)migrateReadingListIconsFromDatabaseToBookmarkImagesDirectory;
- (void)_rerunMigrationsIfNecessary;
- (BOOL)_migrateToCurrentSchema;
- (BOOL)_migrateBookmarksPlist:(id)plist syncAnchorPlist:(id)plist;
- (BOOL)_restoreBookmarkBarIfMissing;
- (BOOL)_updateDatabaseIfNewerVersion:(id)version wasLaunchedForSyncStringKey:(id)key upgradeSelector:(SEL)selector versionType:(id)type;
- (BOOL)_updateDatabaseIfNewerSafariVersionWasLaunched;
- (BOOL)_updateDatabaseIfNewerOSVersionWasLaunched;
- (BOOL)_performSafariVersionUpgradesFromPreviousVersion:(id)version;
- (BOOL)_performOSVersionUpgradesFromPreviousVersion:(id)version;
- (BOOL)_restoreMissingSpecialBookmarksWithChangeNotification:(BOOL)notification;
- (void)_createRecoveredBookmarksFolderIfNeeded;
- (id)_rootFolderHiddenChildrenClause;
- (struct sqlite3_stmt *)_selectBookmarksWhere:(id)where;
- (struct sqlite3_stmt *)_selectBookmarksWhere:(id)where returnType:(long long)type;
- (struct sqlite3_stmt *)_sqliteStatementWithQuery:(id)query;
- (int)_finalizeStatementIfNotNull:(struct sqlite3_stmt *)null;
- (int)_sqliteStatementWithQuery:(id)query runInBlock:(id /* block */)block;
- (id)_errorForMostRecentSQLiteError;
- (id)_errorForMostRecentSQLiteErrorWithErrorCode:(long long)code;
- (int)_executeSQL:(id)sql;
- (int)_executeSQLWithCString:(const char *)cstring;
- (int)_intFromExecutingSQL:(id)sql;
- (BOOL)moveBookmark:(id)bookmark toFolderWithID:(int)id orderIndex:(unsigned int)index;
- (BOOL)_moveBookmark:(id)bookmark toFolderWithID:(int)id detectCycles:(BOOL)cycles;
- (BOOL)_moveBookmark:(id)bookmark toFolderWithID:(int)id orderIndex:(unsigned int)index detectCycles:(BOOL)cycles incrementGeneration:(BOOL)generation shouldMerge:(BOOL)merge generateSyncPositionIfNeeded:(BOOL)needed;
- (BOOL)_isTombstoneWithServerID:(id)id;
- (BOOL)_insertTombstoneWithServerID:(id)id syncData:(id)data;
- (BOOL)_clearAllTombstones;
- (BOOL)_clearTombstoneForBookmark:(id)bookmark;
- (BOOL)_clearSyncKeysUnderBookmarkID:(int)id isFolder:(BOOL)folder;
- (BOOL)_clearAllSyncKeys;
- (BOOL)clearAllSyncData;
- (BOOL)_clearAllSyncData;
- (BOOL)_shouldGenerateNewServerIDWhenClearingSyncDataForBookmark:(id)bookmark;
- (id)_generateNewServerIDForBookmark:(id)bookmark;
- (BOOL)deleteBookmark:(id)bookmark leaveTombstone:(BOOL)tombstone;
- (BOOL)_deleteBookmark:(id)bookmark leaveTombstone:(BOOL)tombstone;
- (BOOL)_deleteBookmark:(id)bookmark leaveTombstone:(BOOL)tombstone insertTombstoneBlock:(id /* block */)block;
- (BOOL)_deleteRecursively:(int)recursively descendantsOnly:(BOOL)only;
- (BOOL)_insertTombsonesRecursivelyForRootFolder:(id)folder insertTombstoneBlock:(id /* block */)block;
- (BOOL)_addBookmarkWithTitle:(id)title address:(id)address parentID:(int)id orderIndex:(unsigned int)index isFolder:(BOOL)folder externalUUID:(id)uuid associatedBookmark:(id)bookmark updateParentChildCount:(BOOL)count updateAncestorEntries:(BOOL)entries incrementGenerations:(BOOL)generations;
- (int)_specialIDForBookmarkTitle:(id)title;
- (int)_specialIDForBookmarkBeingSaved:(id)saved;
- (id)_databaseTitleForSpecialID:(int)id;
- (BOOL)_childrenOfParentBookmarkAreUnsyncable:(id)unsyncable;
- (long long)_mergeBookmarkIntoPersistedBookmark:(id)bookmark forAttributes:(unsigned long long)attributes;
- (BOOL)saveBookmark:(id)bookmark incrementGenerations:(BOOL)generations;
- (BOOL)_saveBookmark:(id)bookmark withSpecialID:(int)id updateGenerationIfNeeded:(BOOL)needed;
- (BOOL)_markBookmarkID:(int)id withSpecialID:(int)id;
- (BOOL)_updateCachedChildCountForParentID:(int)id inDirection:(int)direction;
- (BOOL)bookmarkRequiresParent:(id)parent specialID:(int)id;
- (id)serverIDForBookmarkID:(int)id;
- (id)_serverIDForBookmarkID:(int)id generateIfNeeded:(BOOL)needed;
- (int)bookmarkIDForServerID:(id)id excludeDeletedBookmarks:(BOOL)bookmarks;
- (id)bookmarkWithServerID:(id)id excludeDeletedBookmarks:(BOOL)bookmarks;
- (BOOL)setServerID:(id)id forBookmark:(id)bookmark;
- (BOOL)_setSyncKey:(id)key forBookmark:(id)bookmark;
- (BOOL)_setSyncData:(id)data forBookmark:(id)bookmark;
- (id)_syncKeysForServerIDs:(id)ids;
- (id)serverIDsInFolderWithServerID:(id)id excludeDeletedBookmarks:(BOOL)bookmarks;
- (id)_serverIDAtOrderIndex:(unsigned int)index inFolderWithServerID:(id)id;
- (BOOL)_unsafeOrderChildrenWithServerIDs:(id)ids inFolderWithServerID:(id)id excludeDeletedBookmarks:(BOOL)bookmarks;
- (BOOL)_orderChildrenWithServerIDs:(id)ids inFolderWithServerID:(id)id excludeDeletedBookmarks:(BOOL)bookmarks;
- (BOOL)_rebuildAncestorTable;
- (BOOL)_insertAncestorTableEntriesForBookmarkID:(int)id withParentID:(int)id;
- (BOOL)_deleteAncestorTableEntriesForBookmarkID:(int)id;
- (void)_normalizeSearchString:(struct __CFString *)string;
- (BOOL)_clearTitleWordsForBookmarkID:(int)id;
- (BOOL)_indexBookmarkID:(int)id title:(id)title;
- (BOOL)_reindexBookmarkID:(int)id title:(id)title;
- (BOOL)_indexAllTitleWords;
- (BOOL)_incrementGeneration;
- (void)_collectChangesOfType:(int)type withClause:(id)clause intoArray:(id)array;
- (BOOL)_clearChangeList;
- (BOOL)clearChangesForBookmark:(id)bookmark;
- (BOOL)_markBookmarkID:(int)id added:(BOOL)added;
- (BOOL)_incrementRecordGeneration;
- (void)_registerForSyncBookmarksFileChangedNotification;
- (void)_metaDataFileChanged:(id)changed;
- (void)_updateSyncNotificationType;
- (void)setFavoritesFolderIdentifier:(int)identifier postChangeNotification:(BOOL)notification;
- (int)_favoritesFolderIdentifier;
- (void)_clearCachedFavoritesFolderIdentifier;
- (void)setFavoritesFolder:(id)folder localOnly:(BOOL)only;
- (BOOL)bookmarkIsFavoritesFolder:(id)folder;
- (BOOL)bookmarkIsInFavoritesFolder:(id)folder;
- (id)frequentlyVisitedSitesFolderCreatingIfNeeded:(BOOL)needed;
- (id)frequentlyVisitedSitesFolderCreatingIfNeeded:(BOOL)needed postChangeNotification:(BOOL)notification;
- (BOOL)_clearFrequentlyVisitedSitesFolder:(BOOL)folder;
- (BOOL)clearFrequentlyVisitedSitesFolder;
- (BOOL)bookmarkIsFrequentlyVisitedSite:(id)site;
- (void)_postBookmarksDidReloadNotification;
- (void)_postBookmarksDidReloadNotificationAndStartReadingListFetcherIfChangesWereMade;
- (id)_folderContentsDidChangeNotificationName;
- (void)_postBookmarksFolderContentsDidChangeNotification:(int)notification;
- (void)_postBookmarksSpecialFoldersDidChangeNotification;
- (id)_safariFetcherServerProxy;
- (void)_startReadingListFetcher;
- (void)_simulateCrashWithDescription:(id)description;
- (BOOL)_importBookmarksPlist:(id)plist;
- (BOOL)_importSyncAnchorPlist:(id)plist;
- (void)_normalizeDatabaseURLs;
- (void)restoreOrMergeAllowedSitesFolderAndContentsWithChangeNotification:(BOOL)notification;
- (void)_restoreOrMergeAllowedSitesFolderAndContentsWithWebFilterAllowedSites:(id)sites ensureChildCount:(BOOL)count postChangeNotification:(BOOL)notification;
- (void)_restoreOrMergeReadingListFolderWithChangeNotification:(BOOL)notification;
- (BOOL)_ensureFolderChildrenCount:(id)count;
- (void)_clearAndCreateAncestorTable;
- (BOOL)_insertAncestorTableEntriesForBookmarkID:(int)id withAncestorIDs:(id)ids;
- (BOOL)_updateHiddenAncestorCountForBookmarksUnderFolderID:(int)id addingOffset:(int)offset;
- (id)fastFetchBookmarksInBookmarkList:(id)list;
- (id)_fastFetchBookmarksInBookmarkFolder:(int)folder includingHiddenBookmarks:(BOOL)bookmarks;
- (id)_fastFetchBookmarksInBookmarkFolder:(int)folder includingInMemoryChanges:(BOOL)changes;
- (id)_fastFetchBookmarksInBookmarkFolder:(int)folder options:(unsigned long long)options offset:(int)offset limit:(int)limit;
- (id)_fastFetchBookmarksInBookmarkFolder:(int)folder options:(unsigned long long)options offset:(int)offset limit:(int)limit includingInMemoryChanges:(BOOL)changes;
- (id)databaseHealthInformation;
- (BOOL)isMerging;
- (void)_setMergeMode:(long long)mode;
- (long long)_mergeMode;
- (BOOL)_trackChangesInMemoryIfDatabaseWriteIsNotAllowed;
- (void)_setupInMemoryChangeSet;
- (void)_createInMemoryChangeSet;
- (id)_inMemoryChangeSet;
- (void)persistChangesWithCompletion:(id /* block */)completion;
- (BOOL)applyInMemoryChangesToDatabase;
- (id)applyInMemoryChanges:(id)changes;
- (void)_applyInMemoryChange:(id)change fromChangeSet:(id)set updatedBookmarks:(id)bookmarks;
- (id)_applyInMemoryChanges:(id)changes postChangeNotification:(BOOL)notification;
- (void)databaseLockAcquisitor:(id)acquisitor acquiredLock:(BOOL)lock;
- (void)deleteBookmarkInMemory:(id)memory;
- (void)deleteBookmarksInMemory:(id)memory inFolder:(int)folder;
- (void)_deleteBookmarkInMemory:(id)memory;
- (void)addBookmarkInMemory:(id)memory toFolderWithID:(int)id;
- (void)modifyBookmarkInMemory:(id)memory;
- (void)moveBookmarkInMemory:(id)memory toFolderWithID:(int)id;
- (void)reorderBookmarkInMemory:(id)memory afterBookmark:(id)bookmark;
- (void)replaceBookmarksInMemory:(id)memory inFolderWithID:(int)id;
- (void)_enumerateContentsOfBookmarkFolder:(int)folder includingSubfolders:(BOOL)subfolders usingBlock:(id /* block */)block;
- (BOOL)deduplicateBookmarks;
- (BOOL)deduplicateBookmarksWithRootFolder:(int)folder depth:(unsigned long long)depth;
- (BOOL)_deduplicateBookmarksForSyncingAndTrackChanges:(BOOL)changes considerBookmarksWithSyncDataAsUnique:(BOOL)unique;
- (BOOL)_deduplicateBookmarksWithRootFolder:(int)folder depth:(unsigned long long)depth trackChanges:(BOOL)changes considerBookmarksWithSyncDataAsUnique:(BOOL)unique davHomeURL:(id)url;
- (BOOL)_deleteAndRebuildAncestorTableRecords;
- (BOOL)_recalculateCachedChildrenCountAndOrderIndices;
- (BOOL)_bookmarkHasSyncedToServer:(id)server;
- (BOOL)_bookmark:(id)_bookmark hasPriorityOverBookmarkForDeduplication:(id)deduplication prioritizeBookmarksWithSyncData:(BOOL)data davHomePath:(id)path;
- (BOOL)_bookmark:(id)_bookmark hasCurrentDAVHomePath:(id)path;
- (void)_appendDuplicateBookmarkGroupsInBookmarks:(id)bookmarks toGroups:(id)groups considerBookmarksWithSyncDataAsUnique:(BOOL)unique davHomePath:(id)path;
- (BOOL)_bookmark:(id)_bookmark isDuplicateOfBookmark:(id)bookmark;
- (id)_fetchBookmarkIDsInFolder:(int)folder onlyFolders:(BOOL)folders includingHiddenBookmarks:(BOOL)bookmarks;
- (BOOL)_mergeBookmark:(id)bookmark withOriginalBookmark:(id)bookmark prioritizeOriginalBookmarkAttributes:(BOOL)attributes generateChangesIfNeeded:(BOOL)needed;
- (void)updateSelectedFavoritesFolderWithBookmarkID:(int)id wasFavoritesFolder:(BOOL)folder isFavoritesFolder:(BOOL)folder;
- (long long)_syncType;
- (id)currentDeviceIdentifier;
- (unsigned int)orderIndexOfBookmark:(id)bookmark withSyncPosition:(id)position inFolderWithID:(int)id;
- (id)_positionBeforeBookmark:(id)bookmark;
- (id)_positionBeforeOrderIndex:(unsigned int)index inFolderWithID:(int)id;
- (id)_positionAfterBookmark:(id)bookmark;
- (id)_positionAfterOrderIndex:(unsigned int)index inFolderWithID:(int)id;
- (id)_generateSyncPositionForOrderIndex:(unsigned int)index inFolderWithID:(int)id direction:(long long)direction;
- (id)generateSyncPositionForBookmark:(id)bookmark;
- (id)databaseSyncData;
- (BOOL)saveDatabaseSyncData:(id)data;
- (BOOL)clearSyncDataAfterICloudKeychainReset;
- (BOOL)_clearSyncDataAfterICloudKeychainReset;
- (BOOL)updateDatabaseSyncDataUsingBlock:(id /* block */)block;
- (long long)nextDatabaseSyncChangeID;
- (id)modifiedSyncingAttributesForBookmark:(id)bookmark;
- (id)allSyncingAttributesForBookmark:(id)bookmark;
- (id)_syncDataForBookmarkID:(int)id;
- (id)_syncDataBlobForBookmarkServerID:(id)id;
- (id)syncDataForBookmark:(id)bookmark;
- (id)syncDataForBookmarkID:(int)id;
- (id)_syncDataForBookmarkServerID:(id)id;
- (BOOL)updateSyncDataForBookmark:(id)bookmark usingBlock:(id /* block */)block;
- (BOOL)updateSyncDataForBookmarkWithRecordName:(id)name excludeDeletedBookmarks:(BOOL)bookmarks usingBlock:(id /* block */)block;
- (void)enumerateDescendantsOfBookmark:(id)bookmark usingBlock:(id /* block */)block;
- (void)enumerateDescendantsOfBookmarkID:(int)id usingBlock:(id /* block */)block;
- (BOOL)markAttributesAsModified:(unsigned long long)modified forBookmark:(id)bookmark;
- (BOOL)updateBookmarkSyncPositionIfNeeded:(id)needed;
- (void)fixRecoveredBookmarksIfNeeded;
- (void)saveMinimumAPISyncVersionOfDescendantItemsForItem:(id)item includingAncestorItem:(BOOL)item;
- (void)_test_preventPeriodicallyApplyingInMemoryChangesToDatabase;
- (void)test_restoreMissingSpecialBookmarks;
@end

#endif /* WebBookmarkCollection_h */
