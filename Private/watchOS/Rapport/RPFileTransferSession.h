//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 524.1.0.0.0
//
#ifndef RPFileTransferSession_h
#define RPFileTransferSession_h
@import Foundation;

#include "NSSecureCoding-Protocol.h"
#include "RPConnection.h"
#include "RPFileTransferProgress.h"
#include "RPFileTransferResumeState.h"
#include "RPIdentity.h"
#include "RPMessageable-Protocol.h"

@class CUBonjourAdvertiser, CUBonjourBrowser, CUBonjourDevice, CUCoalescer, CUTCPServer, CUWiFiManager, NSData, NSMutableArray, NSMutableDictionary, NSMutableSet, NSString, NSURL;
@protocol OS_dispatch_queue, OS_dispatch_source;

@interface RPFileTransferSession : NSObject<NSSecureCoding, RPMessageable> {
  /* instance variables */
  BOOL _activateCalled;
  CUBonjourAdvertiser *_bonjourAdvertiser;
  CUBonjourBrowser *_bonjourBrowser;
  CUCoalescer *_bonjourCoalescer;
  CUBonjourDevice *_bonjourDevice;
  unsigned int _cnxIDLast;
  NSMutableSet *_connections;
  RPConnection *_controlCnx;
  NSObject<OS_dispatch_source> *_controlRetryTimer;
  int _controlState;
  int _debugNotifyToken;
  BOOL _finishPending;
  BOOL _invalidateCalled;
  BOOL _invalidateDone;
  BOOL _lockedInterface;
  RPIdentity *_peerIdentity;
  BOOL _peerInfraWiFiDisabled;
  NSMutableDictionary *_registeredEvents;
  NSMutableDictionary *_registeredRequests;
  RPIdentity *_selfIdentity;
  CUTCPServer *_tcpServer;
  struct LogCategory { int x0; int x1; char * x2; unsigned int x3; char * x4; char * x5; int x6; struct LogCategory * x7; struct LogOutput * x8; struct LogOutput * x9; unsigned long long x10; unsigned long long x11; unsigned int x12; unsigned int x13; char * x14; struct LogCategoryPrivate * x15; } * _ucat;
  CUWiFiManager *_wifiManager;
  NSMutableSet *_addedItems;
  BOOL _compressionEnabled;
  unsigned long long _fileIDLastReceive;
  unsigned long long _fileIDLastSend;
  NSMutableArray *_ioQueues;
  NSString *_receiveFileParentPath;
  unsigned long long _taskIDLast;
  NSMutableDictionary *_smallFilesReceiveTasks;
  NSMutableSet *_smallFilesSendTasks;
  NSMutableDictionary *_largeFileReceiveTasks;
  NSMutableSet *_largeFileSendTasks;
  unsigned int _fileWritesOutstanding;
  BOOL _resumable;
  RPFileTransferResumeState *_resumeState;
  double _resumeStateFlushInterval;
  BOOL _prefCompress;
  unsigned int _prefLargeFileBufferBytes;
  int _prefLargeFileMaxOutstanding;
  unsigned int _prefLargeFileMaxTasks;
  unsigned int _prefSmallFilesMaxBytes;
  unsigned int _prefSmallFilesMaxTasks;
  double _prefsStateFileFlushInterval;
  unsigned long long _metricCompressedBytes;
  unsigned long long _metricUncompressedBytes;
  unsigned long long _metricCompressionErrors;
  unsigned long long _metricUncompressibleChunks;
  unsigned int _metricDisconnects;
  unsigned long long _metricRetries;
  unsigned long long _metricLastFileCompletionTicks;
  unsigned long long _metricFileSizeBuckets[8];
  unsigned int _metricLinkTypeCountAWDL;
  unsigned int _metricLinkTypeCountOther;
  unsigned int _metricLinkTypeCountUSB;
  unsigned long long _metricNotEnoughFiles;
  unsigned long long _metricPrematureSmallSets;
  unsigned long long _metricTCPRanDryCount;
  unsigned long long _metricTicksConnected;
  unsigned long long _metricTicksConnectStart;
  unsigned long long _metricTicksActivate;
  unsigned long long _metricTotalBytes;
  unsigned long long _metricTotalFiles;
  unsigned int _metricTotalIOQueues;
}

@property (copy, nonatomic) NSData *selfPublicKey;
@property (copy, nonatomic) NSData *selfSecretKey;
@property (copy, nonatomic) id /* block */ completionHandler;
@property (nonatomic) unsigned long long debugFlags;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *dispatchQueue;
@property (nonatomic) unsigned int flags;
@property (copy, nonatomic) id /* block */ flowControlChangedHandler;
@property (readonly, nonatomic) int flowControlState;
@property (copy, nonatomic) NSString *label;
@property (copy, nonatomic) NSData *peerPublicKey;
@property (readonly, nonatomic) RPFileTransferProgress *progressCurrent;
@property (copy, nonatomic) id /* block */ progressHandler;
@property (copy, nonatomic) id /* block */ receivedItemHandler;
@property (copy, nonatomic) id /* block */ receivedItemsHandler;
@property (copy, nonatomic) NSString *targetID;
@property (copy, nonatomic) NSURL *temporaryDirectoryURL;
@property (retain, nonatomic) NSString *serviceType;

/* class methods */
+ (BOOL)supportsSecureCoding;

/* instance methods */
- (id)init;
- (id)initWithCoder:(id)coder;
- (void)encodeWithCoder:(id)coder;
- (void)dealloc;
- (id)description;
- (id)descriptionWithLevel:(int)level;
- (BOOL)isResumable;
- (id)resumeState;
- (BOOL)prepareTemplateAndReturnError:(id *)error;
- (void)activate;
- (BOOL)_activateAndReturnError:(id *)error;
- (void)invalidate;
- (void)_invalidate;
- (void)_invalidated;
- (void)_prefsChanged;
- (void)_reportCompletion:(id)completion;
- (void)_reportProgressControlState;
- (void)_reportProgressType:(int)type;
- (void)_updateIfNeededWithBlock:(id /* block */)block;
- (void)_updateWiFi;
- (void)_debugSetup;
- (void)_debugUpdate;
- (void)_metricAddFileSize:(long long)size;
- (void)registerEventID:(id)id options:(id)options handler:(id /* block */)handler;
- (void)deregisterEventID:(id)id;
- (void)sendEventID:(id)id event:(id)event options:(id)options completion:(id /* block */)completion;
- (void)sendEventID:(id)id event:(id)event destinationID:(id)id options:(id)options completion:(id /* block */)completion;
- (void)_receivedEventID:(id)id event:(id)event options:(id)options;
- (void)_receivedPeerUpdate:(id)update;
- (void)registerRequestID:(id)id options:(id)options handler:(id /* block */)handler;
- (void)deregisterRequestID:(id)id;
- (void)sendRequestID:(id)id request:(id)request options:(id)options responseHandler:(id /* block */)handler;
- (void)sendRequestID:(id)id request:(id)request destinationID:(id)id options:(id)options responseHandler:(id /* block */)handler;
- (void)_receivedRequestID:(id)id request:(id)request options:(id)options responseHandler:(id /* block */)handler;
- (BOOL)_activateSourceAndReturnError:(id *)error;
- (void)_handleDeviceFound:(id)found;
- (void)_handleDeviceLost:(id)lost;
- (void)_handleDevicesCoalesced;
- (void)_controlCnxRetryIfNeeded;
- (void)_controlCnxStartIfNeeded;
- (BOOL)_activateTargetAndReturnError:(id *)error;
- (void)_handleIncomingConnectionStarted:(id)started;
- (void)_handleIncomingConnectionEnded:(id)ended;
- (void)addItem:(id)item;
- (void)addItems:(id)items;
- (BOOL)_prepareItem:(id)item error:(id *)error;
- (void)_scheduleItems;
- (void)_requestResumeStateFromReceiver;
- (void)_completeItem:(id)item error:(id)error;
- (void)_completeItemDirect:(id)direct error:(id)error;
- (void)_processReceivedItem:(id)item responseHandler:(id /* block */)handler;
- (void)_processReceivedItems:(id)items responseHandler:(id /* block */)handler;
- (void)finish;
- (void)_processFinish;
- (id)_smallFilesSendTaskCreate;
- (void)_smallFilesSendTaskRun:(id)run;
- (id)_smallFilesSendTaskReadItem:(id)item error:(id *)error;
- (void)_smallFilesSendTaskEnd:(id)end error:(id)error;
- (void)_smallFilesReceiveRequest:(id)request responseHandler:(id /* block */)handler;
- (void)_smallFilesReceiveTaskRun:(id)run responseHandler:(id /* block */)handler;
- (BOOL)_smallFilesReceiveTaskFileItem:(id)item error:(id *)error;
- (void)_smallFilesReceiveTaskComplete:(id)complete error:(id)error responseHandler:(id /* block */)handler;
- (void)_updateSmallFilesTaskResumeState:(id)state error:(id)error;
- (id)_largeFileSendTaskCreate;
- (void)_largeFileSendTaskStart:(id)start;
- (void)_largeFileSendTaskNext:(id)next xid:(unsigned int)xid;
- (void)_largeFileSendTaskSend:(id)send data:(id)data end:(BOOL)end xid:(unsigned int)xid;
- (void)_largeFileSendTaskFailed:(id)failed error:(id)error;
- (void)_largeFileSendTaskResponse:(id)response error:(id)error end:(BOOL)end xid:(unsigned int)xid;
- (void)_largeFileSendTaskEnd:(id)end error:(id)error;
- (void)_largeFileReceiveRequest:(id)request responseHandler:(id /* block */)handler;
- (void)_resumeStateReceiveRequest:(id)request responseHandler:(id /* block */)handler;
- (void)_largeFileReceiveTaskRun:(id)run data:(id)data sendFlags:(unsigned int)flags responseHandler:(id /* block */)handler;
- (BOOL)_largeFileReceiveTaskUpdateSHA256CtxFromFileItem:(id)item length:(unsigned long long)length error:(id *)error;
- (void)_largeFileReceiveTaskRespond:(id)respond error:(id)error complete:(BOOL)complete responseHandler:(id /* block */)handler;
- (void)_largeFileReceiveTaskInvalidate:(id)invalidate;
- (void)_updateLargeFilesTaskResumeState:(id)state data:(id)data sendFlags:(unsigned int)flags error:(id)error complete:(BOOL)complete;
- (id)_compressData:(id)data error:(id *)error;
- (id)_decompressData:(id)data originalSize:(unsigned long long)size error:(id *)error;
- (id)_encodeAndCompressObject:(id)object originalSize:(unsigned long long *)size error:(id *)error;
- (id)_decompressAndDecodeData:(id)data originalSize:(unsigned long long)size error:(id *)error;
- (id)_ioQueueDequeue;
- (void)_ioQueueEnqueue:(id)enqueue;
- (int)_openReadFileItem:(id)item error:(id *)error;
- (int)_openReadPath:(const char *)path error:(id *)error;
- (int)_openWriteFileItem:(id)item size:(long long)size error:(id *)error;
- (int)_openWriteFileItem:(id)item size:(long long)size truncate:(BOOL)truncate error:(id *)error;
- (int)_openWritePath:(id)path size:(long long)size error:(id *)error;
- (int)_openWritePath:(id)path size:(long long)size truncate:(BOOL)truncate error:(id *)error;
- (id)_readPath:(const char *)path size:(unsigned long long)size error:(id *)error;
- (id)_readFD:(int)fd size:(unsigned long long)size error:(id *)error;
- (BOOL)_readFD:(int)fd buffer:(char *)buffer size:(unsigned long long)size error:(id *)error;
- (BOOL)_writeFD:(int)fd buffer:(const char *)buffer size:(unsigned long long)size error:(id *)error;
- (BOOL)_truncateFD:(int)fd size:(long long)size error:(id *)error;
- (id)_modTimeForFileWithPath:(const char *)path error:(id *)error;
@end

#endif /* RPFileTransferSession_h */
