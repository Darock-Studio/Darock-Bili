//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1062.0.0.0.0
//
#ifndef BLPurchaseDAAPServer_h
#define BLPurchaseDAAPServer_h
@import Foundation;

#include "BKPurchaseDAAPBackoff.h"
#include "BLPrivacyInfo.h"
#include "BLPurchaseDAAPServerDelegate-Protocol.h"

@class BUBag, NSDate, NSMutableSet, NSNumber;
@protocol OS_dispatch_queue;

@interface BLPurchaseDAAPServer : NSObject {
  /* instance variables */
  NSDate *_lastPolledAt;
  NSDate *_DAAPReconnectAt;
  BOOL _clientExpired;
  long long _requestReasonCode;
  NSMutableSet *_setupCompletionHandlers;
  BKPurchaseDAAPBackoff *_backoff;
  BUBag *_bag;
  NSObject<OS_dispatch_queue> *_updateItemsQueue;
  NSObject<OS_dispatch_queue> *_backoffQueue;
}

@property (nonatomic) BOOL isServerSetup;
@property (nonatomic) BOOL isServerSetupPending;
@property (readonly, nonatomic) BOOL primaryAccount;
@property (retain, nonatomic) NSNumber *bagDatabaseID;
@property (retain, nonatomic) NSNumber *sessionID;
@property (weak, nonatomic) NSObject<BLPurchaseDAAPServerDelegate> *delegate;
@property (retain, nonatomic) BLPrivacyInfo *privacyInfo;
@property (retain, nonatomic) NSNumber *dsid;

/* class methods */
+ (id)sharedSession;
+ (id)_clientIdentifier;

/* instance methods */
- (void)valueForDAAPBagKey:(id)key completion:(id /* block */)completion;
- (void)timeIntervalFromDAAPBagKey:(id)key completion:(id /* block */)completion;
- (void)appRefreshesOnLaunchWithCompletionHandler:(id /* block */)handler;
- (void)pollingFrequencyWithCompletionHandler:(id /* block */)handler;
- (void)databaseIDWithCompletionHandler:(id /* block */)handler;
- (void)forcedRefreshFrequencyWithCompletionHandler:(id /* block */)handler;
- (void)resetWithQueue:(id)queue;
- (void)serverParametersWithCompletionHandler:(id /* block */)handler;
- (id)_dataForArtRequest:(BOOL)request;
- (void)updateItemImageURLsIgnoringCache:(BOOL)cache completion:(id /* block */)completion;
- (id)_dataForHideItemsRequestWithStoreIDs:(id)ids;
- (void)_updateVersionAfterHideRequest:(id)request;
- (void)hideItemsWithStoreIDs:(id)ids completion:(id /* block */)completion;
- (void)setupWithReason:(long long)reason queue:(id)queue completion:(id /* block */)completion;
- (void)fetchAllItemsPolitely:(BOOL)politely reason:(long long)reason queue:(id)queue completion:(id /* block */)completion;
- (id)initWithDSID:(id)dsid delegate:(id)delegate privacyInfo:(id)info;
- (void)dealloc;
- (void)contextDidSave:(id)save;
- (BOOL)_saveInMoc:(id)moc error:(id *)error;
- (id)_localServerDatabaseRevisionInMoc:(id)moc;
- (BOOL)_updatePersistentServerRevision:(id)revision database:(id)database items:(id)items error:(id *)error;
- (id)_updatePersistentServerRevision:(id)revision moc:(id)moc error:(id *)error;
- (id)_updatePersistentDatabase:(id)database server:(id)server moc:(id)moc error:(id *)error;
- (id)_updatePersistentItems:(id)items moc:(id)moc database:(id)database error:(id *)error;
- (void)_sendHandlers:(id)handlers success:(BOOL)success;
- (void)_sendSetupConfigurationHandlersWithSuccess:(BOOL)success;
- (BOOL)_isGDPRPrivacyAcknowledgementRequired;
- (void)_shouldMakeRequest:(id /* block */)request;
- (void)_preProcessResponse:(id)response error:(id)error responseBlock:(id /* block */)block;
- (id)_newDefaultAuthenticateOptions;
- (id)_processResponse:(id)response;
- (void)handleClientExpired;
- (BOOL)_canMakeDAAPRequest;
- (void)setDAAPReconnectToTimeIntervalSinceNow:(double)now;
- (void)_configureWithReason:(long long)reason completion:(id /* block */)completion;
- (void)_loginWithReason:(long long)reason completion:(id /* block */)completion;
- (void)_loginWithRequest:(id)request completion:(id /* block */)completion;
- (void)_pollLatestRevisionWithReason:(long long)reason completion:(id /* block */)completion;
- (void)_fetchDatabaseWithReason:(long long)reason localServerRevision:(id)revision latestVersion:(id)version completionHandler:(id /* block */)handler;
- (void)_fetchDatabaseWithRequest:(id)request completionHandler:(id /* block */)handler;
- (id)daapQueryFilterString;
- (id)daapMetaDataFilterString;
- (id)additionalAudiobookInfoKeys;
- (id)bookletKeys;
- (id)_dataForItemsRequestWithLocalVersion:(id)version serverVersion:(id)version tokenPairs:(id)pairs;
- (void)_fetchItemsWithLocalVersion:(id)version serverVersion:(id)version reason:(long long)reason tokenPairs:(id)pairs completionHandler:(id /* block */)handler;
- (void)_setSessionID:(id)id;
- (BOOL)isPrimaryAccount;
@end

#endif /* BLPurchaseDAAPServer_h */
