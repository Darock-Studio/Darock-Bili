//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3302.3.1.0.0
//
#ifndef CKVIndexUpdater_h
#define CKVIndexUpdater_h
@import Foundation;

#include "CKVDatabaseUpdater.h"
#include "CKVDiffUpdateCache.h"
#include "CKVFTSIndexUpdater.h"
#include "CKVInstanceInfoLog.h"
#include "CKVSkitUpdater.h"

@interface CKVIndexUpdater : NSObject {
  /* instance variables */
  CKVInstanceInfoLog *_instanceLog;
  CKVDatabaseUpdater *_databaseUpdater;
  CKVFTSIndexUpdater *_ftsUpdater;
  CKVSkitUpdater *_skitUpdater;
  id /* block */ _completion;
  unsigned int _storedItemCount;
  unsigned int _addOrUpdateCount;
  unsigned int _removeCount;
  unsigned short _options;
  unsigned long long _rankCounter;
  long long _itemType;
  CKVDiffUpdateCache *_diffUpdateCache;
}

@property (nonatomic) BOOL updateStatus;
@property (readonly, nonatomic) unsigned short updaterOptions;
@property (readonly, nonatomic) unsigned short incrementalErrorCode;

/* class methods */
+ (id)updaterForRequest:(id)request indexManager:(id)manager settings:(id)settings timeout:(double)timeout;
+ (BOOL)_rebuildSkitWithAllVocabularyForUser:(id)user indexManager:(id)manager settings:(id)settings;

/* instance methods */
- (id)initWithRequest:(id)request settings:(id)settings instanceLog:(id)log database:(id)database skit:(id)skit completion:(id /* block */)completion;
- (BOOL)isIncremental;
- (BOOL)isOrdered;
- (BOOL)isPriorDatasetOrdered;
- (id)initWithRequest:(id)request updaterOptions:(unsigned short)options errorCode:(unsigned short)code instanceLog:(id)log databaseUpdater:(id)updater ftsUpdater:(id)updater skitUpdater:(id)updater options:(unsigned short)options completion:(id /* block */)completion;
- (unsigned long long)priorVersion;
- (id)modifiedFieldTypes;
- (void)_complete;
- (BOOL)addOrUpdateItems:(id)items;
- (BOOL)removeItemId:(id)id;
- (BOOL)finish:(unsigned short *)finish;
- (void)abort;
- (unsigned long long)_incrementOrdinal;
- (void)_diffUpdateItems:(id)items;
- (void)_deleteStaleItems;
- (void)_deleteAllItems;
- (void)_logSkitUpdate;
@end

#endif /* CKVIndexUpdater_h */
