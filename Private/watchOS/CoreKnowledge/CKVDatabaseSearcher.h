//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3302.3.1.0.0
//
#ifndef CKVDatabaseSearcher_h
#define CKVDatabaseSearcher_h
@import Foundation;

#include "CKVIndexManager.h"

@interface CKVDatabaseSearcher : NSObject {
  /* instance variables */
  CKVIndexManager *_idxMgr;
}

/* class methods */
+ (BOOL)enumerateAllLocalItemsWithBatchSize:(unsigned long long)size database:(id)database error:(id *)error usingBlock:(id /* block */)block;
+ (id)selectAllDatasetsFromDatabases:(id)databases outDatasetCount:(unsigned int *)count error:(id *)error;
+ (id)selectAllDatasets:(id)datasets error:(id *)error;
+ (id)selectDatasetsWithItemTypes:(id)types database:(id)database error:(id *)error;
+ (id)countDatasetItems:(id)items database:(id)database error:(id *)error;
+ (BOOL)_selectProvenanceRecord:(id *)record withProvenanceRowId:(id)id database:(id)database error:(id *)error;
+ (BOOL)_selectContentRecord:(id *)record withDatasetRowId:(id)id withContentHash:(id)hash database:(id)database error:(id *)error;
+ (BOOL)_selectContentAndProduceItem:(id *)item withProvenanceRecord:(id)record database:(id)database error:(id *)error;
+ (id)_selectItemForLocalInstance:(id)instance outInstanceHash:(id *)hash database:(id)database error:(id *)error;
+ (BOOL)enumerateLocalItemsOfDataset:(id)dataset database:(id)database batchSize:(unsigned long long)size uptoRank:(id)rank error:(id *)error usingBlock:(id /* block */)block;
+ (BOOL)enumerateAllItemsOfDataset:(id)dataset database:(id)database batchSize:(unsigned long long)size error:(id *)error usingBlock:(id /* block */)block;
+ (BOOL)_enumerateLocalItemsWithBatchSize:(unsigned long long)size offset:(unsigned long long)offset enumerateAll:(BOOL)all database:(id)database error:(id *)error usingBlock:(id /* block */)block;
+ (id)_datasetRowIdToRecordMap:(id)map error:(id *)error;
+ (id)_datasetRowIdToDatasetHashMap:(id)map;
+ (id)_datasetRecordForOriginAppId:(id)id itemType:(long long)type database:(id)database error:(id *)error;

/* instance methods */
- (id)initWithIndexManager:(id)manager;
- (id)searchLocalFTSWithCriteria:(id)criteria sortByRelevance:(BOOL)relevance error:(id *)error;
- (id)_selectItemsWithRecordIds:(id)ids databaseConnection:(id)connection error:(id *)error;
- (BOOL)_enumerateResultsOfFTSSearch:(id)ftssearch searchCriteria:(id)criteria sortByRelevance:(BOOL)relevance error:(id *)error usingBlock:(id /* block */)block;
- (BOOL)enumerateLocalItemsBatchWithSize:(unsigned long long)size offset:(unsigned long long)offset error:(id *)error usingBlock:(id /* block */)block;
- (id)computeAllDatasetStatistics;
- (BOOL)enumerateLocalItemsLastModifiedForOriginAppId:(id)id itemType:(long long)type batchSize:(unsigned long long)size error:(id *)error usingBlock:(id /* block */)block;
- (id)selectLocalDeletedAppSpecificDatasetOriginAppIdsWithItemType:(long long)type batchSize:(unsigned long long)size error:(id *)error;
@end

#endif /* CKVDatabaseSearcher_h */
