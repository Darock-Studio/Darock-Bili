//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2398.45.8.0.0
//
#ifndef NTKNightModeTriggerManager_h
#define NTKNightModeTriggerManager_h
@import Foundation;

#include "NTKAmbientIlluminationMonitor.h"
#include "NTKAmbientIlluminationMonitorDelegate-Protocol.h"
#include "NTKMovingStatistic-Protocol.h"
#include "NTKNightModeTriggerSettings.h"

@class CLKClockTimerToken, NSHashTable, NSString;

@interface NTKNightModeTriggerManager : NSObject<NTKAmbientIlluminationMonitorDelegate> {
  /* instance variables */
  NTKNightModeTriggerSettings *_settings;
  NTKAmbientIlluminationMonitor *_ambientIlluminationMonitor;
  NSObject<NTKMovingStatistic> *_luxStatistic;
  NSObject<NTKMovingStatistic> *_nitsStatistic;
  CLKClockTimerToken *_clockTimerToken;
  NSHashTable *_observers;
  BOOL _lastIsTriggered;
  double _lastSmoothedLux;
  double _lastThresholdOffset;
  double _lastThresholdLow;
  double _lastThresholdHigh;
  double _lastSmoothedNits;
  BOOL _lastTargetTrigger;
  double _lastSensorLux;
  double _lastCurrentNits;
  unsigned long long _lastSampleSize;
  unsigned long long _lastIsReady;
  unsigned long long _skippedLogs;
  BOOL _isN199;
  double _activeTime;
  double _sensorReadingsTime;
}

@property (nonatomic) BOOL nightModeTriggered;
@property (readonly, copy, nonatomic) NSString *faceAnalyticsIdentifier;
@property (nonatomic) double thresholdLuxLow;
@property (nonatomic) double thresholdLuxHigh;
@property (nonatomic) BOOL nightModeDetectionEnabled;
@property (nonatomic) double currentFaceAPL;
@property (nonatomic) double thresholdOffset;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)initWithFaceAnalyticsIdentifier:(id)identifier;
- (void)dealloc;
- (void)addObserver:(id)observer;
- (void)removeObserver:(id)observer;
- (void)_setNightModeTriggered:(BOOL)triggered;
- (void)_notifyObservers;
- (void)ambientIlluminationMonitor:(id)monitor receivedAmbientLux:(double)lux;
- (void)ambientIlluminationMonitor:(id)monitor receivedDisplayNits:(double)nits;
- (void)_startClockTimer;
- (void)_stopClockTimer;
- (void)_updateAverageWithLux:(double)lux;
- (void)_updateAverageWithCurrentLux;
- (void)_updateAverageWithNits:(double)nits;
- (void)_updateAverageWithCurrentNits;
- (double)_smoothedLux;
- (double)_smoothedNits;
- (double)_alsLatency;
- (BOOL)_isReady;
- (void)_updateTriggerState;
- (void)thresholdsChanged:(id)changed;
- (void)sampleSizeChanged:(id)changed;
- (BOOL)isNightModeDetectionEnabled;
- (BOOL)isNightModeTriggered;
@end

#endif /* NTKNightModeTriggerManager_h */
