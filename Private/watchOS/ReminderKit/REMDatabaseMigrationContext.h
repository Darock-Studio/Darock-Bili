//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1004.0.0.0.0
//
#ifndef REMDatabaseMigrationContext_h
#define REMDatabaseMigrationContext_h
@import Foundation;

#include "REMStore.h"
#include "REMStoreContainerToken.h"

@class NSDate, NSError, NSString;

@interface REMDatabaseMigrationContext : NSObject

@property (nonatomic) BOOL isDatabaseMigrated;
@property (retain, nonatomic) REMStoreContainerToken *containerToken;
@property (retain, nonatomic) REMStore *cachedStore;
@property (retain, nonatomic) NSDate *migrationStartDate;
@property (nonatomic) BOOL hasPerformedEnsureAccountsExist;
@property (retain, nonatomic) NSString *lastReportedErrorIdentifier;
@property (nonatomic) unsigned long long lastReportedErrorStage;
@property (retain, nonatomic) NSError *lastReportedError;
@property (readonly, nonatomic) BOOL shouldDeleteMigratedData;

/* instance methods */
- (id)init;
- (id)initWithSandboxDatabaseEnabled:(BOOL)enabled;
- (void)setShouldDataAccessStopSyncingReminders:(BOOL)reminders;
- (id)remStore;
- (void)destroySandboxContainerIfNecessary;
- (void)dealloc;
- (void)reportMigrationWillBegin;
- (void)reportMigrationErrorWithIdentifier:(id)identifier atStage:(unsigned long long)stage error:(id)error objectLocator:(id)locator;
- (void)_postMigrationLocalAccountCleanup;
- (void)reportMigrationDidFinishWithSuccess:(BOOL)success;
- (void)_diagnosticReportWithStage:(unsigned long long)stage failureIdentifier:(id)identifier error:(id)error;
- (BOOL)ensureAccountsExistWithMigrationAccountInfos:(id)infos error:(id *)error;
- (BOOL)ensureAccountsExist:(id)exist error:(id *)error;
- (BOOL)ensureAccountsExist:(id *)exist;
- (id)_migrationAccountInfosFromDEPRECATEDInfoDictionaryList:(id)list;
- (BOOL)_cleanLocalDatabases:(id *)databases;
@end

#endif /* REMDatabaseMigrationContext_h */
