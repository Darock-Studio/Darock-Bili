//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1814.300.81.4.2
//
#ifndef IDSStunCandidatePair_h
#define IDSStunCandidatePair_h
@import Foundation;

#include "IDSGFTMetricsLink.h"
#include "IDSQUICConnectionIDs.h"
#include "IDSQuickRelaySessionInfo.h"
#include "IDSStunCandidate.h"
#include "IDSStunCandidatePairDelegate-Protocol.h"

@class NSData, NSDictionary, NSMutableArray, NSMutableDictionary, NSMutableSet, NSString, NSUUID;
@protocol IDSGlobalLinkP2PKeyNegotiationProtocol, IDSGlobalLinkP2PNegotiatedKeysProtocol, OS_dispatch_source;

@interface IDSStunCandidatePair : NSObject {
  /* instance variables */
  NSObject<IDSStunCandidatePairDelegate> *_delegate;
  NSMutableSet *_pendingProtoRequests;
  NSMutableDictionary *_requestIDToQueryLinkIDs;
  NSMutableDictionary *_requestIDToSessionInfoReqType;
  NSMutableDictionary *_stunSentBytesToRequestID;
  NSMutableDictionary *_pluginNameToStunReqID;
  NSMutableDictionary *_requestIDToStatsIDs;
  NSObject<OS_dispatch_source> *_sessionConnectedTimer;
  id /* block */ _sessionConnectedTimeoutBlock;
  NSObject<OS_dispatch_source> *_sessionConvergenceTimer;
  id /* block */ _sessionConvergenceBlock;
  NSObject<OS_dispatch_source> *_sessionGoAwayTimer;
  id /* block */ _sessionGoAwayBlock;
  NSObject<OS_dispatch_source> *_reallocTimer;
  NSObject<OS_dispatch_source> *_noSessionStateTimer;
  unsigned short _testRequestedMessageType;
  NSObject<OS_dispatch_source> *_probingTimer;
  BOOL _isPseudoParticipant;
  BOOL _sessionIsNonUserParticipantInitiated;
}

@property (nonatomic) unsigned long long state;
@property (readonly) IDSStunCandidate *local;
@property (readonly) IDSStunCandidate *remote;
@property (retain) IDSStunCandidate *relayRemote;
@property (nonatomic) BOOL isNominated;
@property (nonatomic) BOOL isActive;
@property (nonatomic) BOOL isConnectToQRIPv6Enabled;
@property (nonatomic) double lastIncomingPacketTime;
@property (nonatomic) double lastOutgoingPacketTime;
@property (nonatomic) double lastStatsReport;
@property (nonatomic) unsigned int totalPacketsSentOnLink;
@property (nonatomic) unsigned int totalPacketsReceivedOnLink;
@property (nonatomic) BOOL hbStarted;
@property (nonatomic) double hbStartTime;
@property (readonly, nonatomic) unsigned short hbCounter;
@property (readonly, nonatomic) unsigned char statsIntervalInSeconds;
@property (readonly) NSData *hbhSalt;
@property (copy) NSData *hbhEncKey;
@property (copy) NSData *hbhDecKey;
@property (nonatomic) char linkID;
@property (copy) NSUUID *linkUUID;
@property (retain) NSObject<OS_dispatch_source> *allocbindFailoverTimer;
@property (readonly) NSString *sessionID;
@property (readonly) NSData *relaySessionToken;
@property (readonly) NSData *relaySessionKey;
@property (readonly) NSString *pskTransportParameters;
@property (readonly) NSString *pskH3Settings;
@property (readonly) IDSQuickRelaySessionInfo *relaySessionInfo;
@property (readonly) NSDictionary *sessionInfoDict;
@property (nonatomic) unsigned short channelNumber;
@property (readonly, nonatomic) unsigned short relayLinkID;
@property (nonatomic) BOOL isAcceptedRelaySession;
@property (nonatomic) unsigned long long participantID;
@property (readonly, nonatomic) unsigned long long capabilityFlags;
@property (readonly, nonatomic) unsigned int stateFlags;
@property (readonly, nonatomic) unsigned char protocolVersion;
@property (readonly, nonatomic) BOOL isInitiator;
@property (readonly, nonatomic) BOOL enableSKE;
@property (readonly) NSData *softwareData;
@property (readonly) NSString *appName;
@property (readonly) NSMutableArray *pendingStunRequests;
@property (readonly) NSMutableArray *repliedStunRequests;
@property (copy) NSUUID *defaultLocalDeviceCBUUID;
@property (copy) NSUUID *defaultRemoteDeviceCBUUID;
@property (copy) NSString *groupID;
@property (nonatomic) BOOL isQUIC;
@property (nonatomic) long long relayProviderType;
@property (nonatomic) long long allocateType;
@property (nonatomic) double allocateTime;
@property (nonatomic) double selfAllocateStartTime;
@property (readonly, nonatomic) double testStartTime;
@property (nonatomic) double serverLatency;
@property (readonly, nonatomic) unsigned int sessionInfoReqCount;
@property (nonatomic) BOOL recvSKEData;
@property (nonatomic) BOOL sentSKEData;
@property (copy) NSData *skeData;
@property (nonatomic) BOOL pendingRealloc;
@property (nonatomic) BOOL pendingNoSessionStateAllocbind;
@property (nonatomic) BOOL recvConnected;
@property (nonatomic) BOOL recvConnectedAck;
@property (nonatomic) BOOL recvDisconnected;
@property (nonatomic) BOOL recvDisconnectedAck;
@property (nonatomic) BOOL isRealloc;
@property (readonly) NSData *encKey;
@property (readonly) NSData *decKey;
@property (readonly) NSData *hmacKey;
@property (readonly) NSDictionary *participantIDMap;
@property (readonly, nonatomic) BOOL serverIsDegraded;
@property (nonatomic) BOOL isDisconnecting;
@property (nonatomic) double triggeredCheckTime;
@property (readonly, nonatomic) unsigned int testOptions;
@property (readonly, nonatomic) unsigned short testRequestedErrorCode;
@property (readonly) NSString *testSubOperation;
@property (readonly, nonatomic) unsigned short remoteRelayLinkID;
@property (readonly, nonatomic) char delegatedLinkID;
@property (readonly, nonatomic) NSDictionary *URIToParticipantIDs;
@property (retain, nonatomic) IDSQUICConnectionIDs *QUICConnectionIDs;
@property (readonly) NSMutableDictionary *connections;
@property (nonatomic) unsigned long long remoteParticipantID;
@property (retain, nonatomic) NSObject<IDSGlobalLinkP2PKeyNegotiationProtocol> *p2pNegotiation;
@property (retain, nonatomic) NSObject<IDSGlobalLinkP2PNegotiatedKeysProtocol> *p2pNegotiatedKeys;
@property (retain, nonatomic) IDSGFTMetricsLink *linkMetrics;

/* class methods */
+ (id)candidatePairWithLocalCandidate:(id)candidate remoteCandidate:(id)candidate sessionID:(id)id delegate:(id)delegate;

/* instance methods */
- (id)initWithLocalCandidate:(id)candidate remoteCandidate:(id)candidate sessionID:(id)id delegate:(id)delegate;
- (void)dealloc;
- (void)invalidate;
- (id)description;
- (id)candidatePairToken;
- (BOOL)isEqual:(id)equal;
- (BOOL)isRelayStunCandidatePair;
- (BOOL)isValidRelayStunCandidatePair;
- (BOOL)isSharedQRSession;
- (BOOL)isSelfQRSession;
- (BOOL)isVirtualRelayStunCandidatePair;
- (BOOL)isActualRelayStunCandidatePair;
- (void)setPropertiesWithRelaySessionInfo:(id)info sessionInfoDict:(id)dict enableSKE:(BOOL)ske;
- (void)setPropertiesWithReallocCandidatePair:(id)pair reallocToken:(id)token;
- (unsigned int)nextSessionInfoReqID;
- (void)setLinkUUIDWithRelayLinkIDs;
- (void)synthesizeNat64WithPrefix;
- (void)setPendingNoSessionState:(BOOL)state;
- (void)_handleNoSessionStateTimer;
- (void)_startNoSessionStateTimer;
- (void)_stopNoSessionStateTimer;
- (void)_handleReallocTimer;
- (void)_startReallocTimer;
- (void)_stopReallocTimer;
- (void)_handleSessionConnectedTimer;
- (void)startSessionConnectedTimer:(int)timer block:(id /* block */)block;
- (void)stopSessionConnectedTimer;
- (void)_handleSessionConvergenceTimer;
- (void)startSessionConvergenceTimer:(int)timer block:(id /* block */)block;
- (void)stopSessionConvergenceTimer;
- (void)_handleSessionGoAwayTimer;
- (void)startSessionGoAwayTimer:(int)timer block:(id /* block */)block;
- (void)stopSessionGoAwayTimer;
- (void)setChannelSettings:(unsigned int)settings;
- (void)setTestOptionsFromUserDefaults;
- (BOOL)hasNoSessionStateTestOptions;
- (BOOL)hasValidCapabilityFlags;
- (void)setProtocolVersion:(unsigned char)version isInitiator:(BOOL)initiator enableSKE:(BOOL)ske;
- (void)deriveAES128CTRKeys:(id)ctrkeys;
- (unsigned long long)getParticipantIDHash:(id)idhash;
- (void)_addParticipantIDs:(id)ids toParticipantIDMap:(id)idmap;
- (void)initParticipantIDMap:(id)idmap;
- (void)updateParticipantIDMap:(id)idmap;
- (void)removeFromParticipantIDMap:(id)idmap;
- (void)updateURIToParticipantIDMapping:(id)idmapping;
- (unsigned long long)createAliasForParticipantID:(unsigned long long)id salt:(id)salt;
- (unsigned long long)participantIDForAlias:(unsigned long long)alias salt:(id)salt;
- (BOOL)_didLocalExternalAddressChange:(const struct sockaddr { unsigned char x0; unsigned char x1; char x2[14] } *)change;
- (void)addStunRequest:(id)request;
- (void)removeStunRequest:(id)request;
- (BOOL)shouldRexmitStunRequest:(id)request;
- (BOOL)shouldProcessStunResponse:(id)response;
- (void)_savePluginNameForRequest:(id)request pluginName:(id)name;
- (id)_pluginNameForStunRequest:(id)request;
- (void)_removeStunPluginRegistrationRequest:(id)request;
- (void)updateStunSentBytes:(long long)bytes requestID:(id)id;
- (unsigned long long)getStunSentBytes:(id)bytes;
- (void)sendStatsRequest:(id)request options:(id)options;
- (void)sendInfoRequest:(id)request;
- (void)sendQRPluginRegistrationRequest:(id)request options:(id)options;
- (void)sendSessionInfoRequest:(id)request options:(id)options;
- (void)sendParticipantUpdateRequest:(id)request options:(id)options;
- (BOOL)sendQUICGetMaterialRequest:(id)request;
- (BOOL)sendQUICPutMaterialRequest:(id)request;
- (void)sendTestRequest:(id)request;
- (void)_handleLinkProbingTimer;
- (void)startLinkProbingTimer:(unsigned int)timer;
- (void)stopLinkProbingTimer;
- (BOOL)processStatsResponse:(id)response arrivalTime:(double)time;
- (BOOL)_optionallyCheckEncMarker:(id)marker;
- (BOOL)processInfoResponse:(id)response packetBuffer:(struct { char * x0; unsigned long long x1; long long x2; long long x3; unsigned int x4; BOOL x5; BOOL x6; BOOL x7; BOOL x8; BOOL x9; BOOL x10; BOOL x11; BOOL x12; BOOL x13; BOOL x14; BOOL x15; unsigned int x16; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x17; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x18; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x19; unsigned short x20; unsigned char x21; int x22; S]CBBBI} x23[8{?=*Si[12S]QCSCBBS{?=SSSSS}BBi[4] char x24; char x25; int x26; double x27; unsigned char x28[16] unsigned long long x29; unsigned long long x30; id x31; int x32; unsigned int x33; unsigned short x34; unsigned char x35[0] } *)buffer headerOverhead:(unsigned long long)overhead;
- (BOOL)processSessionInfoResponse:(id)response packetBuffer:(struct { char * x0; unsigned long long x1; long long x2; long long x3; unsigned int x4; BOOL x5; BOOL x6; BOOL x7; BOOL x8; BOOL x9; BOOL x10; BOOL x11; BOOL x12; BOOL x13; BOOL x14; BOOL x15; unsigned int x16; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x17; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x18; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x19; unsigned short x20; unsigned char x21; int x22; S]CBBBI} x23[8{?=*Si[12S]QCSCBBS{?=SSSSS}BBi[4] char x24; char x25; int x26; double x27; unsigned char x28[16] unsigned long long x29; unsigned long long x30; id x31; int x32; unsigned int x33; unsigned short x34; unsigned char x35[0] } *)buffer headerOverhead:(unsigned long long)overhead isLightweightParticipant:(BOOL)participant;
- (BOOL)processTestResponse:(id)response arrivalTime:(double)time;
- (BOOL)processParticipantUpdateResponse:(id)response;
- (BOOL)processInfoIndication:(id)indication arrivalTime:(double)time;
- (BOOL)processSessionInfoIndication:(id)indication arrivalTime:(double)time isLightweightParticipant:(BOOL)participant;
- (BOOL)processDataMessageErrorIndication:(id)indication;
- (BOOL)processParticipantUpdateIndication:(id)indication arrivalTime:(double)time;
- (BOOL)processPluginRegistrationResponse:(id)response;
- (BOOL)processPluginControlIndication:(id)indication;
- (BOOL)processStunErrorResponse:(id)response packetBuffer:(struct { char * x0; unsigned long long x1; long long x2; long long x3; unsigned int x4; BOOL x5; BOOL x6; BOOL x7; BOOL x8; BOOL x9; BOOL x10; BOOL x11; BOOL x12; BOOL x13; BOOL x14; BOOL x15; unsigned int x16; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x17; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x18; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x19; unsigned short x20; unsigned char x21; int x22; S]CBBBI} x23[8{?=*Si[12S]QCSCBBS{?=SSSSS}BBi[4] char x24; char x25; int x26; double x27; unsigned char x28[16] unsigned long long x29; unsigned long long x30; id x31; int x32; unsigned int x33; unsigned short x34; unsigned char x35[0] } *)buffer headerOverhead:(unsigned long long)overhead;
- (void)processSessionInfoRequestTimeout:(id)timeout;
- (void)_notifySessionStreamInfoReceived:(id)received withParticipants:(id)participants lightweightParticipants:(id)participants sentBytes:(unsigned long long)bytes receivedBytes:(unsigned long long)bytes offlineRequest:(BOOL)request streamInfoRequest:(BOOL)request status:(unsigned int)status commandFlag:(unsigned int)flag isIndication:(BOOL)indication;
- (void)_notifyQREventAdded:(id)added;
- (void)addProtoRequest:(unsigned long long)request;
- (BOOL)removeProtoRequest:(unsigned long long)request;
- (void)_savePluginNameForProtoRequest:(unsigned long long)request pluginName:(id)name;
- (id)_pluginNameForProtoRequest:(unsigned long long)request;
- (void)_removeProtoPluginRegistrationRequest:(unsigned long long)request;
- (void)sendQUICInfoRequest;
- (void)sendQUICParticipantUpdateRequestWithOptions:(id)options;
- (void)sendQUICPluginRegistrationRequestWithOptions:(id)options;
- (void)sendQUICSessionInfoRequestWithOptions:(id)options;
- (void)sendQUICStatsRequestWithOptions:(id)options;
- (void)sendQUICTestRequest;
- (BOOL)processQUICInfoResponse:(id)response receivedBytes:(unsigned long long)bytes;
- (BOOL)processQUICParticipantUpdateResponse:(id)response;
- (BOOL)processQUICGetMaterialResponse:(id)response;
- (BOOL)processQUICPutMaterialResponse:(id)response;
- (BOOL)processQUICPluginRegistrationResponse:(id)response;
- (BOOL)processQUICSessionInfoResponse:(id)response receivedBytes:(unsigned long long)bytes isLightweightParticipant:(BOOL)participant;
- (BOOL)processQUICStatsResponse:(id)response arrivalTime:(double)time;
- (BOOL)processQUICTestResponse:(id)response arrivalTime:(double)time;
- (BOOL)processQUICParticipantUpdateIndication:(id)indication;
- (BOOL)processQUICPluginControlIndication:(id)indication;
- (BOOL)processQUICSessionInfoIndication:(id)indication arrivalTime:(double)time isLightweightParticipant:(BOOL)participant;
- (BOOL)processQUICPutMaterialIndication:(id)indication;
- (BOOL)processQUICErrorIndication:(id)indication;
- (BOOL)processQUICErrorResponse:(id)response packetBuffer:(struct { char * x0; unsigned long long x1; long long x2; long long x3; unsigned int x4; BOOL x5; BOOL x6; BOOL x7; BOOL x8; BOOL x9; BOOL x10; BOOL x11; BOOL x12; BOOL x13; BOOL x14; BOOL x15; unsigned int x16; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x17; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x18; struct sockaddr_storage { unsigned char x0; unsigned char x1; char x2[6] long long x3; char x4[112] } x19; unsigned short x20; unsigned char x21; int x22; S]CBBBI} x23[8{?=*Si[12S]QCSCBBS{?=SSSSS}BBi[4] char x24; char x25; int x26; double x27; unsigned char x28[16] unsigned long long x29; unsigned long long x30; id x31; int x32; unsigned int x33; unsigned short x34; unsigned char x35[0] } *)buffer startTime:(double)time headerOverhead:(unsigned long long)overhead;
@end

#endif /* IDSStunCandidatePair_h */
