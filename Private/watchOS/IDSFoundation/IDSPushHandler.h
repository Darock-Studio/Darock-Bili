//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1814.300.81.4.2
//
#ifndef IDSPushHandler_h
#define IDSPushHandler_h
@import Foundation;

@class NSData, NSMapTable, NSMutableSet, NSRecursiveLock;

@interface IDSPushHandler : NSObject {
  /* instance variables */
  NSData *_cachedPushToken;
  NSMapTable *_handlerMap;
  NSRecursiveLock *_recursiveLock;
  NSMutableSet *_wakingTopicsCache;
  NSMutableSet *_opportunisticTopicsCache;
  NSMutableSet *_nonWakingTopicsCache;
}

@property (readonly, nonatomic) BOOL isConnected;
@property (readonly, nonatomic) NSData *pushToken;
@property (nonatomic) BOOL shouldWaitToSetTopics;

/* class methods */
+ (id)sharedInstance;
+ (id)sharedInstanceWithPortName:(id)name;

/* instance methods */
- (id)init;
- (id)initWithPort:(id)port;
- (void)dealloc;
- (void)_powerLogIncomingMessage:(id)message command:(id)command topic:(id)topic;
- (void)_powerLogEvent:(id)event dictionary:(id)dictionary;
- (BOOL)_validateHandler:(id)handler withSelector:(SEL)selector topic:(id)topic command:(id)command;
- (id)_getValidPushHandlersWithSelector:(SEL)selector topic:(id)topic command:(id)command;
- (void)_updateTopics;
- (void)_recalculateTopicsCache;
- (void)addListener:(id)listener topics:(id)topics commands:(id)commands queue:(id)queue;
- (void)addListener:(id)listener wakingTopics:(id)topics opportunisticTopics:(id)topics nonWakingTopics:(id)topics commands:(id)commands queue:(id)queue;
- (void)removeListener:(id)listener;
- (void)setTopics:(id)topics forListener:(id)listener;
- (void)setWakingTopics:(id)topics opportunisticTopics:(id)topics nonWakingTopics:(id)topics forListener:(id)listener;
- (void)setCommands:(id)commands forListener:(id)listener;
- (id)_apsConnectionPushToken;
- (struct __SecIdentity *)copyPushIdentity;
- (void)configureAsMacNotificationCenterObserver:(id)observer withPushToWakeTopics:(id)topics;
- (void)configureAsMacNotificationCenterObserver:(id)observer;
- (void)subscribeToChannel:(id)channel forTopic:(id)topic;
- (void)writePushPayloadToDiskIfEnabled:(id)enabled topic:(id)topic;
- (void)connection:(id)connection didReceiveIncomingMessage:(id)message;
- (void)connection:(id)connection didChangeConnectedStatus:(BOOL)status;
@end

#endif /* IDSPushHandler_h */
