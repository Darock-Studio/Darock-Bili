//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3774.300.42.0.0
//
#ifndef EDMessageRepository_h
#define EDMessageRepository_h
@import Foundation;

#include "EDAccountChangeHookResponder-Protocol.h"
#include "EDConversationPersistence.h"
#include "EDFetchController.h"
#include "EDListUnsubscribeHandler.h"
#include "EDMailboxPersistence.h"
#include "EDMailboxPredictionController.h"
#include "EDMessageChangeHookResponder-Protocol.h"
#include "EDMessageChangeManager.h"
#include "EDMessagePersistence.h"
#include "EDOneTimeCodeChangeHookResponder-Protocol.h"
#include "EDPersistenceHookRegistry.h"
#include "EDReconciliationQueryProvider-Protocol.h"
#include "EDRemindMeNotificationController.h"
#include "EDRemoteContentCacheConfiguration.h"
#include "EDRemoteContentManager.h"
#include "EDRemoteContentPersistence.h"
#include "EDResumable-Protocol.h"
#include "EDRichLinkPersistence.h"
#include "EDThreadPersistence.h"
#include "EDThreadQueryHandlerDelegate-Protocol.h"
#include "EDVIPManager.h"
#include "EDWebContentParser.h"
#include "EFContentProtectionObserver-Protocol.h"
#include "EFLoggable-Protocol.h"
#include "EMMessageRepositoryInterface-Protocol.h"

@class EFLocked, EMBlockedSenderManager, NSConditionLock, NSMutableDictionary, NSMutableSet, NSSet, NSString;
@protocol EDRemoteSearchProvider, EFScheduler, EMUserProfileProvider, OS_dispatch_queue;

@interface EDMessageRepository : NSObject<EDAccountChangeHookResponder, EDOneTimeCodeChangeHookResponder, EDMessageChangeHookResponder, EDThreadQueryHandlerDelegate, EFContentProtectionObserver, EMMessageRepositoryInterface, EDReconciliationQueryProvider, EFLoggable> {
  /* instance variables */
  EDMailboxPredictionController *_mailboxPredictionController;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _mailboxPredictionControllerLock;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _handlersLock;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _remoteContentParserLock;
}

@property (retain, nonatomic) NSMutableDictionary *queryHandlers;
@property (retain, nonatomic) NSMutableDictionary *queryHandlersByThreadScope;
@property (retain, nonatomic) NSMutableSet *handlerTokens;
@property (retain, nonatomic) EDPersistenceHookRegistry *hookRegistry;
@property (retain, nonatomic) EDMessagePersistence *messagePersistence;
@property (readonly, nonatomic) EDConversationPersistence *conversationPersistence;
@property (retain, nonatomic) EDThreadPersistence *threadPersistence;
@property (readonly, nonatomic) EDRemoteContentPersistence *remoteContentPersistence;
@property (retain, nonatomic) EDRichLinkPersistence *richLinkPersistence;
@property (retain, nonatomic) EDMessageChangeManager *messageChangeManager;
@property (readonly, nonatomic) NSConditionLock *performQueryOnSerializationQueue;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *serializationQueue;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *contentProtectionQueue;
@property (readonly, nonatomic) NSObject<EFScheduler> *asyncWorkScheduler;
@property (readonly, nonatomic) NSObject<EFScheduler> *messageListItemScheduler;
@property (readonly, nonatomic) EDMailboxPersistence *mailboxPersistence;
@property (readonly, nonatomic) NSObject<EMUserProfileProvider> *userProfileProvider;
@property (readonly, nonatomic) EDVIPManager *vipManager;
@property (readonly, nonatomic) NSObject<EDRemoteSearchProvider> *remoteSearchProvider;
@property (readonly, nonatomic) EDFetchController *fetchController;
@property (readonly, nonatomic) NSObject<EDResumable> *observerResumer;
@property (readonly, nonatomic) EDRemoteContentManager *remoteContentManager;
@property (readonly, nonatomic) EDRemoteContentCacheConfiguration *remoteContentCacheConfiguration;
@property (readonly, nonatomic) NSObject<EFScheduler> *updateThrottlerResetScheduler;
@property (weak, nonatomic) id /* block */ updateThrottlerResetBlock;
@property (readonly, nonatomic) EDWebContentParser *remoteContentParser;
@property (readonly, nonatomic) EMBlockedSenderManager *blockedSenderManager;
@property (readonly, nonatomic) EDListUnsubscribeHandler *listUnsubscribeHandler;
@property (readonly, nonatomic) EDRemindMeNotificationController *remindMeNotificationController;
@property (retain, nonatomic) EFLocked *oneTimeCodeObservers;
@property (readonly, nonatomic) NSObject<EFScheduler> *delayedMessageActionScheduler;
@property (nonatomic) long long oneTimeCodeMessageID;
@property (readonly, copy, nonatomic) NSSet *test_activeQueryCancelationTokens;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)log;
+ (id)signpostLog;

/* instance methods */
- (unsigned long long)signpostID;
- (id)initWithMessagePersistence:(id)persistence conversationPersistence:(id)persistence threadPersistence:(id)persistence remoteContentPersistence:(id)persistence messageChangeManager:(id)manager richLinkPersistence:(id)persistence hookRegistry:(id)registry mailboxPersistence:(id)persistence remoteSearchProvider:(id)provider userProfileProvider:(id)provider vipManager:(id)manager fetchController:(id)controller observerResumer:(id)resumer remoteContentManager:(id)manager remoteContentCacheConfiguration:(id)configuration blockedSenderManager:(id)manager listUnsubscribeHandler:(id)handler remindMeNotificationController:(id)controller;
- (void)dealloc;
- (void)test_tearDown;
- (void)isDataAccessible:(id /* block */)accessible;
- (void)performQuery:(id)query limit:(long long)limit completionHandler:(id /* block */)handler;
- (void)performCountQuery:(id)query completionHandler:(id /* block */)handler;
- (void)performQuery:(id)query withObserver:(id)observer observationIdentifier:(id)identifier completionHandler:(id /* block */)handler;
- (void)_performQuery:(id)query withObserver:(id)observer observationIdentifier:(id)identifier completionHandler:(id /* block */)handler;
- (void)accountBecameActive:(id)active;
- (void)accountBecameInactive:(id)inactive;
- (void)_accountActiveStateDidChange:(id)change stateStringForLogging:(id)logging;
- (void)threadQueryHandlerStateDidChange:(id)change;
- (void)_triggerMigrationForThreadScopes:(id)scopes;
- (void)startCountingQuery:(id)query includingServerCountsForMailboxScope:(id)scope withObserver:(id)observer completionHandler:(id /* block */)handler;
- (void)startObservingOneTimeCode:(id)code completionHandler:(id /* block */)handler;
- (void)_broadcastOneTimeCode:(id)code timestamp:(id)timestamp messageID:(long long)id subject:(id)subject senders:(id)senders;
- (void)didReceiveOneTimeCode:(id)code timestamp:(id)timestamp messageID:(long long)id subject:(id)subject senders:(id)senders;
- (void)persistenceDidDeleteMessages:(id)messages generationWindow:(id)window;
- (void)cancelAllHandlers;
- (id)_partitionObjectIDs:(id)ids;
- (void)_enumerateObjectIDsAndQueryHandlersForObjectIDsByScope:(id)scope usingBlock:(id /* block */)block failureBlock:(id /* block */)block;
- (void)_enumerateObjectIDsByScope:(id)scope usingBlock:(id /* block */)block;
- (void)messageListItemsForObjectIDs:(id)ids requestID:(unsigned long long)id observationIdentifier:(id)identifier loadSummaryForAdditionalObjectIDs:(id)ids completionHandler:(id /* block */)handler;
- (void)_requestSummariesIfNeededForMessageListItems:(id)items additionalObjectIDs:(id)ids queryHandler:(id)handler observationIdentifier:(id)identifier;
- (void)performMessageChangeAction:(id)action requestID:(unsigned long long)id returnUndoAction:(BOOL)action completionHandler:(id /* block */)handler;
- (void)performOneTimeCodeMessageDeletionWithObjectID:(id)id requestID:(unsigned long long)id returnUndoAction:(BOOL)action afterDelay:(double)delay completionHandler:(id /* block */)handler;
- (void)mailOnBoardDeleteVerificationCodesMessage:(id)message completionHandler:(id /* block */)handler;
- (id)_dictForPasswordsIcon;
- (id)_performMessageFlagChangeAction:(id)action returnUndoAction:(BOOL)action;
- (id)_performMessageFollowUpAction:(id)action returnUndoAction:(BOOL)action;
- (id)_performMessageFollowUpDate:(id)date persistedMessages:(id)messages returnUndoAction:(BOOL)action;
- (id)_performMessageReadLaterAction:(id)action returnUndoAction:(BOOL)action;
- (id)_performMessageReadLaterDate:(id)date persistedMessages:(id)messages returnUndoAction:(BOOL)action;
- (id)_performSenderBlockingAction:(id)action returnUndoAction:(BOOL)action;
- (id)_performBlockSender:(BOOL)sender persistedMessages:(id)messages returnUndoAction:(BOOL)action;
- (void)_performUnsubscribeAction:(id)action;
- (void)_performMessageFlagChangeAllAction:(id)action;
- (void)_performMessageDeleteAllAction:(id)action;
- (void)_performMessageDeleteAction:(id)action;
- (id)_changeFlagsForPersistedMessages:(id)messages flagChange:(id)change returnUndoAction:(BOOL)action;
- (id)_performMessageTransferAction:(id)action returnUndoAction:(BOOL)action;
- (void)_performMessageTransferAllAction:(id)action;
- (id)_performMessageTransferActionToSpecialMailbox:(id)mailbox returnUndoAction:(BOOL)action;
- (void)_performMessageTransferAllActionToSpecialMailbox:(id)mailbox;
- (id)_undoActionsForMovedMessages:(id)messages;
- (id)_performUndoAction:(id)action;
- (id)_performMessageConversationFlagChangeAction:(id)action returnUndoAction:(BOOL)action;
- (id)_performConversationIDs:(id)ids conversationNotificationLevel:(long long)level returnUndoAction:(BOOL)action;
- (void)persistentIDForMessageObjectID:(id)id completionHandler:(id /* block */)handler;
- (id)_persistedMessagesForMessageChangeAction:(id)action;
- (id)_persistedMessagesForObjectIDs:(id)ids;
- (id)_persistedObjectIDsForObjectIDs:(id)ids;
- (void)requestRichLinkMetadataForRichLinkID:(id)id messageID:(id)id completionHandler:(id /* block */)handler;
- (id)requestRepresentationForMessageWithID:(id)id requestID:(unsigned long long)id options:(id)options delegate:(id)delegate completionHandler:(id /* block */)handler;
- (void)resetPrecomputedThreadScopesForMailboxScope:(id)scope;
- (void)setCachedMetadataJSON:(id)json forKey:(id)key messageID:(id)id;
- (void)getCachedMetadataJSONForKey:(id)key messageID:(id)id completionHandler:(id /* block */)handler;
- (void)metadataForAddresses:(id)addresses completionHandler:(id /* block */)handler;
- (void)predictMailboxForMovingMessages:(id)messages withObserver:(id)observer completionHandler:(id /* block */)handler;
- (id)mailboxPredictionController;
- (void)loadOlderMessagesForMailboxes:(id)mailboxes;
- (void)messageObjectIDForURL:(id)url completionHandler:(id /* block */)handler;
- (void)messageObjectIDsForSearchableItemIdentifiers:(id)identifiers completionHandler:(id /* block */)handler;
- (void)getURLCacheInformationWithCompletion:(id /* block */)completion;
- (void)noteViewOfRemoteContentLinks:(id)links;
- (void)getRemoteContentURLInfoOrderedBy:(long long)by inReverseOrder:(BOOL)order limit:(long long)limit completionHandler:(id /* block */)handler;
- (void)parseRemoteContentURLsFromMessageWithObjectID:(id)id requestID:(unsigned long long)id completionHandler:(id /* block */)handler;
- (void)brandIndicatorForLocation:(id)location completionHandler:(id /* block */)handler;
- (void)_resetUpdateThrottlersWithLogMessage:(id)message;
- (id)messageReconciliationQueries;
- (id)threadReconciliationQueries;
- (void)contentProtectionStateChanged:(long long)changed previousState:(long long)state;
@end

#endif /* EDMessageRepository_h */
