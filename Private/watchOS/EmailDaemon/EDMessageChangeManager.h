//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3774.300.42.0.0
//
#ifndef EDMessageChangeManager_h
#define EDMessageChangeManager_h
@import Foundation;

#include "EDBIMIManager.h"
#include "EDLocalActionPersistence.h"
#include "EDMessageChangeHookResponder-Protocol.h"
#include "EDMessagePersistence.h"
#include "EDPersistenceDatabase.h"
#include "EDReadLaterPersistence.h"
#include "EDServerMessagePersistenceFactory.h"
#include "EFLoggable-Protocol.h"

@class NSString;
@protocol OS_dispatch_queue;

@interface EDMessageChangeManager : NSObject<EFLoggable>

@property (readonly, nonatomic) EDPersistenceDatabase *database;
@property (readonly, nonatomic) EDLocalActionPersistence *localActionPersistence;
@property (readonly, nonatomic) EDReadLaterPersistence *readLaterPersistence;
@property (readonly, nonatomic) EDServerMessagePersistenceFactory *serverMessagePersistenceFactory;
@property (readonly, nonatomic) EDBIMIManager *bimiManager;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *markAllWorkQueue;
@property (readonly, nonatomic) EDMessagePersistence *messagePersistence;
@property (readonly, weak, nonatomic) NSObject<EDMessageChangeHookResponder> *hookResponder;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)log;
+ (id)signpostLog;

/* instance methods */
- (unsigned long long)signpostID;
- (id)initWithDatabase:(id)database localActionPersistence:(id)persistence messagePersistence:(id)persistence serverMessagePersistenceFactory:(id)factory readLaterPersistence:(id)persistence bimiManager:(id)manager hookResponder:(id)responder hookRegistry:(id)registry;
- (id)init;
- (void)test_tearDown;
- (id)moveMessages:(id)messages destinationMailboxURL:(id)url userInitiated:(BOOL)initiated;
- (id)copyMessages:(id)messages destinationMailboxURL:(id)url userInitiated:(BOOL)initiated;
- (id)transferMessages:(id)messages transferType:(long long)type destinationMailboxURL:(id)url userInitiated:(BOOL)initiated;
- (void)transferMessages:(id)messages transferType:(long long)type destinationMailboxURL:(id)url userInitiated:(BOOL)initiated oldMessagesByNewMessage:(id)message;
- (void)willStartPersistenceDidAddMessages:(id)messages;
- (void)didFinishPersistenceDidAddMessages:(id)messages;
- (void)deleteAllMessageFromMailboxes:(id)mailboxes exceptMessages:(id)messages;
- (void)transferAllMessagesFromMailboxes:(id)mailboxes exceptMessages:(id)messages transferType:(long long)type destinationMailboxURL:(id)url userInitiated:(BOOL)initiated;
- (id)addNewMessages:(id)messages mailboxURL:(id)url userInitiated:(BOOL)initiated;
- (void)deleteMessages:(id)messages;
- (void)applyFlagChange:(id)change toAllMessagesFromMailboxes:(id)mailboxes exceptMessages:(id)messages;
- (id)applyFlagChange:(id)change toMessages:(id)messages;
- (void)applyFollowUp:(id)up toMessages:(id)messages;
- (void)applyFollowUp:(id)up toMessages:(id)messages withNegativeFeedbackForSuggestions:(BOOL)suggestions;
- (id)applyReadLaterDate:(id)date displayDate:(id)date toMessages:(id)messages;
- (id)_applyReadLaterDate:(id)date displayDate:(id)date toMessages:(id)messages changeIsRemote:(BOOL)remote;
- (id)_truncateReadLaterDate:(id)date;
- (void)applyVIPStatus:(BOOL)vipstatus forMessages:(id)messages;
- (id)addLabels:(id)labels removeLabels:(id)labels forMessages:(id)messages;
- (id)messagesToJournalForMessages:(id)messages inMailbox:(id)mailbox;
- (id)reflectNewMessages:(id)messages mailboxURL:(id)url;
- (void)didReflectNewMessages:(id)messages;
- (void)reflectDeletedMessages:(id)messages;
- (void)reflectDeletedMessagesWithRemoteIDs:(id)ids mailboxURL:(id)url;
- (void)reflectAllMessagesDeletedInMailboxURL:(id)url;
- (void)reflectDeletedAllClearedMessagesInMailboxURL:(id)url;
- (void)reflectFlagChanges:(id)changes forMessages:(id)messages;
- (void)reflectFlagChanges:(id)changes forMessagesWithRemoteIDs:(id)ids mailboxURL:(id)url;
- (void)_reflectFlagChanges:(id)changes messages:(id)messages remoteIDs:(id)ids mailboxURL:(id)url;
- (void)reflectSortedFlagChanges:(id)changes mailboxURL:(id)url;
- (void)reflectAddedLabels:(id)labels removedLabels:(id)labels forMessagesWithRemoteIDs:(id)ids mailboxURL:(id)url;
- (BOOL)persistResults:(id)results forAction:(id)action;
- (void)deleteLocalMessageActionsWithIDs:(id)ids;
- (BOOL)_persistResults:(id)results forLabelChangeAction:(id)action;
- (void)_resetLocalLabelsToServerLabelsForMessagesWithRemoteIDs:(id)ids mailboxURL:(id)url;
- (BOOL)_persistResults:(id)results forFlagChangeAction:(id)action;
- (BOOL)_persistFlagChangeResults:(id)results forFlagChangeAction:(id)action;
- (void)_clearFollowUpsFromThreadsForMessages:(id)messages;
- (void)_resetLocalFlagsToServerFlagsForMessagesWithRemoteIDs:(id)ids mailboxURL:(id)url;
- (BOOL)_persistResults:(id)results forTransferAction:(id)action;
- (void)_handleFailedDownload:(id)download generationWindow:(id)window;
- (void)_handleFailedCopyItems:(id)items transferAction:(id)action generationWindow:(id)window;
- (void)_storeServerMessages:(id)messages mailboxURL:(id)url generationWindow:(id)window;
- (void)_deleteDestinationMessagesFromCompletedItems:(id)items notInServerMessages:(id)messages;
- (id)_findDestinationMessagesFromCompletedItems:(id)items notInServerMessages:(id)messages;
- (id)_handleDuplicateServerMessage:(id)message serverMessagePersistence:(id)persistence;
- (BOOL)mailboxURLIsInRemoteAccount:(id)account;
- (BOOL)_needToStoreServerMessagesForMailboxURL:(id)url;
- (BOOL)mailboxURL:(id)url isInSameAccountAsMailboxURL:(id)url;
- (id)accountForMailboxURL:(id)url;
- (BOOL)_hookResponderRespondsToRequiredMethods:(id)methods;
- (void)remindMeCloudStorageChangedWithAddedOrChangedItems:(id)items deletedItems:(id)items;
@end

#endif /* EDMessageChangeManager_h */
