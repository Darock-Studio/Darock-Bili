//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3774.300.42.0.0
//
#ifndef EDThreadQueryHandler_h
#define EDThreadQueryHandler_h
@import Foundation;

#include "EDMessagePersistence.h"
#include "EDPersistenceHookRegistry.h"
#include "EDRemindMeNotificationController.h"
#include "EDResumable-Protocol.h"
#include "EDThreadChangeHookResponder-Protocol.h"
#include "EDThreadMigratorDelegate-Protocol.h"
#include "EDThreadPersistence.h"
#include "EDThreadQueryHandler-Protocol.h"
#include "EDThreadQueryHandlerDelegate-Protocol.h"
#include "EDVIPManager.h"
#include "EFLoggable-Protocol.h"
#include "EMMessageListItemQueryResultsObserver-Protocol.h"

@class BOOL *, EFLocked, EMObjectID, EMQuery, EMThreadScope, NSString;
@protocol EDRemoteSearchProvider;

@interface EDThreadQueryHandler : NSObject<EDThreadChangeHookResponder, EDThreadMigratorDelegate, EMMessageListItemQueryResultsObserver, EFLoggable, EDThreadQueryHandler> {
  /* instance variables */
  atomic char _state;
  struct atomic_flag { atomic  _Value; BOOL x0; } _isRunning;
}

@property (readonly, nonatomic) NSObject<EMMessageListItemQueryResultsObserver> *resultsObserver;
@property (readonly, nonatomic) EMObjectID *observationIdentifier;
@property (readonly, nonatomic) EDMessagePersistence *messagePersistence;
@property (readonly, nonatomic) EDThreadPersistence *threadPersistence;
@property (readonly, nonatomic) EDPersistenceHookRegistry *hookRegistry;
@property (readonly, nonatomic) EDVIPManager *vipManager;
@property (readonly, nonatomic) NSObject<EDRemoteSearchProvider> *remoteSearchProvider;
@property (readonly, nonatomic) EDRemindMeNotificationController *remindMeNotificationController;
@property (readonly, nonatomic) EFLocked *underlyingHandler;
@property (readonly, weak, nonatomic) NSObject<EDThreadQueryHandlerDelegate> *delegate;
@property (readonly, nonatomic) NSObject<EDResumable> *observerResumer;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) EMThreadScope *threadScope;
@property (readonly, copy, nonatomic) EMQuery *query;

/* class methods */
+ (id)log;

/* instance methods */
- (id)initWithQuery:(id)query messagePersistence:(id)persistence threadPersistence:(id)persistence hookRegistry:(id)registry vipManager:(id)manager remoteSearchProvider:(id)provider remindMeNotificationController:(id)controller observer:(id)observer observationIdentifier:(id)identifier delegate:(id)delegate observationResumer:(id)resumer;
- (void)_createUnderlyingHandlerIfNeededAndStart;
- (BOOL)start;
- (void)cancel;
- (void)_tearDownWithQueryHandlerBlock:(id /* block */)block;
- (void)test_tearDown;
- (void)tearDown;
- (void)requestSummaryForMessageObjectID:(id)id;
- (id)messageListItemForObjectID:(id)id isPersisted:(BOOL *)persisted error:(id *)error;
- (id)inMemoryMessageObjectIDsForThread:(id)thread;
- (void)triggerMigration;
- (void)checkIfPrecomputedStateIsAvailable;
- (BOOL)isStarted;
- (void)threadMigratorDidComplete:(id)complete;
- (void)observer:(id)observer wasUpdated:(id)updated;
- (id)_addSnippetHintsToExtraInfo:(id)info;
- (void)observer:(id)observer matchedAddedObjectIDs:(id)ids before:(id)before extraInfo:(id)info;
- (void)observer:(id)observer matchedAddedObjectIDs:(id)ids after:(id)after extraInfo:(id)info;
- (void)observer:(id)observer matchedMovedObjectIDs:(id)ids before:(id)before;
- (void)observer:(id)observer matchedMovedObjectIDs:(id)ids after:(id)after;
- (void)observer:(id)observer matchedChangesForObjectIDs:(id)ids;
- (void)observer:(id)observer matchedDeletedObjectIDs:(id)ids;
- (void)observerDidFinishInitialLoad:(id)load;
- (void)observerDidFinishRemoteSearch:(id)search;
- (void)observer:(id)observer replacedExistingObjectID:(id)id withNewObjectID:(id)id;
- (void)observerWillRestart:(id)restart;
- (void)observer:(id)observer matchedOldestItemsUpdatedForMailboxes:(id)mailboxes;
- (void)persistenceDidResetThreadScope:(id)scope;
- (id)threadReconciliationQueries;
- (id)messageReconciliationQueries;
@end

#endif /* EDThreadQueryHandler_h */
