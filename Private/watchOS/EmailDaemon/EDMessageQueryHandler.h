//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3774.300.42.0.0
//
#ifndef EDMessageQueryHandler_h
#define EDMessageQueryHandler_h
@import Foundation;

#include "EDMessageRepositoryQueryHandler.h"
#include "EDMessageQueryHelper.h"
#include "EDMessageQueryHelperDelegate-Protocol.h"
#include "EFContentProtectionObserver-Protocol.h"
#include "EFLoggable-Protocol.h"
#include "EMCollectionItemIDStateCapturerDelegate-Protocol.h"

@class EMCollectionItemIDStateCapturer, NSMutableDictionary, NSString;
@protocol EDRemoteSearchProvider, EFScheduler, OS_dispatch_queue;

@interface EDMessageQueryHandler : EDMessageRepositoryQueryHandler<EMCollectionItemIDStateCapturerDelegate, EDMessageQueryHelperDelegate, EFLoggable, EFContentProtectionObserver> {
  /* instance variables */
  struct EFAtomicObject { atomic  cfObject; long long x0; } _updateOldestMessagesCancelationToken;
}

@property (readonly, nonatomic) NSObject<EDRemoteSearchProvider> *remoteSearchProvider;
@property (retain, nonatomic) EDMessageQueryHelper *currentQueryHelper;
@property (readonly, nonatomic) NSObject<EFScheduler> *scheduler;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *contentProtectionQueue;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *resultQueue;
@property (nonatomic) BOOL didCancel;
@property (nonatomic) BOOL isInitialized;
@property (nonatomic) BOOL hasEverReconciledJournal;
@property (readonly, copy, nonatomic) NSMutableDictionary *oldestMessageIDsByMailboxObjectIDs;
@property (readonly, nonatomic) EMCollectionItemIDStateCapturer *stateCapturer;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)log;
+ (id)findMessagesByPreviousObjectIDForAddedMessages:(id)messages messageSource:(id)source;

/* instance methods */
- (id)initWithQuery:(id)query messagePersistence:(id)persistence hookRegistry:(id)registry remindMeNotificationController:(id)controller remoteSearchProvider:(id)provider observer:(id)observer observationIdentifier:(id)identifier;
- (BOOL)start;
- (void)cancel;
- (void)dealloc;
- (void)_restartHelper;
- (void)_createHelper;
- (BOOL)_queryHelperIsCurrent:(id)current;
- (void)contentProtectionStateChanged:(long long)changed previousState:(long long)state;
- (void)_contentProtectionChangedToLocked;
- (void)_contentProtectionChangedToUnlocked;
- (id)_objectIDsAndUnreadObjectIDsFromMessages:(id)messages unreadObjectIDs:(id *)ids;
- (void)queryHelper:(id)helper didFindMessages:(id)messages;
- (void)queryHelperDidFindAllMessages:(id)messages;
- (void)queryHelper:(id)helper didAddMessages:(id)messages;
- (void)queryHelper:(id)helper messageFlagsDidChangeForMessages:(id)messages;
- (void)queryHelper:(id)helper objectIDDidChangeForMessage:(id)message oldObjectID:(id)id oldConversationID:(long long)id;
- (void)queryHelper:(id)helper didUpdateMessages:(id)messages forKeyPaths:(id)paths;
- (void)queryHelper:(id)helper didDeleteMessages:(id)messages;
- (void)queryHelper:(id)helper conversationIDDidChangeForMessages:(id)messages fromConversationID:(long long)id;
- (id)_createChangesForMessagesWithConversationID:(long long)id block:(id /* block */)block;
- (void)queryHelper:(id)helper conversationNotificationLevelDidChangeForConversation:(long long)conversation conversationID:(long long)id;
- (void)queryHelperDidFinishRemoteSearch:(id)search;
- (void)queryHelperNeedsRestart:(id)restart;
- (void)_initializeOldestMessagesByMailbox;
- (void)_oldestMessagesNeedUpdate;
- (void)_updateOldestMessagesForMailboxes:(id)mailboxes cancelationToken:(id)token;
- (id)_oldestItemQueryForMailbox:(id)mailbox;
- (void)_oldestMessagesByMailboxObjectIDsWasUpdated;
- (id)findMessagesByPreviousObjectIDForAddedMessages:(id)messages helper:(id)helper;
- (id)labelForStateCapture;
- (id)itemIDsForStateCaptureWithErrorString:(id *)string;
@end

#endif /* EDMessageQueryHandler_h */
