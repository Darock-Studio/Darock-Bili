//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 4023.330.6.0.0
//
#ifndef ML3MediaLibraryWriter_h
#define ML3MediaLibraryWriter_h
@import Foundation;

@class NSMutableDictionary, NSOperationQueue, NSTimer;
@protocol ML3MediaLibraryWriterDelegate, OS_dispatch_queue;

@interface ML3MediaLibraryWriter : NSObject {
  /* instance variables */
  NSTimer *_watchdogTimer;
}

@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *serialQueue;
@property (readonly, nonatomic) NSMutableDictionary *transactionMap;
@property (readonly, nonatomic) NSOperationQueue *databaseOperationQueue;
@property (readonly, nonatomic) NSOperationQueue *databaseOperationSerialQueue;
@property (readonly, nonatomic) NSOperationQueue *databaseOperationLimitedQueue;
@property (weak, nonatomic) NSObject<ML3MediaLibraryWriterDelegate> *delegate;
@property (nonatomic) double transactionTimeout;
@property (nonatomic) BOOL suspended;

/* class methods */
+ (id)writerErrorWithCode:(long long)code description:(id)description userInfo:(id)info;
+ (id)writerErrorWithCode:(long long)code description:(id)description;

/* instance methods */
- (id)init;
- (void)dealloc;
- (id)description;
- (id)beginTransactionForLibrary:(id)library withClient:(id)client options:(unsigned long long)options error:(id *)error;
- (BOOL)executeUpdate:(id)update withParameters:(id)parameters onTransaction:(id)transaction error:(id *)error;
- (BOOL)executeUntrustedUpdate:(id)update withParameters:(id)parameters onTransaction:(id)transaction error:(id *)error;
- (id)executeQuery:(id)query withParameters:(id)parameters options:(id)options onTransaction:(id)transaction error:(id *)error;
- (id)executeUntrustedQuery:(id)query withParameters:(id)parameters options:(id)options onTransaction:(id)transaction error:(id *)error;
- (BOOL)endTransaction:(id)transaction shouldCommit:(BOOL)commit error:(id *)error;
- (void)performDatabaseOperation:(unsigned long long)operation onLibrary:(id)library withAttributes:(id)attributes options:(id)options fromClient:(id)client completionHandler:(id /* block */)handler;
- (void)cancelActiveTransactionForClient:(id)client;
- (void)cancelAllActiveTransactions;
- (void)cancelAllActiveDatabaseOperationsAndWaitUntilFinished:(BOOL)finished;
- (void)cancelAllActiveDatabaseOperationsForClient:(id)client waitUntilFinished:(BOOL)finished;
- (void)reset;
- (id)_transactionForIdentifier:(id)identifier;
- (void)_registerTransaction:(id)transaction;
- (void)_unregisterTransaction:(id)transaction;
- (id)_allDatabaseOperations;
- (id)_createNewTransactionForLibrary:(id)library fromClient:(id)client readOnly:(BOOL)only;
- (void)_destroyTransaction:(id)transaction forceRelinquishConnection:(BOOL)connection;
- (void)_destroyTransactionForIdentifier:(id)identifier forceRelinquishConnection:(BOOL)connection;
- (void)_setupWatchdogTimer;
- (void)_tearDownWatchdogTimer;
- (BOOL)_shouldWatchdogTransaction:(id)transaction;
- (void)_watchdogTimerFired:(id)fired;
- (BOOL)isSuspended;
@end

#endif /* ML3MediaLibraryWriter_h */
