//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 4146.2.12.2.2
//
#ifndef HDOntologyUpdateCoordinator_h
#define HDOntologyUpdateCoordinator_h
@import Foundation;

#include "HDDaemon.h"
#include "HDOntologyFeatureCoordinator.h"
#include "HDOntologyManifestUpdater.h"
#include "HDOntologyShardDownloader.h"
#include "HDOntologyShardImporter.h"
#include "HDOntologyShardPruner.h"
#include "HDOntologyShardRegistry.h"
#include "HDPeriodicActivity.h"
#include "HDPeriodicActivityDelegate-Protocol.h"
#include "HDPrimaryProfile.h"
#include "HDProfileReadyObserver-Protocol.h"
#include "NSURLSessionTaskDelegate-Protocol.h"

@class HDAssertion, HDXPCGatedActivity, NSOperationQueue, NSString;

@interface HDOntologyUpdateCoordinator : NSObject<HDPeriodicActivityDelegate, HDProfileReadyObserver, NSURLSessionTaskDelegate> {
  /* instance variables */
  HDPeriodicActivity *_periodicActivity;
  HDXPCGatedActivity *_gatedActivity;
  HDXPCGatedActivity *_fallbackActivity;
  HDAssertion *_lock_preparedDatabaseAccessibilityAssertion;
  HDAssertion *_lock_preparedRegistryAssertion;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _lock;
  NSString *_threadLocalKeyIsRunningTransaction;
  NSOperationQueue *_updateOperationQueue;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _contentionReductionLock;
}

@property (copy, nonatomic) id /* block */ unitTesting_willTriggerGatedActivity;
@property (readonly, weak, nonatomic) HDDaemon *daemon;
@property (readonly, nonatomic) HDPrimaryProfile *profile;
@property (readonly, nonatomic) HDOntologyFeatureCoordinator *featureCoordinator;
@property (readonly, nonatomic) HDOntologyManifestUpdater *manifestUpdater;
@property (readonly, nonatomic) HDOntologyShardDownloader *downloader;
@property (readonly, nonatomic) HDOntologyShardImporter *importer;
@property (readonly, nonatomic) HDOntologyShardRegistry *shardRegistry;
@property (readonly, nonatomic) HDOntologyShardPruner *pruner;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)init;
- (id)initWithDaemon:(id)daemon;
- (void)dealloc;
- (BOOL)performOntologyTransactionForWrite:(BOOL)write databaseTransaction:(id)transaction error:(id *)error transactionHandler:(id /* block */)handler;
- (void)lockUpdateLock;
- (void)unlockUpdateLock;
- (id)ontologyServerURL;
- (void)setOntologyServerURL:(id)url;
- (void)updateShardRegistryWithCompletion:(id /* block */)completion;
- (void)downloadRequiredShardsWithCompletion:(id /* block */)completion;
- (void)updateOntologyWithReason:(long long)reason completion:(id /* block */)completion;
- (void)triggerGatedUpdateWithMaximumDelay:(double)delay completion:(id /* block */)completion;
- (BOOL)updateOntologyWithShardIdentifier:(id)identifier schemaType:(id)type schemaVersion:(long long)version localShardURL:(id)url shardVersion:(long long)version error:(id *)error;
- (void)periodicActivity:(id)activity configureXPCActivityCriteria:(id)criteria;
- (void)performPeriodicActivity:(id)activity completion:(id /* block */)completion;
- (void)profileDidBecomeReady:(id)ready;
- (void)URLSession:(id)urlsession taskIsWaitingForConnectivity:(id)connectivity;
@end

#endif /* HDOntologyUpdateCoordinator_h */
