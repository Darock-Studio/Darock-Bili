//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 624.0.100.0.0
//
#ifndef PLThumbnailManagerCore_h
#define PLThumbnailManagerCore_h
@import Foundation;

#include "PLPhotoLibraryPathManager.h"
#include "PLThumbPersistenceManager-Protocol.h"

@class NSArray, NSLock, NSMutableDictionary;

@interface PLThumbnailManagerCore : NSObject {
  /* instance variables */
  NSMutableDictionary *_thumbnailConfigurationDict;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _ivarLock;
  NSLock *_thumbManagersLock;
  NSObject<PLThumbPersistenceManager> *_lastUsedThumbManager;
  unsigned short _lastUsedThumbManagerFormatID;
  NSArray *_fastImageTables;
}

@property (readonly) NSMutableDictionary *thumbManagersByFormat;
@property (readonly) PLPhotoLibraryPathManager *pathManager;

/* class methods */
+ (id)_thumbnailFormatsFromIDs:(id)ids;
+ (id)_generateTableFormatsFromFormatIDs:(id)ids;
+ (id)_configurationThumbnailFormatIDsWithPathManager:(id)manager;
+ (id)_generateUncompressedImageTableSpecificationsForRunningConfigWithPathManager:(id)manager;
+ (id)_formatIDsForIthmbFilesWithPathManager:(id)manager;
+ (BOOL)_isSuppressingTargetConfigComparedToSavedConfigForPathManager:(id)manager;
+ (void)invalidateCachedConfig;
+ (BOOL)isSuppressingTargetConfigDueToPendingThumbMigrationForPathManager:(id)manager;
+ (void)invalidateIsSuppressingTargetConfigDueToPendingThumbMigrationForPathManager:(id)manager;
+ (int)thumbnailVersionForConfigPhase:(long long)phase withPathManager:(id)manager;
+ (id)thumbnailFormatIDsForConfigPhase:(long long)phase withPathManager:(id)manager;
+ (id)thumbnailFormatsForConfigPhase:(long long)phase withPathManager:(id)manager;
+ (id)tableThumbnailFormatsForConfigPhase:(long long)phase withPathManager:(id)manager;
+ (id)uncompressedImageTableSpecificationsWithPathManager:(id)manager;
+ (BOOL)_hasTableChangesOnlyFromFormatIDs:(id)ids toFormatIDs:(id)ids;
+ (BOOL)_hasTableFormatsAndAllAreCompressedForFormatIDs:(id)ids;
+ (long long)requiredThumbnailResetTypeWithPathManager:(id)manager comparedToConfigPhase:(long long)phase;
+ (BOOL)isMissingThumbnailTablesWithPathManager:(id)manager;
+ (void)removeThumbnailTablesUnsupportedOnly:(BOOL)only withPathManager:(id)manager;
+ (void)removeThumbnailTablesUnsupportedOnly:(BOOL)only withPathManager:(id)manager fileManagerDelegate:(id)delegate;
+ (long long)allocatedFileSizeOfThumbnailTablesWithPathManager:(id)manager;
+ (void)enumerateThumbnailTablesWithPathManager:(id)manager fileManager:(id)manager handler:(id /* block */)handler;
+ (id)thumbnailConfigurationPathWithPathManager:(id)manager;
+ (id)thumbnailConfigurationDictWithPathManager:(id)manager;
+ (void)markThumbnailConfigurationForTableOnlyRebuildForThumbnailConfigDict:(id)dict;
+ (void)markThumbnailConfigurationTableOnlyRebuildFinishedForThumbnailConfigDict:(id)dict;
+ (BOOL)wantsTableOnlyRebuildForThumbnailConfigDict:(id)dict;
+ (int)configurationThumbnailVersionWithPathManager:(id)manager;
+ (BOOL)hasThumbnailConfigMismatchWithPathManager:(id)manager comparedToConfigPhase:(long long)phase;
+ (void)stampThumbnailConfiguration:(id)configuration toFile:(BOOL)file withPathManager:(id)manager;
+ (id)supportedThumbnailFormatIDsForDeviceConfiguration:(id)configuration;

/* instance methods */
- (id)_thumbManagerForFormatID:(unsigned short)id;
- (id)initWithPhotoLibraryPathManager:(id)manager;
- (void)dealloc;
- (id)thumbManagerForFormatID:(unsigned short)id thumbFileManagerClass:(Class)class readOnly:(BOOL)only;
- (id)fastThumbPersistenceManagers;
@end

#endif /* PLThumbnailManagerCore_h */
