//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 598.10.0.0.0
//
#ifndef BKHIDEventDeliveryManager_h
#define BKHIDEventDeliveryManager_h
@import Foundation;

#include "BKHIDEventBufferingHIDSystem-Protocol.h"
#include "BKHIDEventClientDelegate-Protocol.h"
#include "BKHIDEventDeliveryResolutionObserver-Protocol.h"

@class BKSHIDEventAuthenticationOriginator, BKSHIDEventDisplay, BSMutableIntegerMap, NSDictionary, NSMutableArray, NSMutableDictionary, NSSet, NSString;

@interface BKHIDEventDeliveryManager : NSObject<BKHIDEventClientDelegate> {
  /* instance variables */
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _lock;
  NSMutableArray *_deliveryRoots;
  NSMutableArray *_keyCommandDeliveryRoots;
  NSMutableDictionary *_buffersByDispatchTarget;
  BSMutableIntegerMap *_deferringRulesByPID;
  BSMutableIntegerMap *_bufferingPredicatesByPID;
  BSMutableIntegerMap *_clientsByPID;
  NSSet *_deferringResolutions;
  NSMutableDictionary *_destinationCacheBySender;
}

@property (retain, nonatomic) NSObject<BKHIDEventDeliveryResolutionObserver> *resolutionObserver;
@property (nonatomic) BOOL observeClientDeath;
@property (retain, nonatomic) NSObject<BKHIDEventBufferingHIDSystem> *bufferingDispatcher;
@property (readonly, nonatomic) NSDictionary *currentBuffersPerDispatchTarget;
@property (retain, nonatomic) BKSHIDEventDisplay *mainDisplay;
@property (readonly, nonatomic) BKSHIDEventAuthenticationOriginator *authenticationOriginator;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)init;
- (id)initWithObserverService:(id)service;
- (void)dealloc;
- (void)setDispatchingRuleSets:(id)sets forClientWithPID:(int)pid;
- (void)setKeyCommandDispatchingRules:(id)rules forClientWithPID:(int)pid;
- (void)setDeferringRules:(id)rules forClientWithPID:(int)pid;
- (void)setKeyCommandsRegistrations:(id)registrations forClientWithPID:(int)pid;
- (void)setEventBufferingPredicates:(id)predicates forClientWithPID:(int)pid;
- (void)reevaluateBufferingWithContext:(id)context;
- (id)sequenceForKeyCommand:(id)command sender:(id)sender processor:(id)processor dispatcher:(id)dispatcher additionalContext:(id)context;
- (id)sequenceForFirstEvent:(struct __IOHIDEvent *)event sender:(id)sender processor:(id)processor dispatcher:(id)dispatcher additionalContext:(id)context;
- (id)destinationsForEvent:(struct __IOHIDEvent *)event sender:(id)sender;
- (id)destinationsStartingFromPID:(int)pid deferringPredicate:(id)predicate;
- (id)destinationsForKeyCommand:(id)command sender:(id)sender;
- (id)descriptionOfResolutionPathForEventDescriptor:(id)descriptor senderDescriptor:(id)descriptor;
- (id)descriptionOfResolutionPathForKeyCommand:(id)command senderDescriptor:(id)descriptor;
- (id)_test_deliveryRootForIdentifier:(id)identifier;
- (void)_fireTimeoutForPID:(int)pid bufferingPredicates:(id)predicates client:(id)client;
- (void)_test_terminateClientPID:(int)pid;
- (void)clientDied:(id)died;
@end

#endif /* BKHIDEventDeliveryManager_h */
