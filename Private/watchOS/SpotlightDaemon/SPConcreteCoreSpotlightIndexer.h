//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2274.8.0.0.0
//
#ifndef SPConcreteCoreSpotlightIndexer_h
#define SPConcreteCoreSpotlightIndexer_h
@import Foundation;

#include "SPCoreSpotlightIndexer.h"

@class BOOL *, NSMapTable, NSMutableArray, NSMutableSet, NSSet, NSString;
@protocol OS_dispatch_queue, OS_dispatch_source, OS_os_transaction;

@interface SPConcreteCoreSpotlightIndexer : NSObject {
  /* instance variables */
  atomic unsigned int _maintenanceOperations;
  int * _cancelPtr;
  BOOL _scheduledStringsCleanup;
  NSMutableSet *_reindexAllDelegateBundleIDs;
  double _lastPreheat;
  double _lastTTLPass;
  unsigned long long _createCount;
  BOOL _readOnly;
  NSMutableArray *_blocksToRunWhenFinishedDraining;
}

@property (weak, nonatomic) SPCoreSpotlightIndexer *owner;
@property (nonatomic) struct __SI * index;
@property (nonatomic) struct __SIResultQueue * resultQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *indexQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *firstUnlockQueue;
@property (retain, nonatomic) NSString *dataclass;
@property (readonly, nonatomic) NSObject<OS_dispatch_source> *indexIdleTimer;
@property (readonly, nonatomic) double idleStartTime;
@property (retain, nonatomic) NSMutableArray *outstandingMaintenance;
@property (retain) NSSet *knownClients;
@property (readonly, nonatomic) NSMapTable *checkedInClients;
@property unsigned long long dirtyTimeout;
@property (retain, nonatomic) NSObject<OS_os_transaction> *dirtyTransaction;
@property (nonatomic) BOOL finishedDrainingJournal;

/* class methods */
+ (void)initialize;
+ (BOOL)dumpCrashStates:(const char *)states toFile:(id)file;
+ (id)_stateInfoAttributeNameWithClientStateName:(id)name;
+ (id)_setOfTokensToCorrect:(id)correct tokenMatchInfo:(id)info;
+ (id)_tokensMaxCountFromMatchInfo:(id)info;
+ (id)_sharedSynonyms;
+ (id)_stringWithRewriteType:(long long)type;
+ (id)_descriptionWithTokenRewrites:(id)rewrites;
+ (BOOL)_spellingCorrectionConditional:(int)conditional isSingleToken:(BOOL)token isPreviousTokenCorrected:(BOOL)corrected isLastToken:(BOOL)token tokenLength:(unsigned long long)length;
+ (id)_lastTokenWithQueryString:(id)string tokenMatchInfo:(id)info;
+ (id)_indexIndependentTokenRewritesWithMatchInfo:(id)info queryID:(long long)id setOfTokensToCorrect:(id)correct;
+ (id)_getBundleIndexesFrom:(id)from;
+ (id)_indexDependentTokenRewritesWithMatchInfo:(id)info topK:(id)k setOfTokensToCorrect:(id)correct queryID:(long long)id bundleIds:(id)ids clientBundleId:(id)id;

/* instance methods */
- (void)setProperty:(id)property forKey:(id)key sync:(BOOL)sync;
- (id)getPropertyForKey:(id)key;
- (long long)getIntegerPropertyForKey:(id)key;
- (void)reindexAttributes:(id)attributes ofItemsMatchingQuery:(id)query indexAttrName:(id)name withVersion:(unsigned long long)version perItemCompletionAttribute:(id)attribute force:(BOOL)force postFilter:(id)filter;
- (void)updateEmailLocalParts:(BOOL)parts;
- (void)updateEmailContentURLAttr:(BOOL)urlattr;
- (void)updateRankingDates:(BOOL)dates;
- (void)updateContainersAndScores:(BOOL)scores;
- (void)updateGroups:(BOOL)groups;
- (void)dumpAllRankingDiagnosticInformationForQuery:(id)query withCompletionHandler:(id /* block */)handler;
- (void)performQueryForCountOfItemsInCategory:(id)category completion:(id /* block */)completion;
- (id)initWithQueue:(id)queue protectionClass:(id)class cancelPtr:(int *)ptr;
- (void)dealloc;
- (id)_cancelIdleTimer;
- (void)dirty:(BOOL)dirty;
- (void)dirty;
- (id)_indexPath;
- (void)_performXPCActivity:(id)xpcactivity name:(id)name;
- (id)_indexMaintenanceActivityName;
- (void)scheduleMaintenance:(id /* block */)maintenance description:(id)description forDarkWake:(BOOL)wake;
- (void)indexFinishedDrainingJournal:(id)journal;
- (void)whenFinishedDraining:(id /* block */)draining;
- (void)fixupPathTimeouts;
- (void)indexFinishedDrainingJournal;
- (void)removeExpiredItemsForBundleId:(id)id group:(id)group;
- (void)revokeExpiredItems:(id)items;
- (void)requestRequiresImportWithoutSandboxExtension:(id)extension maxCount:(unsigned long long)count;
- (void)_expireCorruptIndexFilesWithPath:(id)path keepLatest:(BOOL)latest;
- (void)_saveCorruptIndexWithPath:(id)path;
- (int)openIndexForUpgradeSynchronous;
- (int)openIndex:(BOOL)index shouldReindexAll:(BOOL)all readOnly:(BOOL)only;
- (int)openIndex:(BOOL)index shouldReindexAll:(BOOL)all;
- (int)openIndex:(BOOL)index;
- (void)clientDidCheckin:(id)checkin service:(id)service completionHandler:(id /* block */)handler;
- (void)checkInWithBundleID:(id)id completionHandler:(id /* block */)handler;
- (void)addClients:(id)clients;
- (void)_addNewClientWithBundleID:(id)id;
- (void)performIndexerTask:(id)task completionHandler:(id /* block */)handler;
- (void)performIndexerTask:(id)task withIndexDelegatesAndCompletionHandler:(id /* block */)handler;
- (void)startReindexAll;
- (void)finishReindexAll;
- (BOOL)reindexAllStarted;
- (void)fetchAllCompletedBundleIDsForIndexerTask:(id)task completionHandler:(id /* block */)handler;
- (void)addCompletedBundleIDs:(id)ids forIndexerTask:(id)task;
- (void)commitUpdates:(id)updates;
- (void)coolDown:(id)down;
- (void)shrink:(unsigned long long)shrink;
- (void)issueSplit;
- (void)mergeWithGroup:(id)group;
- (void)mergeWithCompletionHandler:(id /* block */)handler;
- (void)cleanupStringsWithCompletionHandler:(id /* block */)handler;
- (void)cleanupStringsWithActivity:(id)activity group:(id)group shouldDefer:(BOOL *)defer flags:(int)flags;
- (void)issueDefrag:(id)defrag;
- (void)issueRepair;
- (void)issueConsistencyCheck;
- (void)issueDuplicateOidCheck;
- (void)fixupMessageAttachmentsWithCompletionHandler:(id /* block */)handler;
- (void)issueMessagesFixup:(id /* block */)fixup;
- (void)_appendRervseInfo:(id)info dictionary:(id)dictionary key:(id)key level:(unsigned long long)level;
- (void)issueDumpReverse:(unsigned long long)reverse completionHandler:(id /* block */)handler;
- (void)issueDumpForward:(unsigned long long)forward completionHandler:(id /* block */)handler;
- (BOOL)writeDiagnostic:(id)diagnostic bundleID:(id)id identifier:(id)identifier;
- (void)closeIndex;
- (void)resumeIndex;
- (void)readyIndex:(BOOL)index;
- (void)preheat;
- (void)checkAdmission:(id)admission background:(BOOL)background didBeginThrottle:(BOOL *)throttle didEndThrottle:(BOOL *)throttle live:(BOOL *)live slow:(BOOL *)slow;
- (void)completeIndexingItemFor:(id)for delegate:(id)delegate didBeginThrottle:(BOOL)throttle didEndThrottle:(BOOL)throttle error:(id)error live:(BOOL)live queue:(id)queue slow:(BOOL)slow startTime:(double)time completionHandler:(id /* block */)handler;
- (void)indexFromBundle:(id)bundle personaID:(id)id options:(long long)options items:(id)items itemsText:(id)text clientState:(id)state expectedClientState:(id)state clientStateName:(id)name deletes:(id)deletes completionHandler:(id /* block */)handler;
- (void)indexSearchableItems:(id)items deleteSearchableItemsWithIdentifiers:(id)identifiers clientState:(id)state forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)indexSearchableItems:(id)items deleteSearchableItemsWithIdentifiers:(id)identifiers clientState:(id)state expectedClientState:(id)state clientStateName:(id)name forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (id)_startQueryWithQueryTask:(id)task eventHandler:(id /* block */)handler resultsHandler:(id /* block */)handler;
- (void)startQueryWithQueryTask:(id)task startHandler:(id /* block */)handler eventHandler:(id /* block */)handler resultsHandler:(id /* block */)handler;
- (void)willModifySearchableItemsWithIdentifiers:(id)identifiers forBundleID:(id)id completionHandler:(id /* block */)handler;
- (void)_backgroundDeleteItems:(id)items bundleID:(id)id completionHandler:(id /* block */)handler;
- (void)deleteItemsForQuery:(id)query bundleID:(id)id completionHandler:(id /* block */)handler;
- (void)deleteItemsForEnumerator:(id)enumerator traceID:(long long)id bundleID:(id)id completionHandler:(id /* block */)handler;
- (void)deleteSearchableItemsWithDomainIdentifiers:(id)identifiers forBundleID:(id)id completionHandler:(id /* block */)handler;
- (void)deleteSearchableItemsWithPersonaIds:(id)ids completionHandler:(id /* block */)handler;
- (void)deleteAllUserActivities:(id)activities completionHandler:(id /* block */)handler;
- (void)_scheduleStringsCleanupForBundleID:(id)id;
- (void)zombifyAllContactItems:(id)items;
- (void)restartAttachmentImport:(id)import maxCount:(unsigned long long)count;
- (void)removeSandboxExtensions:(id)extensions;
- (void)deleteAllSearchableItemsForBundleID:(id)id shouldGC:(BOOL)gc completionHandler:(id /* block */)handler;
- (void)_deleteSearchableItemsMatchingQuery:(id)query forBundleIds:(id)ids completionHandler:(id /* block */)handler;
- (void)deleteSearchableItemsSinceDate:(id)date forBundleID:(id)id completionHandler:(id /* block */)handler;
- (void)deleteActionsBeforeTime:(double)time completionHandler:(id /* block */)handler;
- (void)deleteActionsWithIdentifiers:(id)identifiers completionHandler:(id /* block */)handler;
- (void)deleteAllInteractionsWithBundleID:(id)id completionHandler:(id /* block */)handler;
- (void)fetchLastClientStateForBundleID:(id)id clientStateName:(id)name completionHandler:(id /* block */)handler;
- (void)changeStateOfSearchableItemsWithUIDs:(id)uids toState:(long long)state forBundleID:(id)id;
- (void)fetchAttributes:(id)attributes bundleID:(id)id identifiers:(id)identifiers userCtx:(id)ctx flags:(int)flags completionHandler:(id /* block */)handler;
- (void)fetchAttributes:(id)attributes bundleID:(id)id identifiers:(id)identifiers userCtx:(id)ctx flags:(int)flags completion:(id /* block */)completion;
- (void)attributesForBundleId:(id)id identifier:(id)identifier completion:(id /* block */)completion;
- (void)powerStateChanged;
- (BOOL)_startInternalQueryWithIndex:(struct __SI *)index query:(id)query fetchAttributes:(id)attributes forBundleIds:(id)ids maxCount:(unsigned long long)count resultsHandler:(id /* block */)handler resultQueue:(id)queue postFilter:(id)filter;
- (BOOL)_startInternalQueryWithIndex:(struct __SI *)index query:(id)query fetchAttributes:(id)attributes forBundleIds:(id)ids maxCount:(unsigned long long)count resultsHandler:(id /* block */)handler resultQueue:(id)queue;
- (BOOL)_startInternalQueryWithIndex:(struct __SI *)index query:(id)query fetchAttributes:(id)attributes forBundleIds:(id)ids maxCount:(unsigned long long)count resultsHandler:(id /* block */)handler;
- (BOOL)_startInternalQueryWithIndex:(struct __SI *)index query:(id)query fetchAttributes:(id)attributes forBundleIds:(id)ids resultsHandler:(id /* block */)handler;
- (BOOL)_startInternalQueryWithIndex:(struct __SI *)index query:(id)query fetchAttributes:(id)attributes resultsHandler:(id /* block */)handler;
- (void)_fetchAccumulatedStorageSizeForBundleId:(id)id completionHandler:(id /* block */)handler;
- (void)indexDependentTokenRewritesWithQueryString:(id)string context:(id)context matchInfo:(id)info setOfTokensToCorrect:(id)correct tokenRewritesHandler:(id /* block */)handler;
- (void)transferDeleteJournalsToDirectory:(int)directory completionHandler:(id /* block */)handler;
@end

#endif /* SPConcreteCoreSpotlightIndexer_h */
