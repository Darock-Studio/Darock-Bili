//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2274.8.0.0.0
//
#ifndef SPCoreSpotlightIndexer_h
#define SPCoreSpotlightIndexer_h
@import Foundation;

#include "MDIndexer-Protocol.h"
#include "NSObject-Protocol.h"
#include "SPCoreSpotlightTask.h"
#include "UMUserPersonaUpdateObserver-Protocol.h"

@class NSArray, NSDictionary, NSMutableSet, NSSet, NSString, NSURL;
@protocol CSIndexExtensionDelegate, OS_dispatch_queue, OS_dispatch_source, SPCoreSpotlightIndexerDelegate;

@interface SPCoreSpotlightIndexer : NSObject<UMUserPersonaUpdateObserver, MDIndexer> {
  /* instance variables */
  int cancelFlags[5];
  double _lastUpdateTime;
  NSMutableSet *_bundlesWithIndexedCoreSpotlightItems;
  NSSet *_bundlesWithRemoteSearchSupport;
  NSObject<OS_dispatch_queue> *_appScopingQueue;
  NSString *_serviceName;
  NSArray *_reindexIndexers;
}

@property (retain) NSDictionary *concreteIndexers;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *prefsChangeSource;
@property (retain, nonatomic) NSObject<NSObject> *dataMigrationStartObserver;
@property (retain, nonatomic) NSObject<NSObject> *dataMigrationFinishObserver;
@property (retain, nonatomic) NSSet *dataMigrationBundleIDs;
@property (retain, nonatomic) NSSet *prefsDisabledBundleIDs;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *reindexAllItemsSource;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *reindexAllItemsWithIdentifiersSource;
@property (retain) SPCoreSpotlightTask *reindexAllItemsTask;
@property (readonly, nonatomic) NSDictionary *fileProviderAppToExtensionBundleMap;
@property (readonly, nonatomic) NSDictionary *fileProviderExtensionToAppBundleMap;
@property (retain, nonatomic) NSMutableSet *knownPersonas;
@property (nonatomic) BOOL updatePersonas;
@property (readonly) NSURL *personaListURL;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *personaQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *indexQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *firstUnlockQueue;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *reindexAllQueue;
@property (nonatomic) unsigned long long dataMigrationStage;
@property (readonly, nonatomic) long long transactionCount;
@property (weak) NSObject<CSIndexExtensionDelegate> *extensionDelegate;
@property (weak) NSObject<SPCoreSpotlightIndexerDelegate> *indexerDelegate;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (void)initialize;
+ (void)preheat;
+ (void)cooldown;
+ (void)sync;
+ (void)deviceStateWillChange:(BOOL)change;
+ (void)shrink:(unsigned long long)shrink;
+ (void)setMemoryPressureStatus:(unsigned long long)status;
+ (void)deactivate;
+ (void)shutdown;
+ (id)allProtectionClasses;
+ (void)setIndexerDelegate:(id)delegate;
+ (id)sharedInstance;
+ (id)_mergedTokenRewrites:(id)rewrites;
+ (BOOL)writeDiagnostic:(id)diagnostic bundleID:(id)id identifier:(id)identifier;

/* instance methods */
- (id)concreteIndexerForProtectionClass:(id)class andBundleID:(id)id;
- (id)defaultIndexer;
- (id)priorityIndexer;
- (id)priorityIndexPath;
- (id)priorityIndexAvailableTouchFilePath;
- (id)systemSettingsIndexer;
- (id)contactsIndexer;
- (id)init;
- (void)resume;
- (void)unlock;
- (void)locking;
- (void)locked;
- (id)searchServiceName;
- (id)indexServiceName;
- (id)delegateServiceName;
- (void)setServiceName:(id)name;
- (void)upgradeCheck;
- (void)start;
- (void)dealloc;
- (void)_enumerateIndexersWithProtectionClasses:(id)classes block:(id /* block */)block;
- (void)_enumerateIndexersWithProtectionClasses:(id)classes inferPriorityIndex:(BOOL)index block:(id /* block */)block;
- (void)_enumerateIndexersWithBlock:(id /* block */)block;
- (void)_registerForPrefsChanges;
- (void)_reindexAllItemsOnPrefsChanges;
- (void)_reindexAllItemsForBundleIDs:(id)ids reason:(id)reason completionHandler:(id /* block */)handler;
- (void)preheat;
- (void)flush;
- (void)commitUpdatesWithCompletionHandler:(id /* block */)handler;
- (void)commitUpdates;
- (void)issueSplit:(id)split;
- (void)mergeWithProtectionClasses:(id)classes power:(BOOL)power completionHandler:(id /* block */)handler;
- (void)mergeWithProtectionClasses:(id)classes power:(BOOL)power inferPriorityIndex:(BOOL)index completionHandler:(id /* block */)handler;
- (void)mergeWithProtectionClasses:(id)classes power:(BOOL)power;
- (void)mergeWithProtectionClasses:(id)classes completionHandler:(id /* block */)handler;
- (void)cleanupStringsWithProtectionClasses:(id)classes completionHandler:(id /* block */)handler;
- (void)issueRepair:(id)repair;
- (void)issueCleanup:(id)cleanup flags:(int)flags;
- (void)issueDefrag:(id)defrag group:(id)group;
- (void)issueLoadTrial:(id)trial;
- (void)issueSharedDocumentAttributeFixup;
- (void)issueDumpReverse:(unsigned long long)reverse completionHandler:(id /* block */)handler;
- (void)issueDumpForward:(unsigned long long)forward completionHandler:(id /* block */)handler;
- (void)issueConsistencyCheck:(id)check;
- (void)issueDuplicateOidCheckWithGroup:(id)group protected:(BOOL)protected;
- (void)issueDuplicateOidCheck:(id)check;
- (void)issueMessagesFixup:(id /* block */)fixup;
- (void)coolDown;
- (void)shrink:(unsigned long long)shrink;
- (void)_closeIndexWithIndexers:(id)indexers;
- (void)closeIndex;
- (void)shutdown;
- (void)recycleIndex:(BOOL)index;
- (void)queryPreheat:(id)preheat;
- (id)_taskForQueryWithQueryString:(id)string queryContext:(id)context eventHandler:(id /* block */)handler resultsHandler:(id /* block */)handler completionHandler:(id /* block */)handler;
- (id)taskForQueryWithQueryString:(id)string queryContext:(id)context eventHandler:(id /* block */)handler resultsHandler:(id /* block */)handler completionHandler:(id /* block */)handler;
- (void)startQueryTask:(id)task;
- (id)_startQueryWithQueryString:(id)string queryContext:(id)context eventHandler:(id /* block */)handler resultsHandler:(id /* block */)handler completionHandler:(id /* block */)handler;
- (id)startQueryWithQueryString:(id)string queryContext:(id)context eventHandler:(id /* block */)handler resultsHandler:(id /* block */)handler completionHandler:(id /* block */)handler;
- (id)taskForTopHitQueryWithQueryString:(id)string queryContext:(id)context eventHandler:(id /* block */)handler resultsHandler:(id /* block */)handler completionHandler:(id /* block */)handler;
- (id)startQuery:(id)query withContext:(id)context eventHandler:(id /* block */)handler handler:(id /* block */)handler;
- (id)startQuery:(id)query withContext:(id)context handler:(id /* block */)handler;
- (void)cancelQuery:(id)query;
- (void)recordEngagementForBundleID:(id)id uniqueIdentifier:(id)identifier protectionClass:(id)class userQuery:(id)query date:(id)date;
- (void)rewriteQueryWithQueryString:(id)string context:(id)context matchInfo:(id)info rewriteHandler:(id /* block */)handler;
- (void)reindexAllItemsWithIndexers:(id)indexers completionHandler:(id /* block */)handler;
- (int)_openIndex:(BOOL)index forInit:(BOOL)init readOnly:(BOOL)only;
- (void)writeFileProviderBundleMap:(id)map;
- (void)fileProviderInfoSetup;
- (int)openIndex:(BOOL)index readOnly:(BOOL)only;
- (int)openIndex:(BOOL)index forInit:(BOOL)init readOnly:(BOOL)only;
- (int)openIndex:(BOOL)index;
- (BOOL)writeData:(id)data toFile:(id)file;
- (void)indexFromBundle:(id)bundle protectionClass:(id)class personaID:(id)id options:(long long)options items:(id)items itemsText:(id)text itemsHTML:(id)html clientState:(id)state expectedClientState:(id)state clientStateName:(id)name deletes:(id)deletes completionHandler:(id /* block */)handler;
- (void)indexSearchableItems:(id)items deleteSearchableItemsWithIdentifiers:(id)identifiers clientState:(id)state protectionClass:(id)class forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)indexSearchableItems:(id)items deleteSearchableItemsWithIdentifiers:(id)identifiers clientState:(id)state clientStateName:(id)name protectionClass:(id)class forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)indexSearchableItems:(id)items deleteSearchableItemsWithIdentifiers:(id)identifiers clientState:(id)state expectedClientState:(id)state clientStateName:(id)name protectionClass:(id)class forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)deleteSearchableItemsWithDomainIdentifiers:(id)identifiers protectionClass:(id)class forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)deleteSearchableItemsWithPersonaIds:(id)ids completionHandler:(id /* block */)handler;
- (void)deleteAllSearchableItemsWithBundleID:(id)id protectionClass:(id)class shouldGC:(BOOL)gc completionHandler:(id /* block */)handler;
- (void)deleteAllSearchableItemsWithProtectionClass:(id)class forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)deleteSearchableItemsSinceDate:(id)date protectionClass:(id)class forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)fetchLastClientStateWithProtectionClass:(id)class forBundleID:(id)id clientStateName:(id)name options:(long long)options completionHandler:(id /* block */)handler;
- (void)changeStateOfSearchableItemsWithUIDs:(id)uids toState:(long long)state protectionClass:(id)class forBundleID:(id)id forUTIType:(id)utitype options:(long long)options;
- (void)userPerformedAction:(id)action withItem:(id)item protectionClass:(id)class forBundleID:(id)id personaID:(id)id;
- (void)willModifySearchableItemsWithIdentifiers:(id)identifiers protectionClass:(id)class forBundleID:(id)id options:(long long)options completionHandler:(id /* block */)handler;
- (void)clientDidCheckin:(id)checkin protectionClass:(id)class service:(id)service completionHandler:(id /* block */)handler;
- (void)deleteAllUserActivities:(id)activities completionHandler:(id /* block */)handler;
- (void)deleteActionsBeforeTime:(double)time completionHandler:(id /* block */)handler;
- (void)deleteActionsWithIdentifiers:(id)identifiers completionHandler:(id /* block */)handler;
- (void)deleteAllInteractionsWithBundleID:(id)id completionHandler:(id /* block */)handler;
- (void)addInteraction:(id)interaction bundleID:(id)id protectionClass:(id)class;
- (void)getDBLogsWithCompletionHandler:(id /* block */)handler;
- (void)_issueDiagnose:(int)diagnose completionHandler:(id /* block */)handler;
- (void)_issueCommand:(id)command searchContext:(id)context completionHandler:(id /* block */)handler;
- (void)topKTerms:(id)kterms completionHandler:(id /* block */)handler;
- (void)performIndexerTask:(id)task completionHandler:(id /* block */)handler;
- (void)addCompletedBundleIDs:(id)ids forIndexerTask:(id)task;
- (void)performIndexerTask:(id)task withIndexExtensionsAndCompletionHandler:(id /* block */)handler;
- (double)lastUpdateTime;
- (void)fetchAttributes:(id)attributes protectionClass:(id)class bundleID:(id)id identifiers:(id)identifiers userCtx:(id)ctx flags:(unsigned int)flags qos:(unsigned int)qos completionHandler:(id /* block */)handler;
- (void)fetchAttributesForProtectionClass:(id)class attributes:(id)attributes bundleID:(id)id identifiers:(id)identifiers userCtx:(id)ctx flags:(int)flags completion:(id /* block */)completion;
- (void)fetchAttributesForProtectionClass:(id)class attributes:(id)attributes bundleID:(id)id identifiers:(id)identifiers completion:(id /* block */)completion;
- (void)revokeExpiredItems:(id)items protected:(BOOL)protected;
- (void)powerStateChanged;
- (id)queryForWord:(id)word matchingAttributes:(id)attributes prefixMatch:(BOOL)match;
- (void)personaListDidUpdate;
- (void)handleRankingCommand:(id)command completion:(id /* block */)completion;
- (void)_fetchAccumulatedStorageSizeForBundleId:(id)id completionHandler:(id /* block */)handler;
- (void)provideDataForBundle:(id)bundle identifier:(id)identifier type:(id)type completionHandler:(id /* block */)handler;
- (void)provideFileURLForBundle:(id)bundle identifier:(id)identifier type:(id)type completionHandler:(id /* block */)handler;
@end

#endif /* SPCoreSpotlightIndexer_h */
