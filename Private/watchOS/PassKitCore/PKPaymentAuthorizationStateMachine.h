//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1552.3.6.1.1
//
#ifndef PKPaymentAuthorizationStateMachine_h
#define PKPaymentAuthorizationStateMachine_h
@import Foundation;

#include "OS_dispatch_source-Protocol.h"
#include "PKAccount.h"
#include "PKAccountEnhancedMerchantsFetcher.h"
#include "PKAccountService.h"
#include "PKAggregateDictionaryProtocol-Protocol.h"
#include "PKBluetoothMonitorer.h"
#include "PKBluetoothMonitorerDelegate-Protocol.h"
#include "PKContinuityPaymentCoordinator.h"
#include "PKContinuityPaymentCoordinatorDelegate-Protocol.h"
#include "PKContinuityPaymentService.h"
#include "PKInAppPaymentSession.h"
#include "PKPayLaterFinancingController.h"
#include "PKPayLaterFinancingControllerObserver-Protocol.h"
#include "PKPaymentAuthorizationClientCallbackStateParam.h"
#include "PKPaymentAuthorizationDataModel.h"
#include "PKPaymentService.h"
#include "PKPaymentSheetExperiment.h"
#include "PKPaymentWebService.h"
#include "PKPeerPaymentService.h"
#include "PKPeerPaymentSession.h"
#include "PKSecureElement.h"

@class NSArray, NSMutableArray, NSString, NSUUID;
@protocol OS_dispatch_group, PKPaymentAuthorizationStateMachineDelegate;

@interface PKPaymentAuthorizationStateMachine : NSObject<PKContinuityPaymentCoordinatorDelegate, PKPayLaterFinancingControllerObserver, PKBluetoothMonitorerDelegate>

@property (retain, nonatomic) PKContinuityPaymentCoordinator *continuityPaymentCoordinator;
@property (retain, nonatomic) PKPayLaterFinancingController *financingController;
@property (retain, nonatomic) NSMutableArray *callbackQueue;
@property (nonatomic) unsigned long long state;
@property (nonatomic) unsigned long long hostApplicationState;
@property (nonatomic) BOOL hasReceivedRemoteDeviceUpdate;
@property (nonatomic) BOOL awaitingClientCallbackReply;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *clientCallbackTimer;
@property (retain, nonatomic) PKPaymentAuthorizationClientCallbackStateParam *mostRecentClientCallback;
@property (nonatomic) BOOL awaitingWebServiceResponse;
@property (retain, nonatomic) NSString *instanceIdentifier;
@property (nonatomic) unsigned long long prepareTransactionDetailsCounter;
@property (readonly, nonatomic) BOOL useSecureElement;
@property (nonatomic) BOOL detectedBluetoothOn;
@property (retain, nonatomic) NSObject<OS_dispatch_group> *delayAuthorizedStateGroup;
@property (retain, nonatomic) NSArray *remoteDevicesToUpdate;
@property (retain, nonatomic) PKSecureElement *secureElement;
@property (nonatomic) BOOL odiAssessmentInFlight;
@property (retain, nonatomic) PKAccountEnhancedMerchantsFetcher *enhancedMerchantsFetcher;
@property (retain, nonatomic) NSUUID *enhancedMerchantsFetcherUpdateToken;
@property (retain, nonatomic) PKAccount *appleCardAccount;
@property (nonatomic) unsigned long long failureStatusCount;
@property (retain, nonatomic) PKPaymentSheetExperiment *paymentSheetExperiment;
@property (retain, nonatomic) PKPaymentService *paymentService;
@property (retain, nonatomic) PKPaymentWebService *paymentWebService;
@property (retain, nonatomic) PKAccountService *accountService;
@property (retain, nonatomic) PKPeerPaymentService *peerPaymentService;
@property (retain, nonatomic) PKPaymentAuthorizationDataModel *model;
@property (retain, nonatomic) NSObject<PKAggregateDictionaryProtocol> *aggregateDictionary;
@property (retain, nonatomic) PKInAppPaymentSession *inAppPaymentSession;
@property (retain, nonatomic) PKPeerPaymentSession *peerPaymentSession;
@property (retain, nonatomic) PKContinuityPaymentService *continuityPaymentService;
@property (nonatomic) double updatePaymentDeviceTimeout;
@property (retain, nonatomic) PKBluetoothMonitorer *bluetoothMonitor;
@property (weak, nonatomic) NSObject<PKPaymentAuthorizationStateMachineDelegate> *delegate;
@property (nonatomic) long long cancelReason;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* instance methods */
- (id)init;
- (void)dealloc;
- (void)_setState:(unsigned long long)state;
- (void)_setState:(unsigned long long)state param:(id)param;
- (void)__setState:(unsigned long long)state param:(id)param;
- (void)_applyWebServiceConfigurationIfNeeded;
- (void)_configurePurchaseOptionsIfNeeded;
- (BOOL)_purchaseSupportsFinancingOptions;
- (void)_fetchFinancingOptionsIfNeeded;
- (void)payLaterFinancingAssessmentCollectionDidUpdate:(id)update;
- (void)payLaterAvailableFundingSourcesDidChange:(id)change;
- (void)payLaterFinancingController:(id)controller financingOptionCancelled:(id)cancelled;
- (void)_updateFinancingAssessmentsWithCollection:(id)collection;
- (void)_removeWebServiceConfigurationIfNeeded;
- (void)start;
- (void)invalidate;
- (void)_startAssessmentIfNecessary;
- (BOOL)canSelectPaymentOptions;
- (void)didResignActive:(BOOL)active;
- (void)didBecomeActive:(BOOL)active;
- (void)didBecomeOccluded:(BOOL)occluded;
- (void)didBecomeArmable:(BOOL)armable;
- (void)didCancel;
- (void)didEncounterError:(id)error;
- (void)didEncounterFatalError:(id)error;
- (void)didResolveError;
- (void)didResolveLoadingState;
- (void)didRequestMerchantSession;
- (void)didReceiveMerchantSessionCompleteWithSession:(id)session error:(id)error;
- (void)didReceiveMerchantSessionCompleteWithUpdate:(id)update;
- (void)didChangeCouponCode:(id)code;
- (void)didReceiveCouponCodeCompleteWithUpdate:(id)update;
- (void)didEncounterShippingEmailError:(id)error;
- (void)didSelectShippingEmail:(id)email;
- (void)didSelectShippingPhoneNumber:(id)number;
- (void)didSelectShippingName:(id)name;
- (void)didSelectBillingAddress:(id)address;
- (void)didSelectFinancingOption:(id)option;
- (void)_processErrorsForDataType:(long long)type;
- (void)didSelectShippingContact:(id)contact;
- (void)didChangePeerPaymentUsage:(BOOL)usage;
- (void)didSelectBankAccount:(id)account;
- (void)didReceiveShippingContactCompleteWithUpdate:(id)update;
- (void)didReceiveShippingContactCompleteWithStatus:(long long)status shippingMethods:(id)methods paymentSummaryItems:(id)items;
- (void)didSelectShippingMethod:(id)method;
- (void)didReceiveShippingMethodCompleteWithUpdate:(id)update;
- (void)didReceiveUpdateAccountServicePaymentMethodCompleteWithUpdate:(id)update signatureRequest:(id)request;
- (void)didReceiveShippingMethodCompleteWithStatus:(long long)status paymentSummaryItems:(id)items;
- (void)didSelectPaymentPass:(id)pass;
- (void)didSelectPaymentPass:(id)pass paymentApplication:(id)application;
- (void)didSelectRemotePaymentInstrument:(id)instrument;
- (void)didSelectRemotePaymentInstrument:(id)instrument paymentApplication:(id)application;
- (void)didReceivePaymentMethodCompleteWithUpdate:(id)update;
- (void)didReceivePaymentMethodCompleteWithSummaryItems:(id)items;
- (void)didRequestRefreshPaymentMethods;
- (void)didAuthenticateWithCredential:(id)credential;
- (void)didAuthenticateWithAuthenticatorEvaluationResponse:(id)response;
- (void)didReceivePaymentAuthorizationResult:(id)result;
- (id)sanitizeClientErrors:(id)errors;
- (long long)statusFromPaymentError:(id)error;
- (BOOL)isErrorAboutPostalAddressField:(id)field;
- (void)didReceivePaymentAuthorizationStatus:(long long)status;
- (void)delayAuthorizedStateByDuration:(double)duration;
- (void)beginDelayingAuthorizedState;
- (void)endDelayingAuthorizedState;
- (void)didChangeFundingMode:(long long)mode;
- (void)continuityPaymentCoordinatorDidTimeoutUpdatePaymentDevices:(id)devices;
- (void)continuityPaymentCoordinator:(id)coordinator didTimeoutTotalWithPaymentDevices:(id)devices;
- (void)continuityPaymentCoordinator:(id)coordinator didReceiveUpdatedPaymentDevices:(id)devices;
- (void)continuityPaymentCoordinator:(id)coordinator didReceivePayment:(id)payment;
- (void)continuityPaymentCoordinatorDidReceiveCancellation:(id)cancellation;
- (void)bluetoothMonitorerRecievedUpdatedBluetoothState:(long long)state;
- (void)_processBluetoothState:(long long)state;
- (void)_updateModelWithRemoteDevices:(id)devices;
- (void)_deviceUpdateDidFailWithNoEiligbleRemoteDevices:(id)devices;
- (void)_performUpdatePaymentDevices;
- (void)_performSendRemotePaymentRequest;
- (void)_performSendClientUpdateWithShippingMethods:(id)methods paymentSummaryItems:(id)items multiTokenContexts:(id)contexts recurringPaymentRequest:(id)request automaticReloadPaymentRequest:(id)request deferredPaymentRequest:(id)request paymentApplication:(id)application status:(long long)status;
- (void)_performSendPaymentResult:(id)result;
- (void)_performCancelRemotePaymentRequest;
- (id)_createNewRemotePaymentRequest;
- (void)_start;
- (void)_startHandoff;
- (void)_startRemoteDeviceUpdate;
- (void)_startPayment;
- (void)_performInstallmentBind;
- (void)_enqueueInitialCallbacks;
- (void)_sendDidTransitionFromState:(unsigned long long)state toState:(unsigned long long)state withParam:(id)param;
- (void)_advanceToNextState;
- (void)_advanceToNextStateFromResolveError:(BOOL)error;
- (void)_updateModelWithPaymentSummaryItems:(id)items;
- (BOOL)_isMultiTokenContextsSupported;
- (BOOL)_canUpdateWithMultiTokenContexts:(id)contexts error:(id *)error;
- (BOOL)_isDeviceTransactionAssessmentEnabled;
- (BOOL)_isRequestUsedForTransactionAssessment;
- (BOOL)_isServiceProviderAssessmentEnabled;
- (BOOL)_isMerchantTokensSupported;
- (BOOL)_canUpdateWithRecurringPaymentRequest:(id)request error:(id *)error;
- (BOOL)_canUpdateWithAutomaticReloadPaymentRequest:(id)request error:(id *)error;
- (BOOL)_canUpdateWithBillingAgreement:(id)agreement oldAgreement:(id)agreement error:(id *)error;
- (BOOL)_canUpdateWithDeferredPaymentRequest:(id)request error:(id *)error;
- (void)_updateModelWithShippingMethods:(id)methods paymentSummaryItems:(id)items multiTokenContexts:(id)contexts recurringPaymentRequest:(id)request automaticReloadPaymentRequest:(id)request deferredPaymentRequest:(id)request contentItems:(id)items;
- (void)_updateAssessmentAttributes;
- (void)_updatePassRewardsInfo;
- (void)_performPassRewardsUpdateForCooldownLevel:(unsigned long long)level ignoreErrorBackoff:(BOOL)backoff merchantIdentifier:(id)identifier;
- (void)_dispatchNextCallbackParam;
- (void)_enqueueCallbackOfKind:(long long)kind withObject:(id)object;
- (id)_dequeuePendingCallbackParam;
- (BOOL)hasPendingCallbacks;
- (void)_startClientCallbackTimer;
- (void)_cancelClientCallbackTimer;
- (void)_clientCallbackTimedOut;
- (void)_enqueueDidRequestMerchantSession;
- (void)_enqueueDidSelectShippingContact:(id)contact;
- (void)_enqueueDidSelectPaymentMethodWithBindToken:(id)token;
- (void)_enqueueDidSelectPaymentMethodWithQuote:(id)quote;
- (void)_enqueueDidSelectPayLaterFinancingWithAccount:(id)account;
- (void)_enqueueDidSelectBankAccount:(id)account;
- (void)_enqueueDidSelectPaymentPass:(id)pass;
- (void)_enqueueDidSelectPaymentPass:(id)pass paymentApplication:(id)application;
- (void)_enqueueDidSelectRemotePaymentInstrument:(id)instrument;
- (void)_enqueueDidSelectRemotePaymentInstrument:(id)instrument paymentApplication:(id)application;
- (void)_enqueueDidUpdateAccountServicePaymentMethod:(id)method;
- (void)_enqueueDidAuthorizePaymentWithInstallmentAuthorizationToken:(id)token;
- (void)_enqueueDidAuthorizePaymentWithToken:(id)token;
- (void)_enqueueDidAuthorizePaymentWithByPassPayment:(id)payment;
- (void)_enqueueDidAuthorizePaymentWithRemotePayment:(id)payment;
- (void)_enqueueDidAuthorizeContext;
- (void)_enqueueDidAuthorizePaymentWithPayment:(id)payment;
- (void)_enqeueDidAuthorizePurchaseWithParam:(id)param;
- (void)_enqueueDidAuthorizePeerPaymentQuoteWithAuthorizedQuote:(id)quote;
- (void)_enqueueDidAuthorizeAccountServicePaymentRequestWithApplePayTrustSignature:(id)signature;
- (void)_updatePaymentRequestBillingAddressWithPaymentMethod:(id)method;
- (id)_pendingTransactionOnPeerPaymentPassForAuthorizedPeerPaymentQuote:(id)quote;
- (id)_pendingTransactionOnAlternateFundingSourceForAutorizedPeerPaymentQuote:(id)quote;
- (void)_performNonceRequestWithParam:(id)param;
- (void)_computeAssessmentIfNecessary;
- (void)_augmentSessionResponseWithCompletion:(id /* block */)completion;
- (void)_nonceResponseWithCompletion:(id /* block */)completion;
- (void)_augmentBaseRequestWithCompletion:(id /* block */)completion;
- (void)_performPrepareTransactionDetailsRequestWithParam:(id)param;
- (void)_performRewrapRequestWithParam:(id)param;
- (void)_performRewrapRequestImplWithParam:(id)param;
- (void)_updatePayLaterFundingSourceActionRequest:(id)request param:(id)param;
- (void)_updateRewrapRequest:(id)request param:(id)param serviceURL:(id *)url;
- (id)_rewrapCompleteSessionRequestWithParam:(id)param serviceURL:(id *)url;
- (id)_updateRewrapBaseRequest:(id)request param:(id)param;
- (id)_additionalPayLaterServiceProviderData;
- (void)_performDataProcessingWithParam:(id)param;
- (void)_updatePostPurchasePayLaterFinancingPlan:(id)plan account:(id)account completion:(id /* block */)completion;
- (void)_performDidAuthorizeCallbackWithParam:(id)param;
- (void)_insertPendingPaymentTransactionsWithParam:(id)param;
- (void)_insertPendingTransactionRegistration;
- (void)_insertPendingOrderDetails:(BOOL *)details;
- (void)_updateModelCanAddPasses;
- (void)_updateModelBillingAddressIfNeededForPass:(id)pass;
- (void)_retrieveVPANPaymentSession;
- (void)_registerForNotifications;
- (void)_unregisterForNotifications;
- (void)_postStateMachineWillStartNotification;
- (void)_handleStateMachineWillStartNotification:(id)notification;
- (void)_performAuthorizationWithParam:(id)param;
- (BOOL)_shouldSignPurpleTrustData;
- (id)_paymentRequestPurpleTrustData;
- (id)_inAppSessionAuthorizationRequest;
- (void)_applyShippingInformationToPayment:(id)payment;
- (void)_applyShippingMethodToPayment:(id)payment;
- (void)_applyBillingInformationToPayment:(id)payment;
- (void)_applyBillingInformationToAuthorizedQuote:(id)quote;
- (id)_billingInformationFromPaymentRequest:(id)request;
- (id)_transactionWithPaymentToken:(id)token;
- (unsigned long long)_adamIdentifier;
- (id)_transactionWithPurchase:(id)purchase paymentHash:(id)hash;
- (void)_promptTapToRadar;
- (void)_reportToAutoBugCapture:(id)capture;
- (void)_simulatePayment;
- (id)_relevantAnalyticsSubject;
- (BOOL)_reportPayLaterAnalytics;
- (id)_additionalRelevantAnalyticsDictionary;
- (void)_reportAnalyticsTransactionAuthorizationWithAdditionalDictionary:(id)dictionary eventType:(id)type;
- (void)_trackCouponCodeOutcomeWithError:(id)error;
@end

#endif /* PKPaymentAuthorizationStateMachine_h */
