//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1235.0.0.0.0
//
#ifndef CNProcessSharedLock_h
#define CNProcessSharedLock_h
@import Foundation;

#include "CNFileServices-Protocol.h"
#include "CNInhibitor-Protocol.h"
#include "NSLocking-Protocol.h"

@class NSString;

@interface CNProcessSharedLock : NSObject<NSLocking> {
  /* instance variables */
  NSObject<NSLocking> *_localLock;
  long long _localLockCount;
  int _fileDescriptor;
  NSObject<CNFileServices> *_fileServices;
}

@property (retain) NSObject<CNInhibitor> *runningBoardInhibitor;
@property (copy) NSString *name;
@property (readonly, copy) NSString *lockFilePath;

/* class methods */
+ (id)os_log;
+ (id)sharedLockWithLockFilePath:(id)path;
+ (id)recursiveSharedLockWithLockFilePath:(id)path;
+ (id)semaphoreSharedLockWithLockFilePath:(id)path;

/* instance methods */
- (id)init;
- (id)initWithLockFilePath:(id)path localLock:(id)lock;
- (id)initWithLockFilePath:(id)path localLock:(id)lock fileServices:(id)services;
- (void)dealloc;
- (BOOL)open:(id *)open;
- (BOOL)ensureFileDescriptorIsInvalid:(id /* block */)invalid;
- (BOOL)openLockFile:(id /* block */)file;
- (BOOL)ensureFileIsLocal:(id /* block */)local;
- (void)invalidate;
- (BOOL)isValid;
- (void)lock;
- (void)unlock;
- (void)lockRetryOnEDEADLK;
- (BOOL)isValidFileDescriptor;
- (id)exceptionWithName:(id)name reason:(id)reason;
- (id)errorUserInfo;
- (id)errorUserInfoWithDescription:(id)description;
- (id)description;
@end

#endif /* CNProcessSharedLock_h */
