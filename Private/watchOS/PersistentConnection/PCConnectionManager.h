//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 543.100.1.0.0
//
#ifndef PCConnectionManager_h
#define PCConnectionManager_h
@import Foundation;

#include "PCCarrierBundleHelperDelegate-Protocol.h"
#include "PCGrowthAlgorithm-Protocol.h"
#include "PCInterfaceMonitorDelegate-Protocol.h"
#include "PCKeepAliveState.h"
#include "PCPersistentTimer.h"

@class NSRunLoop, NSString;
@protocol OS_dispatch_queue, OS_os_log, PCConnectionManagerDelegate, [2@"<PCGrowthAlgorithm>"];

@interface PCConnectionManager : NSObject<PCCarrierBundleHelperDelegate, PCInterfaceMonitorDelegate> {
  /* instance variables */
  int _connectionClass;
  NSString *_serviceIdentifier;
  int _prefsStyle;
  int _onlyAllowedStyle;
  BOOL _onlyAllowedStyleSet;
  unsigned long long _guidancePriority;
  NSRunLoop *_delegateRunLoop;
  NSObject<OS_dispatch_queue> *_delegateQueue;
  NSObject<OS_os_log> *_logObject;
  <PCGrowthAlgorithm> * _wwanGrowthAlgorithm[2];
  <PCGrowthAlgorithm> * _wifiGrowthAlgorithm[2];
  NSObject<PCGrowthAlgorithm> *_lastScheduledGrowthAlgorithm;
  PCPersistentTimer *_intervalTimer;
  PCPersistentTimer *_reconnectWakeTimer;
  PCPersistentTimer *_delayTimer;
  unsigned int _powerAssertionID;
  double _onTimeKeepAliveTime;
  double _lastResumeTime;
  double _lastStopTime;
  double _lastStartTime;
  double _lastReachableTime;
  double _lastReconnectTime;
  double _lastScheduledIntervalTime;
  double _timerGuidance;
  double _lastElapsedInterval;
  BOOL _operatorMinimumIntervalFallbackAllowed;
  unsigned int _reconnectIteration;
  int _timerGuidanceToken;
  int _pushIsConnectedToken;
  int _prefsChangedToken;
  double _defaultPollingInterval;
  double _pollingIntervalOverride;
  BOOL _pollingIntervalOverrideSet;
  BOOL _hasStarted;
  BOOL _inCallback;
  BOOL _isInReconnectMode;
  BOOL _reconnectWithKeepAliveDelay;
  BOOL _forceManualWhenRoaming;
  BOOL _enableNonCellularConnections;
  BOOL _isReachable;
  BOOL _deviceUnderGoodCondition;
  id _duetContextRegistration;
}

@property (weak, nonatomic) NSObject<PCConnectionManagerDelegate> *delegate;
@property (copy, nonatomic) NSString *duetIdentifier;
@property (readonly, nonatomic) BOOL isRunning;
@property (readonly, nonatomic) double currentKeepAliveInterval;
@property (nonatomic) double minimumKeepAliveInterval;
@property double maximumKeepAliveInterval;
@property (readonly, nonatomic) PCKeepAliveState *currentKeepAliveState;
@property (nonatomic) double serverStatsMaxKeepAliveInterval;
@property (nonatomic) double serverStatsExpectedKeepAliveInterval;
@property (nonatomic) double serverStatsMinKeepAliveInterval;
@property (nonatomic) BOOL usingServerStatsAggressively;
@property (readonly, nonatomic) unsigned long long countOfGrowthActions;
@property (nonatomic) BOOL disableEarlyFire;
@property (nonatomic) BOOL minimumIntervalFallbackEnabled;
@property (nonatomic) long long interfaceIdentifier;
@property (nonatomic) BOOL alwaysWantsInterfaceChangeCallbacks;
@property (nonatomic) BOOL powerOptimizationsForExpensiveNetworkingDisabled;
@property (nonatomic) int currentAddressFamily;
@property (readonly, nonatomic) int lastProcessedAction;
@property (nonatomic) double keepAliveGracePeriod;
@property (nonatomic) double nonCellularEarlyFireConstantInterval;
@property (readonly, nonatomic) double pollingInterval;
@property (readonly, nonatomic) int currentGrowthStage;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (Class)growthAlgorithmClass;
+ (id)intervalCacheDictionaries;
+ (id)_keepAliveCachePath;
+ (BOOL)_isCachedKeepAliveIntervalStillValid:(double)valid date:(id)date;

/* instance methods */
- (id)_initWithConnectionClass:(int)class interfaceIdentifier:(long long)identifier guidancePriority:(unsigned long long)priority delegate:(id)delegate delegateQueue:(id)queue serviceIdentifier:(id)identifier;
- (void)carrierBundleDidChange;
- (id)initWithConnectionClass:(int)class delegate:(id)delegate delegateQueue:(id)queue serviceIdentifier:(id)identifier;
- (id)initWithConnectionClass:(int)class interfaceIdentifier:(long long)identifier guidancePriority:(unsigned long long)priority delegate:(id)delegate serviceIdentifier:(id)identifier;
- (id)initWithConnectionClass:(int)class delegate:(id)delegate serviceIdentifier:(id)identifier;
- (void)dealloc;
- (void)_preferencesChanged;
- (void)_loadPreferencesGeneratingEvent:(BOOL)event;
- (void)_registerForDeviceConditionsNotifications;
- (void)_deregisterForDeviceConditionsNotifications;
- (void)_handleDeviceConditionChangeCallback;
- (void)_processDeviceConditionChanges;
- (int)currentStyle;
- (void)setOnlyAllowedStyle:(int)style;
- (id)_growthAlgorithmOnInterface:(long long)interface;
- (id)_currentGrowthAlgorithm;
- (void)startManager;
- (void)resumeManagerWithAction:(int)action;
- (void)resumeManagerWithAction:(int)action forceGrow:(BOOL)grow;
- (void)_validateActionForCurrentStyle:(int)style;
- (void)_resolveStateWithAction:(int)action;
- (void)stopManager;
- (void)stopAndResetManager;
- (void)_setMinimumKeepAliveInterval:(double)interval onInterface:(long long)interface;
- (void)_setMaximumKeepAliveInterval:(double)interval onInterface:(long long)interface;
- (void)setKeepAliveOverrideOnInterface:(long long)interface interval:(double)interval timeout:(double)timeout;
- (BOOL)_isPushConnected;
- (void)setPollingIntervalOverride:(double)override;
- (void)cancelPollingIntervalOverride;
- (BOOL)shouldClientScheduleReconnectDueToFailure;
- (void)setEnableNonCellularConnections:(BOOL)connections;
- (BOOL)operatorMinimumIntervalFallbackAllowed;
- (void)setOperatorMinimumIntervalFallbackAllowed:(BOOL)allowed;
- (void)_adjustMinimumIntervalFallback;
- (void)_setupTimerForPushWithKeepAliveInterval:(double)interval;
- (void)_adjustPollTimerIfNecessary;
- (void)_setupTimerForPollForAdjustment:(BOOL)adjustment;
- (void)_setupKeepAliveForReconnect;
- (BOOL)_hasBudgetRemaining;
- (void)_intervalTimerFired;
- (void)_delayTimerFired;
- (void)_callDelegateWithEventAndContext:(id)context;
- (void)_calloutWithEvent:(int)event context:(id)context;
- (void)_clearTimers;
- (void)_clearTimersReleasingPowerAssertion:(BOOL)assertion;
- (void)_pauseTimers;
- (void)_setTimerGuidance:(double)guidance;
- (void)interfaceLinkQualityChanged:(id)changed previousLinkQuality:(int)quality;
- (void)interfaceManagerWWANInterfaceStatusChanged:(id)changed;
- (void)interfaceManagerInHomeCountryStatusChanged:(id)changed;
- (void)interfaceManagerInternetReachabilityChanged:(id)changed;
- (void)_adjustInterfaceAssertions;
- (id)persistentInterfaceManager;
- (void)_takePowerAssertionWithTimeout:(double)timeout;
- (void)_releasePowerAssertion;
- (void)_saveWWANKeepAliveInterval;
- (id)_getCachedWWANKeepAliveIntervalForAddressFamily:(int)family;
- (id)_stringForStyle:(int)style;
- (id)_stringForAction:(int)action;
- (id)_stringForEvent:(int)event;
- (id)_stringForAddressFamily:(int)family;
@end

#endif /* PCConnectionManager_h */
