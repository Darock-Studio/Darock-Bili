//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1226.2.2.1.0
//
#ifndef PPTopicStorage_h
#define PPTopicStorage_h
@import Foundation;

#include "PPDKStorage.h"
#include "PPRecordStorageHelper.h"
#include "PPSQLDatabase.h"
#include "PPSourceStorage.h"
#include "PPTrialWrapper.h"

@class BOOL *, NSString;
@protocol OS_dispatch_queue;

@interface PPTopicStorage : NSObject {
  /* instance variables */
  PPSQLDatabase *_db;
  PPDKStorage *_dkStorage;
  id _deletionObserver;
  PPRecordStorageHelper *_storageHelper;
  PPSourceStorage *_sourceStorage;
  PPTrialWrapper *_trialWrapper;
  NSObject<OS_dispatch_queue> *_populateDatabaseQueue;
}

@property (readonly, nonatomic) NSString *parentDirectory;

/* instance methods */
- (id)initWithDatabase:(id)database maxRecords:(unsigned int)records dkStorage:(id)storage loadEmptyDatabaseFromDK:(BOOL)dk trialWrapper:(id)wrapper;
- (id)initWithDatabase:(id)database;
- (id)init;
- (void)dealloc;
- (BOOL)iterTopicRecordsWithQuery:(id)query error:(id *)error block:(id /* block */)block;
- (BOOL)clearWithError:(id *)error deletedCount:(unsigned long long *)count;
- (BOOL)donateTopics:(id)topics source:(id)source algorithm:(unsigned long long)algorithm cloudSync:(BOOL)sync decayRate:(double)rate sentimentScore:(double)score exactMatchesInSourceText:(id)text error:(id *)error;
- (id)decayedFeedbackCountsForClusterIdentifier:(id)identifier;
- (BOOL)donateTopicFeedback:(id)feedback;
- (BOOL)decayFeedbackCountsWithDecayRate:(double)rate shouldContinueBlock:(id /* block */)block;
- (BOOL)deleteAllTopicsOlderThanDate:(id)date atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsWithTopicId:(id)id atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsWithTopicId:(id)id algorithm:(unsigned long long)algorithm atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id documentIds:(id)ids atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id documentIds:(id)ids algorithm:(unsigned long long)algorithm atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id groupIds:(id)ids atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id groupIds:(id)ids algorithm:(unsigned long long)algorithm atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id algorithm:(unsigned long long)algorithm atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id groupId:(id)id olderThanDate:(id)date atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicsFromSourcesWithBundleId:(id)id groupId:(id)id olderThanDate:(id)date algorithm:(unsigned long long)algorithm atLeastOneTopicRemoved:(BOOL *)removed deletedCount:(unsigned long long *)count error:(id *)error;
- (BOOL)deleteAllTopicFeedbackCountRecordsOlderThanDate:(id)date;
- (BOOL)pruneOrphanedTopicFeedbackCountRecordsWithLimit:(long long)limit rowOffset:(unsigned long long)offset deletedCount:(unsigned long long *)count isComplete:(BOOL *)complete;
- (void)processNewDKEventDeletions;
- (void)importRemotelyGeneratedTopicDKEventsWithLimit:(unsigned int)limit isComplete:(BOOL *)complete shouldContinueBlock:(id /* block */)block;
- (void)exportRecordsToDKWithShouldContinueBlock:(id /* block */)block;
- (void)clearRemoteRecordsMissingFromDuetWithShouldContinueBlock:(id /* block */)block;
- (void)fixupDKEventsWithShouldContinueBlock:(id /* block */)block;
- (void)fixupDKEventsMetadataWithShouldContinueBlock:(id /* block */)block;
- (void)disableSyncForBundleIds:(id)ids;
- (unsigned int)duetReadBatchSize;
- (unsigned int)duetWriteBatchSize;
- (double)duetWriteBatchInterval;
- (id)sourceStats:(unsigned long long)stats withExcludedAlgorithms:(id)algorithms;
- (id)tempViewForSourceIdsExcludedAlgorithms:(id)algorithms txnWitness:(id)witness;
- (id)clusterIdentifiersExistingBeforeDate:(id)date;
- (unsigned int)uniqueClusterIdentifierCount;
- (id)thirdPartyBundleIdsFromToday;
- (id)lastDonationTimeForSourcesBeforeDate:(id)date;
- (id)firstDonationSourceCountsWithShouldContinueBlock:(id /* block */)block;
@end

#endif /* PPTopicStorage_h */
