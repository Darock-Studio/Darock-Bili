//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 624.0.100.0.0
//
#ifndef PLChangeStore_h
#define PLChangeStore_h
@import Foundation;

@class NSMutableArray, NSURL, PLPhotoLibraryPathManager;
@protocol OS_dispatch_queue;

@interface PLChangeStore : NSObject {
  /* instance variables */
  NSObject<OS_dispatch_queue> *_eventsIsolation;
  NSMutableArray *_events;
  struct sqlite3 * _database;
  NSObject<OS_dispatch_queue> *_databaseIsolation;
  int _sqliteOpenFlags;
}

@property (readonly, nonatomic) unsigned long long firstOnDiskEventIndex;
@property (readonly, nonatomic) NSURL *databaseFileURL;
@property (readonly, nonatomic) PLPhotoLibraryPathManager *photoLibraryPathManager;

/* instance methods */
- (id)initWithPhotoLibraryPathManager:(id)manager;
- (void)dealloc;
- (void)getEventsSinceIndex:(unsigned long long)index filteredBy:(id /* block */)by onQueue:(id)queue withBlock:(id /* block */)block;
- (void)clearStore:(id /* block */)store;
- (unsigned long long)lastIndex;
- (BOOL)getInMemoryEventsSinceIndex:(unsigned long long)index filteredBy:(id /* block */)by onQueue:(id)queue withBlock:(id /* block */)block;
- (id)newArrayWithEventsSince:(unsigned long long)since filteredBy:(id /* block */)by lastEventIndex:(unsigned long long *)index;
- (void)getOnDiskEventsSinceIndex:(unsigned long long)index filteredBy:(id /* block */)by onQueue:(id)queue withBlock:(id /* block */)block;
- (void)enumeratePersistedDidSaveEventsInRange:(struct _NSRange { unsigned long long x0; unsigned long long x1; })range withBlock:(id /* block */)block;
- (void)openDatabase;
- (void)setupDatabase;
- (void)performBlockAsTransaction:(id /* block */)transaction;
- (struct sqlite3_stmt *)prepareStatement:(const char *)statement;
- (void)prepareAndEvaluateStatement:(const char *)statement;
- (void)bindInt:(int)int toStatement:(struct sqlite3_stmt *)statement column:(int)column;
- (void)bindInt64:(long long)int64 toStatement:(struct sqlite3_stmt *)statement column:(int)column;
- (void)bindXPCData:(id)xpcdata toStatement:(struct sqlite3_stmt *)statement column:(int)column;
- (void)bindString:(id)string toStatement:(struct sqlite3_stmt *)statement column:(int)column;
- (void)bindUUID:(unsigned char x[16])uuid toStatement:(struct sqlite3_stmt *)statement column:(int)column;
- (void)_backupStore;
- (void)_clearStore;
@end

#endif /* PLChangeStore_h */
