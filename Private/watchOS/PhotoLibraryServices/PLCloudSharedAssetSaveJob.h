//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 624.0.100.0.0
//
#ifndef PLCloudSharedAssetSaveJob_h
#define PLCloudSharedAssetSaveJob_h
@import Foundation;

#include "PLCloudSharingJob.h"
#include "AssetCollectionInfo.h"

@class MSASAssetCollection, NSArray, NSDictionary, NSMutableArray, NSString;

@interface PLCloudSharedAssetSaveJob : PLCloudSharingJob {
  /* instance variables */
  BOOL _replacingOriginalWithDerivative;
  AssetCollectionInfo *_currentAssetCollectionInfo;
  NSMutableArray *_pendingDownloadNotifications;
}

@property (nonatomic) long long jobType;
@property (retain, nonatomic) NSDictionary *mstreamdInfoDictionary;
@property (retain, nonatomic) NSString *currentFilePath;
@property (retain, nonatomic) NSString *currentCloudAssetGUID;
@property (nonatomic) unsigned long long currentCloudAssetMediaAssetType;
@property (retain, nonatomic) NSString *cloudAlbumGUID;
@property (retain, nonatomic) NSString *cloudPersonID;
@property (retain, nonatomic) MSASAssetCollection *currentCloudAssetCollection;
@property (retain, nonatomic) NSArray *assetCollectionInfos;
@property (nonatomic) BOOL isVideo;
@property (nonatomic) BOOL isPhotoIris;
@property (retain, nonatomic) NSArray *cloudAssetGUIDsToDelete;

/* class methods */
+ (id)newCloudSharedAssetSaveJobFromAProcessThatIsNotAssetsd;
+ (void)processMetadataForAssetCollections:(id)collections inAlbum:(id)album personID:(id)id info:(id)info;
+ (void)assetsdProcessMetadataForAssetCollections:(id)collections inAlbum:(id)album personID:(id)id info:(id)info libraryServicesManager:(id)manager;
+ (void)downloadPendingAssetsForPersonID:(id)id info:(id)info;
+ (void)saveCloudSharedAssetAtPath:(id)path forAssetCollection:(id)collection mediaAssetType:(unsigned long long)type albumGUID:(id)guid personID:(id)id info:(id)info shouldPrioritize:(BOOL)prioritize;
+ (void)deleteCloudSharedAssetsWithCloudGUIDs:(id)guids info:(id)info;
+ (void)replaceRecentlyUploadedOriginalWithDerivativeForCollection:(id)collection inAlbum:(id)album personID:(id)id;
+ (BOOL)_lightweightReimportCacheDirectoryExists;
+ (id)_lightweightReimportPhotoCloudSharingAlbumInfoForAlbumWithCloudGUID:(id)guid cloudPersonID:(id)id;
+ (id)pathForInFlightAssetCollectionWithGUID:(id)guid mediaAssetType:(unsigned long long)type;
+ (id)_dcimDirectoryForFileURL:(id)url;
+ (id)nextDCIMSaveFileURLForCloudPersonID:(id)id cloudAlbumGUID:(id)guid fileExtension:(id)extension assetUUID:(id)uuid;

/* instance methods */
- (void)encodeToXPCObject:(id)xpcobject;
- (id)initFromXPCObject:(id)xpcobject libraryServicesManager:(id)manager;
- (id)initWithAssetsdClient:(id)client;
- (id)description;
- (void)dealloc;
- (long long)daemonOperation;
- (void)setupSaveAssetMetadataForCollectionsJobForAssetCollections:(id)collections album:(id)album personID:(id)id info:(id)info;
- (void)run;
- (void)runDaemonSide;
- (BOOL)isProcessingThumbnail;
- (short)placeHolderKindFromAssetMetadataType:(unsigned long long)type;
- (void)executeDaemonOperationSaveAssetJobType;
- (id)_createPlaceHolderInSharedAlbum:(id)album;
- (void)_processInFlightCommentsForAsset:(id)asset inAlbum:(id)album inPhotoLibrary:(id)library;
- (BOOL)_processSaveAssetWithPlaceholderKind:(short)kind inLibrary:(id)library withAssetDataFilePath:(id)path;
- (void)_updateAsset:(id)asset withImageFileURL:(id)url;
- (void)_updatePhotoIrisPropertiesIfNecessaryForAsset:(id)asset inManagedObjectContext:(id)context;
- (short)attemptLightweightReimportAssetDataInLibrary:(id)library;
- (void)_addDownloadNotification:(id)notification;
- (void)_performSaveTransactionAndWaitOnLibrary:(id)library transaction:(id /* block */)transaction completion:(id /* block */)completion;
- (void)executeDaemonOperationSaveAssetMetadataForCollectionsJobType;
- (void)executeDaemonOperationDownloadPendingAssetsJobType;
- (BOOL)_processInflightAsset:(id)asset mediaAssetType:(unsigned long long)type;
- (void)_prefetchLimitForDerivatives:(long long *)derivatives thumbnails:(long long *)thumbnails;
- (void)_incrementDerivativesCount:(long long)count thumbnailsCount:(long long)count;
- (void)executeDaemonOperationDeleteAssetJobType;
- (void)executeDaemonOperationReplaceRecentlyUploadedOriginalJobType;
- (unsigned long long)_insertionIndexForAsset:(id)asset inAlbum:(id)album;
@end

#endif /* PLCloudSharedAssetSaveJob_h */
