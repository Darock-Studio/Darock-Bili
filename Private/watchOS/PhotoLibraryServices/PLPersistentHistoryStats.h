//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 624.0.100.0.0
//
#ifndef PLPersistentHistoryStats_h
#define PLPersistentHistoryStats_h
@import Foundation;

@class NSDate;

@interface PLPersistentHistoryStats : NSObject

@property (nonatomic) long long filePageCount;
@property (nonatomic) long long unusedPageCount;
@property (readonly, nonatomic) long long payloadPageCount;
@property (nonatomic) long long transactionsPageCount;
@property (nonatomic) long long transactionStringsPageCount;
@property (nonatomic) long long changesPageCount;
@property (readonly, nonatomic) long long persistentHistoryPageCount;
@property (nonatomic) long long transactionCount;
@property (copy, nonatomic) NSDate *earliestTransactionDate;
@property (readonly, nonatomic) long long daysSinceEarliestTransaction;
@property (readonly, nonatomic) double transactionsPageCountPercent;
@property (readonly, nonatomic) double transactionStringsPageCountPercent;
@property (readonly, nonatomic) double changesPageCountPercent;
@property (readonly, nonatomic) double persistentHistoryPageCountPercent;
@property (readonly, nonatomic) double transactionsPageCountPercentOfPayload;
@property (readonly, nonatomic) double transactionStringsPageCountPercentOfPayload;
@property (readonly, nonatomic) double changesPageCountPercentOfPayload;
@property (readonly, nonatomic) double persistentHistoryPageCountPercentOfPayload;

/* class methods */
+ (id)statsFromDatabase:(id)database;
+ (BOOL)fetchPageCountsOfPersistentHistoryTablesFromDatabase:(id)database intoStats:(id)stats;
+ (BOOL)fetchTotalPageCountFromDatabase:(id)database intoStats:(id)stats;
+ (BOOL)fetchUnusedPageCountFromDatabase:(id)database intoStats:(id)stats;
+ (BOOL)fetchTransactionCountFromDatabase:(id)database intoStats:(id)stats;
+ (BOOL)fetchEarliestTransactionDateFromDatabase:(id)database intoStats:(id)stats;

/* instance methods */
- (double)_pageCountAsPercentOfFile:(long long)file;
- (double)_pageCountAsPercentOfPayload:(long long)payload;
@end

#endif /* PLPersistentHistoryStats_h */
