//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1092.3.10.0.0
//
#ifndef HMDHomeLocationHandler_h
#define HMDHomeLocationHandler_h
@import Foundation;

#include "HMFObject.h"
#include "HMDBatchLocationDelegate-Protocol.h"
#include "HMDHome.h"
#include "HMDHomeLocationData.h"
#include "HMDHomeMessageReceiver-Protocol.h"
#include "HMFLogging-Protocol.h"
#include "HMFTimerDelegate-Protocol.h"
#include "NSSecureCoding-Protocol.h"
#include "_HMDPendingRegionUpdate.h"

@class CLLocation, CLRegion, HMFMessageDispatcher, HMFTimer, NSDate, NSSet, NSString, NSTimeZone, NSUUID;
@protocol OS_dispatch_queue;

@interface HMDHomeLocationHandler : HMFObject<HMDBatchLocationDelegate, HMFLogging, HMFTimerDelegate, HMDHomeMessageReceiver, NSSecureCoding> {
  /* instance variables */
  struct os_unfair_recursive_lock_s { struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } ourl_lock; unsigned int ourl_count; } _lock;
}

@property (retain, nonatomic) NSObject<OS_dispatch_queue> *workQueue;
@property (retain, nonatomic) HMFMessageDispatcher *msgDispatcher;
@property (weak, nonatomic) HMDHome *home;
@property (retain, nonatomic) NSDate *locationUpdateTimestamp;
@property (nonatomic) long long locationAuthorization;
@property (retain, nonatomic) CLRegion *regionAtHome;
@property (retain, nonatomic) CLRegion *regionNearbyHome;
@property (nonatomic) long long regionStateAtHome;
@property (nonatomic) long long regionStateNearbyHome;
@property (retain, nonatomic) NSString *isoCountryCode;
@property (nonatomic) BOOL firstAccessoryReachable;
@property (retain, nonatomic) HMFTimer *homeRegionUpdateTimer;
@property (retain, nonatomic) _HMDPendingRegionUpdate *pendingAtHomeRegionUpdate;
@property (retain, nonatomic) _HMDPendingRegionUpdate *pendingNearbyHomeRegionUpdate;
@property (nonatomic) double coalesceRegionUpdateIntervalInSeconds;
@property (retain, nonatomic) NSDate *lastArrival;
@property (retain, nonatomic) NSDate *lastExit;
@property (retain, nonatomic) CLLocation *location;
@property (retain, nonatomic) NSTimeZone *timeZone;
@property (readonly, nonatomic) HMDHomeLocationData *locationData;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, copy) NSSet *messageReceiverChildren;
@property (readonly, nonatomic) NSUUID *messageTargetUUID;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *messageReceiveQueue;

/* class methods */
+ (BOOL)hasMessageReceiverChildren;
+ (BOOL)supportsSecureCoding;
+ (id)logCategory;

/* instance methods */
- (id)init;
- (void)dealloc;
- (void)configure:(id)configure queue:(id)queue messageDispatcher:(id)dispatcher;
- (void)_registerForMessages;
- (void)_registerForRegionUpdate;
- (BOOL)_shouldRegisterForSignificantRegion;
- (void)_handleLocationAuthorizationChangedNotification:(id)notification;
- (void)_handleLocationAuthorization:(long long)authorization;
- (void)_handleRetrieveLocation:(id)location;
- (void)updateHomeLocation;
- (void)accessoriesBecomeReachable;
- (void)accessoriesBecomeUnreachable;
- (BOOL)_canExtractBatchLocations;
- (BOOL)_needToExtractBatchLocations;
- (void)_evaluateHomeRegionStateForCurrentDeviceLocation:(id)location;
- (void)_updateTimeZone:(id)zone;
- (id)_handleHomeLocationData:(id)data message:(id)message;
- (id)_handleHomeLocationDataForHH2:(id)hh2 fromMessage:(id)message;
- (BOOL)shouldUpdateLocationFromLocationData:(id)data;
- (void)runTransactionWithLocation:(id)location updatedTime:(id)time source:(long long)source;
- (void)handleHomeLocationForHH2:(id)hh2 updatedTime:(id)time source:(long long)source;
- (void)sendHomeLocationUpdateToResident:(id)resident source:(long long)source;
- (BOOL)isNewHomeLocationTooCloseToPreviousLocation:(id)location newLocation:(id)location;
- (void)_sendLocationUpdateToClients;
- (BOOL)isLocation:(id)location closeToLocation:(id)location;
- (BOOL)isDate:(id)date laterThanDate:(id)date;
- (void)updateHomeLocationFromCoreRoutine;
- (void)didDetermineLocation:(id)location;
- (void)didDetermineBatchLocation:(id)location;
- (void)didDetermineState:(long long)state forRegion:(id)region;
- (void)getReachableIPAccessory:(unsigned long long *)ipaccessory btleAccessory:(unsigned long long *)accessory mediaAccessory:(unsigned long long *)accessory;
- (BOOL)calculateAndUpdateRegionState:(long long)state;
- (BOOL)updateRegionStateFromLocation:(id)location;
- (void)coalesceRegionUpdateState:(long long)state forRegion:(id)region;
- (void)timerDidFire:(id)fire;
- (void)_processPendingRegionStateUpdates;
- (void)checkFalsePresence;
- (id)messageDestination;
- (id)initWithCoder:(id)coder;
- (void)encodeWithCoder:(id)coder;
- (id)logIdentifier;
- (id)__initForUnitTesting:(double)testing home:(id)home queue:(id)queue messageDispatcher:(id)dispatcher location:(id)location;
- (void)__simulateAtHomeRegionState:(long long)state;
- (void)__simulateNearByHomeRegionState:(long long)state;
- (long long)__getAtHomeCalculatedState;
- (long long)__getNearByHomeCalculatedState;
@end

#endif /* HMDHomeLocationHandler_h */
