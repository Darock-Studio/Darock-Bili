//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1092.3.10.0.0
//
#ifndef HMDResidentMesh_h
#define HMDResidentMesh_h
@import Foundation;

#include "HMFObject.h"
#include "HMDHomeManager.h"
#include "HMDMessageDispatcher.h"
#include "HMDResidentMeshMeshStorage.h"
#include "HMFLogging-Protocol.h"
#include "HMFMessageReceiver-Protocol.h"
#include "HMFTimerDelegate-Protocol.h"

@class HMFTimer, NSMutableArray, NSMutableDictionary, NSMutableSet, NSSet, NSString, NSUUID;
@protocol OS_dispatch_queue;

@interface HMDResidentMesh : HMFObject<HMFLogging, HMFMessageReceiver, HMFTimerDelegate>

@property (weak, nonatomic) HMDHomeManager *homeManager;
@property (weak, nonatomic) HMDMessageDispatcher *messageDispatcher;
@property (retain, nonatomic) NSMutableArray *residents;
@property (weak, nonatomic) HMDResidentMeshMeshStorage *resident;
@property (retain, nonatomic) NSMutableArray *reachableAccessories;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *workQueue;
@property (readonly, nonatomic) HMFTimer *startupTimer;
@property (nonatomic) long long startupTickCount;
@property (readonly, nonatomic) HMFTimer *devicesChangedTimer;
@property (retain, nonatomic) NSSet *primaryResidentForHomes;
@property (readonly, nonatomic) HMFTimer *linkQualityMonitorTimer;
@property (readonly, nonatomic) NSMutableDictionary *loadMetrics;
@property (retain, nonatomic) NSMutableSet *updatedOrAddedDevices;
@property (retain, nonatomic) NSUUID *uuid;
@property unsigned long long broadcastRate;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, nonatomic) NSUUID *messageTargetUUID;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *messageReceiveQueue;

/* class methods */
+ (id)logCategory;

/* instance methods */
- (id)initWithHomeManager:(id)manager residentEnabled:(BOOL)enabled;
- (void)dealloc;
- (void)__accessoryIsReachable:(id)reachable;
- (void)__accessoryIsNotReachable:(id)reachable;
- (void)__accessoryDidUpdateSuspendedState:(id)state;
- (void)__deviceIsReachable:(id)reachable;
- (void)__deviceIsNotReachable:(id)reachable;
- (void)__residentDeviceRemovedNotification:(id)notification;
- (void)__residentDeviceAddedOrUpdatedNotification:(id)notification;
- (void)__rebuildResidents:(id)residents;
- (void)__deviceResidentChanged:(id)changed;
- (void)timerDidFire:(id)fire;
- (void)_updateAccessoryLinkQuality;
- (void)_handleAddUpdateOrReachabilityChangeForDevice:(id)device;
- (void)_deviceIsNotReachable:(id)reachable;
- (void)_buildResidentsWithElection:(id)election device:(id)device;
- (id)_meshStorageForResidentDevice:(id)device;
- (id)_meshStorageForDeviceIdentifier:(id)identifier;
- (id)_addMeshStorageResidentDevice:(id)device;
- (id)_residentStorageForResidentDevice:(id)device;
- (id)_addResidentStorageResidentDevice:(id)device;
- (BOOL)_checkReachabilityWithTimerActivation:(BOOL)activation;
- (void)_addConnectivityFromDeviceToAccessory:(id)accessory activateTimer:(BOOL)timer;
- (void)_removeConnectivityFromDeviceToAccessory:(id)accessory activateTimer:(BOOL)timer;
- (void)_sendMessage:(id)message payload:(id)payload target:(id)target force:(BOOL)force responseHandler:(id /* block */)handler;
- (void)_handleMeshUpdateRequestMessage:(id)message;
- (void)_handleMeshUpdateMessage:(id)message;
- (id)bestResidentDeviceForAccessory:(id)accessory;
- (id)balancedResidentMapForAccessories:(id)accessories;
- (id)_residentMapForAccessories:(id)accessories;
- (id)deviceForAccessory:(id)accessory residentOrder:(unsigned long long)order reachableResidents:(unsigned long long *)residents;
- (void)_flushWorkQueue;
- (void)setMetricForCurrentDevice:(id)device withValue:(id)value isUrgent:(BOOL)urgent;
- (id)_dumpState;
- (id)dumpState;
- (void)_dumpDebug;
- (void)dumpDebug;
- (id)messageDestination;
@end

#endif /* HMDResidentMesh_h */
