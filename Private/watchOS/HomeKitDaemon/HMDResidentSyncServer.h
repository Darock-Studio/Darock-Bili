//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1092.3.10.0.0
//
#ifndef HMDResidentSyncServer_h
#define HMDResidentSyncServer_h
@import Foundation;

#include "HMDResidentSyncController.h"
#include "HMDResidentDeviceManager-Protocol.h"
#include "HMDResidentSyncServer-Protocol.h"
#include "HMDResidentSyncServerDataSource-Protocol.h"
#include "HMMLogEventSubmitting-Protocol.h"

@class HMFMessageDispatcher, NSPersistentHistoryToken, NSPersistentStore;

@interface HMDResidentSyncServer : HMDResidentSyncController<HMDResidentSyncServer> {
  /* instance variables */
  HMFMessageDispatcher *_dispatcher;
  NSObject<HMDResidentDeviceManager> *_residentDeviceManager;
  NSPersistentStore *_store;
  NSPersistentHistoryToken *_storeExemplarToken;
  BOOL _isPrimaryResident;
  NSPersistentHistoryToken *_currentToken;
  NSObject<HMDResidentSyncServerDataSource> *_dataSource;
}

@property (readonly, nonatomic) NSObject<HMMLogEventSubmitting> *logEventSubmitter;

/* instance methods */
- (id)initWithHome:(id)home codingModel:(id)model dispatcher:(id)dispatcher residentDeviceManager:(id)manager notificationCenter:(id)center persistence:(id)persistence dataSource:(id)source logEventSubmitter:(id)submitter;
- (id)start;
- (void)stop;
- (void)interceptRemoteResidentRequest:(id)request proceed:(id /* block */)proceed;
- (void)_handleFetchHomeData:(id)data;
- (long long)currentToken:(id *)token andHistory:(id *)history fromToken:(id)token limit:(long long)limit error:(id *)error;
- (void)handlePersistentStoreChanged:(id)changed;
- (void)handlePrimaryResidentChanged:(id)changed;
- (id)decodeToken:(id)token error:(id *)error;
@end

#endif /* HMDResidentSyncServer_h */
