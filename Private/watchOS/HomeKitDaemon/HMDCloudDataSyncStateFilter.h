//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1092.3.10.0.0
//
#ifndef HMDCloudDataSyncStateFilter_h
#define HMDCloudDataSyncStateFilter_h
@import Foundation;

#include "HMDMessageFilter.h"
#include "HMDHomeManager.h"
#include "HMFLogging-Protocol.h"
#include "HMFMessageReceiver-Protocol.h"
#include "HMFTimerDelegate-Protocol.h"

@class BOOL *, HMFMessageDispatcher, HMFTimer, NSDate, NSString, NSUUID;
@protocol OS_dispatch_queue, OS_dispatch_source, OS_os_log;

@interface HMDCloudDataSyncStateFilter : HMDMessageFilter<HMFMessageReceiver, HMFTimerDelegate, HMFLogging> {
  /* instance variables */
  NSObject<OS_os_log> *_logger;
  struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } _lock;
  BOOL _hh1FirstCloudSyncComplete;
}

@property (retain, nonatomic) NSUUID *uuid;
@property (nonatomic) BOOL keychainSyncEnabled;
@property (retain, nonatomic) HMFMessageDispatcher *msgDispatcher;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *popupTimer;
@property (retain, nonatomic) NSObject<OS_dispatch_source> *iCloudSwitchPopupTimer;
@property (nonatomic) BOOL keychainSyncRequiredPopShown;
@property (nonatomic) BOOL iCloudSwitchRequiredPopShown;
@property (nonatomic) BOOL iCloudAccountActive;
@property (nonatomic) BOOL cloudDataSyncCompleted;
@property (nonatomic) BOOL serverTokenAvailable;
@property (nonatomic) BOOL iCloudSwitchStateEnabled;
@property (nonatomic) BOOL localDataDecryptionFailed;
@property (nonatomic) long long totalHomes;
@property (nonatomic) BOOL networkConnectivityAvailable;
@property (retain, nonatomic) HMFTimer *cloudDataSyncInProgressTimer;
@property (nonatomic) double remainingDataSyncPeriod;
@property (retain, nonatomic) NSDate *dataSyncTimerStartTimestamp;
@property (retain, nonatomic) HMFTimer *resetConfigDisplayTimer;
@property (nonatomic) double remainingResetConfigDisplayPeriod;
@property (retain, nonatomic) NSDate *resetConfigDisplayTimerStartTimestamp;
@property (nonatomic) BOOL resetConfigDisplayTimeHasElapsed;
@property (weak, nonatomic) HMDHomeManager *homeManager;
@property (nonatomic) BOOL keychainSyncPeerAvailable;
@property (nonatomic) BOOL cloudDataSyncPeerAvailable;
@property BOOL homeManagerFirstFetchFinished;
@property (nonatomic) BOOL decryptionFailed;
@property (readonly, nonatomic) NSUUID *messageTargetUUID;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *messageReceiveQueue;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)logCategory;
+ (BOOL)isAllowedMessage:(id)message;

/* instance methods */
- (id)initWithName:(id)name homeManager:(id)manager messageDispatcher:(id)dispatcher serverTokenAvailable:(BOOL)available homeDataHasBeenDecrypted:(BOOL)decrypted homeManagerServerTokenAvailable:(BOOL)available localDataDecryptionFailed:(BOOL)failed totalHomes:(long long)homes currentAccount:(id)account;
- (void)_registerForMessages;
- (void)dealloc;
- (void)_updateKeychainSyncEnabled:(BOOL)enabled;
- (void)handleKeychainSyncStateChangedNotification:(id)notification;
- (void)_postNotificationForDataSyncInProgress:(BOOL)progress dataSyncState:(unsigned long long)state forcePost:(BOOL)post;
- (void)startDataConfigResetTimers;
- (void)_startDataConfigResetTimers;
- (void)_stopDataConfigResetTimers;
- (void)updateNetworkConnectivity:(BOOL)connectivity;
- (void)timerDidFire:(id)fire;
- (void)_startCloudDataSyncTimer;
- (void)_stopCloudDataSyncTimer;
- (void)_resetCloudDataSyncTimer;
- (void)_stallCloudDataSyncTimer;
- (void)kickResetConfigDisplayTimer;
- (void)_startResetConfigDisplayTimer;
- (void)_stopResetConfigDisplayTimer;
- (void)_clearResetConfigDisplayTimer;
- (void)_stallResetConfigDisplayTimer;
- (void)_handleAccountStatusChanged:(id)changed;
- (void)_startPopupTimer;
- (void)_stopPopupTimer;
- (void)_startiCloudSwitchPopupTimer;
- (void)_stopiCloudSwitchPopupTimer;
- (void)updateTotalHomes:(long long)homes;
- (void)updateCurrentAccount:(id)account;
- (void)_updateCurrentAccount:(id)account;
- (BOOL)acceptMessage:(id)message target:(id)target errorReason:(id *)reason;
- (BOOL)dataSyncInProgressWithState:(unsigned long long *)state withMessage:(id)message;
- (BOOL)_cloudSyncinProgressCheck:(id)check supressPopup:(BOOL)popup sendCanceledError:(BOOL *)error dataSyncState:(unsigned long long *)state;
- (void)updateCloudDataSyncState:(BOOL)state;
- (void)_updateCloudDataSyncState:(BOOL)state;
- (void)_markHH1FirstCloudSyncComplete;
- (void)updateWithoutDataSynCheckServerTokenAvailable:(BOOL)available;
- (void)updateServerTokenAvailable:(BOOL)available;
- (void)updateiCloudSwitchState:(BOOL)state;
- (BOOL)isiCloudSwitchEnabled;
- (BOOL)isKeychainSyncSwitchEnabled;
- (void)updateLocalDataDecryptionFailed:(BOOL)failed;
- (BOOL)isLocalDataDecryptionFailed;
- (void)resetConfiguration;
- (BOOL)shouldCloudSyncData;
- (BOOL)isKeychainSyncPeerAvailable;
- (BOOL)isCloudDataSyncPeerAvailable;
- (BOOL)isHomeManagerFirstFetchFinished;
@end

#endif /* HMDCloudDataSyncStateFilter_h */
