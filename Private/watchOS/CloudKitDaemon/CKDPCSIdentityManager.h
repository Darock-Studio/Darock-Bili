//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2130.14.1.0.0
//
#ifndef CKDPCSIdentityManager_h
#define CKDPCSIdentityManager_h
@import Foundation;

#include "CKDAccount.h"
#include "CKDLogicalDeviceContext.h"

@class NSMutableDictionary, NSString;

@interface CKDPCSIdentityManager : NSObject

@property (retain) CKDAccount *account;
@property (readonly, nonatomic) CKDLogicalDeviceContext *deviceContext;
@property (readonly, nonatomic) BOOL forceEnableReadOnlyManatee;
@property (retain) NSString *cachedAccountDSID;
@property (retain) NSMutableDictionary *PCSIdentityWrappersByServiceName;
@property (nonatomic) struct _PCSIdentityData * debugIdentity;
@property (nonatomic) BOOL forceSecurityErrorOnIdentityValidation;
@property (nonatomic) BOOL serviceIsManateeForUnitTests;
@property (nonatomic) BOOL refetchPCSIdentitySet;
@property (nonatomic) unsigned int clientSDKVersion;
@property (readonly, nonatomic) NSString *serviceName;
@property (readonly, nonatomic) BOOL currentServiceIsManatee;

/* class methods */
+ (BOOL)credentialsAreValidForAccount:(id)account;
+ (struct _PCSIdentitySetData *)_copyStingrayIdentitiesForOptions:(id)options withError:(id *)error;
+ (struct _PCSIdentitySetData *)_copyStingrayIdentitiesForService:(id)service forBackingExplicitCredentialsAccount:(id)account withError:(id *)error;
+ (id)sharedFakeIdentitySetsByServiceByUsername;
+ (struct _PCSIdentitySetData *)_getTestAccountIdentitySetForService:(id)service forBackingExplicitCredentialsAccount:(id)account withError:(id *)error;
+ (id)_generatePCSIdentityOptionsForService:(id)service forBackingExplicitCredentialsAccount:(id)account withError:(id *)error;
+ (BOOL)_rollTestAccountIdentitySetForService:(id)service forBackingExplicitCredentialsAccount:(id)account withError:(id *)error;
+ (id)sharedMockIdentitySetsByServiceByIdentifier;
+ (id)overrideKeys;

/* instance methods */
- (id)initWithAccount:(id)account deviceContext:(id)context serviceName:(id)name forceEnableReadOnlyManatee:(BOOL)manatee clientSDKVersion:(unsigned int)sdkversion;
- (void)setPCSServiceNameOverwrite:(id)overwrite;
- (void)dealloc;
- (void)updateAccount:(id)account;
- (void)identitiesChanged;
- (id)_cacheIdentitySet:(struct _PCSIdentitySetData *)set forService:(id)service;
- (struct _PCSIdentitySetData *)_copyIdentityForService:(id)service useCache:(BOOL)cache validateCurrentKey:(BOOL)key error:(id *)error;
- (struct _PCSIdentitySetData *)_createIdentitySetForService:(id)service dsid:(id)dsid error:(id *)error;
- (struct _PCSIdentitySetData *)copyIdentitySetWithType:(unsigned long long)type options:(unsigned long long)options error:(id *)error;
- (struct _PCSIdentitySetData *)createFullKeychainIdentitySetWithError:(id *)error;
- (BOOL)liverpoolServiceOwnsPublicID:(id)id;
- (struct _PCSPublicIdentityData *)copyDiversifiedIdentityForService:(unsigned long long)service userIDEntropy:(id)identropy withError:(id *)error;
- (id)copyDiversifiedPublicKeyForService:(unsigned long long)service userIDEntropy:(id)identropy withError:(id *)error;
- (id)copyPublicKeyForService:(unsigned long long)service withError:(id *)error;
- (id)copyAllPublicKeysForService:(unsigned long long)service withError:(id *)error;
- (id)_copyPublicKeyDataForAllIdentitiesInSet:(struct _PCSIdentitySetData *)set withService:(unsigned long long)service;
- (id)_copyPublicKeyDataForIdentitySet:(struct _PCSIdentitySetData *)set withService:(unsigned long long)service withError:(id *)error;
- (struct _PCSIdentitySetData *)_copyTestAccountIdentitySetForService:(id)service forBackingExplicitCredentialsAccount:(id)account withError:(id *)error;
- (id)_copyPCSIdentitiesForBackingMockAccount:(id)account withError:(id *)error;
- (BOOL)_setIdentitySet:(struct _PCSIdentitySetData *)set forServiceName:(id)name backingMockAccount:(id)account withError:(id *)error;
- (struct _PCSIdentitySetData *)_getTestAccountIdentitySetForService:(id)service forBackingMockAccount:(id)account withError:(id *)error;
- (struct _PCSIdentitySetData *)_getTestAccountIdentitySetForService:(id)service forBackingMockAccount:(id)account shouldFaultInIdentities:(BOOL)identities withError:(id *)error;
- (struct _PCSIdentitySetData *)_copyTestAccountIdentitySetForService:(id)service forBackingMockAccount:(id)account withError:(id *)error;
- (BOOL)isManateeAvailableWithError:(id *)error;
- (BOOL)serviceIsManatee:(id)manatee;
- (struct _PCSIdentityData *)debugSharingIdentity;
- (struct _PCSPublicIdentityData *)createPublicSharingIdentityFromPublicKey:(id)key error:(id *)error;
- (struct _PCSIdentityData *)createRandomSharingIdentityWithError:(id *)error;
- (id)dataFromSharingIdentity:(struct _PCSIdentityData *)identity error:(id *)error;
- (struct _PCSIdentityData *)createSharingIdentityFromData:(id)data error:(id *)error;
- (struct _PCSIdentityData *)createCombinedIdentityWithOutOfNetworkPrivateKey:(id)key publicSharingIdentity:(id)identity;
- (BOOL)identitySet:(struct _PCSIdentitySetData *)set containsPublicKey:(id)key error:(id *)error;
- (BOOL)_hasCurrentKeyForService:(id)service inIdentitySet:(struct _PCSIdentitySetData *)set withError:(id *)error;
- (id)PCSServiceStringFromCKServiceType:(unsigned long long)type;
- (void)clearOverrides;
- (void)setOverride:(id)override value:(id)value;
- (BOOL)_checkAndClearPCSTestOverrideForKey:(id)key;
@end

#endif /* CKDPCSIdentityManager_h */
