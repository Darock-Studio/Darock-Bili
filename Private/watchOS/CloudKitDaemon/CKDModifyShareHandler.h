//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2130.14.1.0.0
//
#ifndef CKDModifyShareHandler_h
#define CKDModifyShareHandler_h
@import Foundation;

#include "CKDModifyRecordHandler.h"

@class CKRecordID, CKShare;

@interface CKDModifyShareHandler : CKDModifyRecordHandler

@property (nonatomic) BOOL haveAddedOwnerToShare;
@property (nonatomic) BOOL isALegacyPublicShareThatNeedsOwnerPPPCSUpgrade;
@property (nonatomic) struct _PCSPublicIdentityData * selfPPPCSOwnerIdentity;
@property (readonly, nonatomic) CKShare *share;
@property (readonly, nonatomic) CKRecordID *shareID;

/* class methods */
+ (id)modifyHandlerWithShare:(id)share operation:(id)operation;
+ (id)modifyHandlerForDeleteWithShareID:(id)id operation:(id)operation;

/* instance methods */
- (BOOL)isShare;
- (BOOL)isCloudDocsContainer;
- (unsigned long long)serviceType;
- (id)sideEffectRecordIDs;
- (void)noteSideEffectRecordPendingModify:(id)modify;
- (void)noteSideEffectRecordAbsent:(id)absent;
- (void)noteSideEffectRecordPendingDelete:(id)delete;
- (void)fetchSharePCSData;
- (void)_fetchSharePCSData;
- (void)_fetchRootRecordPublicSharingIdentityWithCompletionHandler:(id /* block */)handler;
- (id)_createNewSharePCSDataWithError:(id *)error;
- (id)_handleSharePCSData:(id)pcsdata zonePCSData:(id)pcsdata;
- (void)_prepareDependentPCSUpdateIfNeededForShareWithSharePCS:(id)pcs error:(id)error;
- (void)prepareForSave;
- (id)_rollShareAndZonePCSIfNeededForSharePCS:(id)pcs zonePCSData:(id)pcsdata;
- (void)_alignParticipantPermissions;
- (BOOL)_serializePCSDataForShareWithError:(id *)error;
- (BOOL)_updateSharePublicPCSWithError:(id *)error;
- (BOOL)_cleanPublicPCSforShareWithError:(id *)error;
- (void)_addPublicKeyToSelfParticipant;
- (void)_setupParticipantsProtectionInfos;
- (BOOL)_modifyRoleForParticipant:(id)participant invitedPCS:(struct _OpaquePCSShareProtection *)pcs shareeIdentities:(id)identities error:(id *)error;
- (BOOL)_removePrivateParticipantsFromInvitedPCS:(struct _OpaquePCSShareProtection *)pcs error:(id *)error;
- (id)_removePrivateParticipant:(id)participant fromInvitedSharePCS:(struct _OpaquePCSShareProtection *)pcs;
- (id)_publicKeyForParticipant:(id)participant error:(id *)error;
- (BOOL)_addedPrivateParticipantNeedsAManateeInvitation:(id)invitation;
- (struct _PCSPublicIdentityData *)createPublicIdentityFromPublicKeyForParticipant:(id)participant error:(id *)error;
- (unsigned long long)invitedPCSPermissionForParticipant:(id)participant;
- (id)_ensurePrivateParticipant:(id)participant isInInvitedSharePCS:(struct _OpaquePCSShareProtection *)pcs;
- (id)_removePublicKey:(id)key fromInvitedPCS:(struct _OpaquePCSShareProtection *)pcs;
- (void)clearProtectionDataForRecord;
- (void)setServerRecord:(id)record;
- (void)savePCSDataToCache;
- (void)updateParticipantsForFetchedShare:(id)share error:(id)error;
- (void)dealloc;
@end

#endif /* CKDModifyShareHandler_h */
