//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 25.300.51.0.0
//
#ifndef SKAInvitationManager_h
#define SKAInvitationManager_h
@import Foundation;

#include "SKAAccountProviding-Protocol.h"
#include "SKAChannelManaging-Protocol.h"
#include "SKADatabaseManaging-Protocol.h"
#include "SKAInvitationManaging-Protocol.h"
#include "SKAInvitationManagingDelegate-Protocol.h"
#include "SKAMessagingProviding-Protocol.h"
#include "SKAPresenceManaging-Protocol.h"

@class BOOL *, NSMutableDictionary, NSString;
@protocol OS_dispatch_queue;

@interface SKAInvitationManager : NSObject<SKAInvitationManaging>

@property (retain, nonatomic) NSObject<SKADatabaseManaging> *databaseManager;
@property (retain, nonatomic) NSObject<SKAMessagingProviding> *messagingProvider;
@property (retain, nonatomic) NSObject<SKAChannelManaging> *channelManager;
@property (retain, nonatomic) NSObject<SKAAccountProviding> *accountProvider;
@property (retain, nonatomic) NSObject<SKAPresenceManaging> *presenceManager;
@property (retain, nonatomic) NSObject<OS_dispatch_queue> *backgroundCleanupQueue;
@property (retain, nonatomic) NSMutableDictionary *outgoingInvitationMapping;
@property (nonatomic) BOOL trafficModeEnabled;
@property (nonatomic) BOOL presenceEnabledByServer;
@property (weak, nonatomic) NSObject<SKAInvitationManagingDelegate> *delegate;
@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)_invalidSenderHandleError;
+ (id)_invalidInvitedHandlesError;
+ (id)_noPersonalChannelErrorForStatusTypeIdentifier:(id)identifier;
+ (id)_noPresenceChannelForIdentifier:(id)identifier;
+ (id)_keyRollFailedErrorWithUnderlyingError:(id)error;
+ (id)_unableToFindExistingInvitationForHandlesError:(id)error;
+ (id)_unableToFindAnyExistingInvitationToDeleteError;
+ (id)_presenceDisabledError;
+ (id)logger;

/* instance methods */
- (id)initWithMessagingProvider:(id)provider databaseManager:(id)manager accountProvider:(id)provider channelManager:(id)manager presenceManager:(id)manager trafficMode:(BOOL)mode;
- (void)sendInvitationForPersonalChannelWithStatusTypeIdentifier:(id)identifier toHandles:(id)handles fromSenderHandle:(id)handle withInvitationPayload:(id)payload completion:(id /* block */)completion;
- (void)sendInvitationForPresenceChannelWithPresenceIdentifier:(id)identifier toHandles:(id)handles fromSenderHandle:(id)handle options:(id)options completion:(id /* block */)completion;
- (void)sendSelfInvitationForPresenceChannelWithPresenceIdentifier:(id)identifier isPersonal:(BOOL)personal completion:(id /* block */)completion;
- (void)revokeAllInvitationsFromPersonalChannelWithStatusTypeIdentifier:(id)identifier completion:(id /* block */)completion;
- (void)revokeInvitationFromPersonalChannelWithStatusTypeIdentifier:(id)identifier forHandles:(id)handles completion:(id /* block */)completion;
- (void)revokeInvitationFromPresenceChannelWithPresenceIdentifier:(id)identifier forHandles:(id)handles completion:(id /* block */)completion;
- (id)resolveSenderHandleWithPreferredSenderHandle:(id)handle;
- (BOOL)rollEncryptionKeyForPersonalChannelWithStatusTypeIdentifier:(id)identifier error:(id *)error;
- (void)outgoingMessageWithIdentifier:(id)identifier fromHandle:(id)handle toHandle:(id)handle didSendWithSuccess:(BOOL)success;
- (void)rollPersonalChannelWithStatusTypeIdentifier:(id)identifier completion:(id /* block */)completion;
- (void)rollPresenceChannelWithPresenceIdentifier:(id)identifier isPersonal:(BOOL)personal completion:(id /* block */)completion;
- (BOOL)_rollEncryptionKeyForChannel:(id)channel databaseContext:(id)context error:(id *)error;
- (BOOL)_sendInvitationMessageForChannel:(id)channel toInvitedUsers:(id)users subscriptionKeys:(id)keys error:(id *)error;
- (BOOL)_sendInvitationMessageForPresenceChannel:(id)channel toInvitedUsers:(id)users error:(id *)error;
- (id)_invitationMessageForPresenceChannel:(id)channel;
- (id)_validateInvitedHandles:(id)handles;
- (BOOL)_validateInvitedHandle:(id)handle;
- (void)handleIncomingInvitationMessage:(id)message fromHandle:(id)handle fromID:(id)id toHandle:(id)handle messageGuid:(id)guid;
- (void)isHandleInviteable:(id)inviteable fromHandle:(id)handle completion:(id /* block */)completion;
- (void)_isHandleInviteable:(id)inviteable completion:(id /* block */)completion;
- (void)isPresenceHandleInviteable:(id)inviteable fromHandle:(id)handle completion:(id /* block */)completion;
- (void)_isPresenceHandleInviteable:(id)inviteable completion:(id /* block */)completion;
- (void)fetchHandleInvitability:(id)invitability fromHandle:(id)handle forStatusTypeIdentifier:(id)identifier completion:(id /* block */)completion;
- (void)fetchHandleInvitability:(id)invitability fromHandle:(id)handle forPresenceIdentifier:(id)identifier completion:(id /* block */)completion;
- (id)_ratchetEncryptionKeyForwardOrKeyRollForPersonalChannel:(id)channel databaseContext:(id)context invitationWasSentViaKeyRoll:(BOOL *)roll error:(id *)error;
- (id)_addInvitedHandles:(id)handles senderHandle:(id)handle toDatabaseForPersonalChannel:(id)channel withInvitationPayload:(id)payload databaseContext:(id)context;
- (id)_addInvitedHandles:(id)handles senderHandle:(id)handle toDatabaseForPresenceChannel:(id)channel databaseContext:(id)context;
- (id)_updateOrCreateInvitedUserWithHandle:(id)handle senderHandle:(id)handle onChannel:(id)channel withInvitationPayload:(id)payload databaseContext:(id)context;
- (void)_findOrCreatePersonalChannelForStatusTypeIdentifier:(id)identifier databaseContext:(id)context completion:(id /* block */)completion;
- (void)_createPersonalChannelForStatusTypeIdentifier:(id)identifier databaseContext:(id)context completion:(id /* block */)completion;
- (BOOL)_shouldReauthForError:(id)error;
@end

#endif /* SKAInvitationManager_h */
