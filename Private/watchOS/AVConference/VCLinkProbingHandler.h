//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2005.6.1.3.2
//
#ifndef VCLinkProbingHandler_h
#define VCLinkProbingHandler_h
@import Foundation;

#include "VCDispatchTimer.h"
#include "VCLinkProbingHandlerDelegate-Protocol.h"

@class NSArray, NSMutableDictionary, NSMutableSet, NSNumber, NSSet;
@protocol OS_dispatch_queue;

@interface VCLinkProbingHandler : NSObject {
  /* instance variables */
  VCDispatchTimer *_queryProbingResultsTimer;
  VCDispatchTimer *_probingLockdownTimer;
  VCDispatchTimer *_requestStatsTimer;
  NSObject<OS_dispatch_queue> *_serialQueue;
  NSObject<OS_dispatch_queue> *_delegateQueue;
  NSMutableDictionary *_aggregatedProbingResults;
  NSArray *_linkPreferenceOrder;
  unsigned int _linkProbingInterval;
  unsigned int _linkProbingTimeout;
  unsigned int _linkProbingQueryResultsInterval;
  unsigned int _minSentRequestCountThreshold;
  unsigned char _linkProbingState;
  double _lastLinkPreferenceUpdateNotificationTime;
  double _linkProbingConnectionLockdownPeriod;
  double _expMovMeanFactor;
  double _plrEnvelopeAttackFactor;
  double _plrEnvelopeDecayFactor;
  NSArray *_plrBuckets;
  struct { unsigned char linkProbingCapabilityVersion; unsigned int linkProbingQueryResultsInterval; double expMovMeanFactor; double envelopeAttackFactor; double envelopeDecayFactor; NSArray *plrBuckets; } _linkProbingResultConfig;
  BOOL _isProbingLockedOut;
  double _probingStartTime;
  double _probingLockoutStartTime;
  double _linkProbingLockdownPeriod;
  unsigned int _linkProbingDuplicationWaitTimeout;
  unsigned int _consecutiveIdenticalQueryResultMax;
  unsigned int _consecutiveIdenticalQueryResultCount;
  unsigned int _linkProbingQRStatFrequency;
  unsigned int _linkProbingQRStatRequestMaxCount;
  double _inkProbingQRStatRequestMaxRTT;
  unsigned char _qrLinkProbingState;
  NSNumber *_qrLinkID;
  unsigned long long _requestStatsIdentifier;
  NSMutableDictionary *_activeQRStatRequests;
}

@property NSObject<VCLinkProbingHandlerDelegate> *linkProbingHandlerDelegate;
@property unsigned char linkProbingCapabilityVersion;
@property (readonly) BOOL isLinkProbingActive;
@property (readonly) NSSet *activelyProbingLinkIDs;
@property BOOL isDuplicationEnabled;

/* instance methods */
- (id)initWithDelegate:(id)delegate;
- (void)dealloc;
- (void)startActiveProbingOnLinks:(id)links;
- (void)stopActiveProbingOnLinks:(id)links resetStats:(BOOL)stats;
- (void)updateProbingResults:(id)results;
- (void)dispatchedUpdateProbingResults:(id)results;
- (void)flushProbingResults:(id)results;
- (BOOL)isValidProbingResult:(id)result;
- (void)removeProbingResultsForLinks:(id)links;
- (id)getProbingResultsForLinkID:(id)id;
- (void)setQRLinkID:(id)id;
- (void)startActiveProbingQRLink;
- (void)stopActiveProbingQRLink;
- (void)updateQRProbingResult:(id)result;
- (void)loadStorebagValues;
- (void)setLinkProbingResultConfig;
- (void)queryProbingResults;
- (void)updateLinkPreferenceOrder;
- (void)probingLockdownEnded;
- (void)resetAggregatedProbingResults;
- (void)requestStats;
- (void)dispatchedUpdateQRProbingResult:(id)result;
@end

#endif /* VCLinkProbingHandler_h */
