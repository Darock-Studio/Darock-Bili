//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2005.6.1.3.2
//
#ifndef VCMovieWriter_h
#define VCMovieWriter_h
@import Foundation;

#include "VCObject.h"
#include "VCMovieWriterProtocol-Protocol.h"

@class AVAssetWriter, AVAssetWriterInput, AVAssetWriterInputMetadataAdaptor, NSString, NSURL;
@protocol OS_dispatch_queue;

@interface VCMovieWriter : VCObject<VCMovieWriterProtocol> {
  /* instance variables */
  NSString *_transactionID;
  struct { long long value; int timescale; unsigned int flags; long long epoch; } _lastVideoPresentationTime;
  struct { long long value; int timescale; unsigned int flags; long long epoch; } _lastLocalAudioPresentationTime;
  struct { long long value; int timescale; unsigned int flags; long long epoch; } _lastRemoteAudioPresentationTime;
  struct { long long value; int timescale; unsigned int flags; long long epoch; } _startTime;
  struct { long long value; int timescale; unsigned int flags; long long epoch; } _stillImageTime;
  AVAssetWriter *_assetWriter;
  AVAssetWriterInput *_videoInput;
  AVAssetWriterInput *_localAudioInput;
  AVAssetWriterInput *_remoteAudioInput;
  AVAssetWriterInput *_metadataInput;
  AVAssetWriterInputMetadataAdaptor *_adapter;
  BOOL _isEndRTPTimestampSet;
  BOOL _writingStarted;
  struct opaqueCMBufferQueue * _videoQueue;
  struct opaqueCMBufferQueue * _localAudioQueue;
  struct opaqueCMBufferQueue * _remoteAudioQueue;
  NSObject<OS_dispatch_queue> *_serializationQueue;
  id /* block */ _completionHandler;
  double _visibleWidth;
  double _visibleHeight;
  struct __CVPixelBufferPool * _bufferPool;
  struct OpaqueVTPixelTransferSession * _transferSession;
  unsigned int _codec;
  unsigned int _mediaState;
  BOOL _hasStillImageMetadataTrack;
  double _keyFrameIntervalDuration;
}

@property unsigned int startRTPTimeStamp;
@property unsigned int endRTPTimeStamp;
@property (readonly) unsigned char writerMode;
@property (retain, nonatomic) NSURL *outputURL;

/* instance methods */
- (id)initWithOutputURL:(id)url transactionID:(id)id videoCodec:(unsigned int)codec keyFrameIntervalDuration:(double)duration;
- (void)dealloc;
- (void)setupWriterWithMode:(unsigned char)mode;
- (void)setupVisibleRect:(struct CGRect { struct CGPoint { double x0; double x1; } x0; struct CGSize { double x0; double x1; } x1; })rect withCaptureHeight:(int)height;
- (void)appendVideoSampleBuffer:(struct opaqueCMSampleBuffer *)buffer cameraStatus:(unsigned char)status mediaType:(unsigned char)type;
- (void)appendAudioSampleBuffer:(struct opaqueCMSampleBuffer *)buffer mediaType:(unsigned char)type;
- (void)setEndRTPTimestampWithTimestamp:(unsigned int)timestamp;
- (BOOL)shouldAppendSampleBuffer:(struct opaqueCMSampleBuffer *)buffer RTPtimeStamp:(unsigned int)stamp mediaType:(unsigned char)type;
- (BOOL)shouldFinishWritingSampleBuffer:(struct opaqueCMSampleBuffer *)buffer RTPtimeStamp:(unsigned int)stamp mediaType:(unsigned char)type;
- (void)setStillImageTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })time;
- (void)finishWritingWithHandler:(id /* block */)handler;
- (id)setupLivePhotoAssetWithTransactionID:(id)id;
- (id)addAudioTrackForLocalAudio:(BOOL)audio;
- (id)addVideoTrackWithWidth:(int)width height:(int)height;
- (id)addStillImageMetadataTrackWithTransactionID:(id)id;
- (id)setupAssetWriterWithWidth:(int)width height:(int)height transactionID:(id)id;
- (id)setupAudioAssetWriterWithTransactionID:(id)id;
- (void)cleanupAssetWriter;
- (void)setupInput:(id)input queue:(struct opaqueCMBufferQueue *)queue dispatchGroup:(id)group lastPresentationTime:(struct { long long x0; int x1; unsigned int x2; long long x3; } *)time;
- (void)processSampleQueue:(struct opaqueCMBufferQueue *)queue input:(id)input lastPresentationTime:(struct { long long x0; int x1; unsigned int x2; long long x3; } *)time;
- (void)appendMetaData;
- (void)startWritingAtTime:(struct { long long x0; int x1; unsigned int x2; long long x3; })time;
- (void)setupInputs;
@end

#endif /* VCMovieWriter_h */
