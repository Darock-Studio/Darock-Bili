//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 2005.6.1.3.2
//
#ifndef VCIDSSessionInfoSynchronizer_h
#define VCIDSSessionInfoSynchronizer_h
@import Foundation;

#include "VCConnectionManager.h"

@class NSMutableArray, NSMutableDictionary, NSNumber;
@protocol OS_dispatch_queue;

@interface VCIDSSessionInfoSynchronizer : NSObject {
  /* instance variables */
  NSMutableArray *_peerSubscribedStreams;
  NSMutableDictionary *_peerPublishedStreams;
  NSMutableArray *_publishedStreams;
  NSMutableDictionary *_subscribedStreams;
  id _delegate;
  unsigned int _currentParticipantGenerationCounter;
  VCConnectionManager *_connectionManager;
  id _reportingAgentWeak;
  NSObject<OS_dispatch_queue> *_stateQueue;
  int _sessionInfoRequestBytesUsed;
  int _sessionInfoResponseBytesUsed;
  int _lastProcessedBytesSent;
  int _bytesSentToReport;
  int _maxSentRate;
  int _minSentRate;
  int _lastProcessedBytesReceived;
  int _bytesReceivedToReport;
  int _maxReceivedRate;
  int _minReceivedRate;
  double _lastUpdateTimestamp;
  unsigned int _subscribedStreamsRetryCount;
}

@property (retain, nonatomic) NSNumber *primaryLinkID;
@property (retain, nonatomic) NSNumber *duplicationLinkID;
@property (copy, nonatomic) id /* block */ peerSubscribedStreamCallback;
@property (copy, nonatomic) id /* block */ peerPublishedStreamCallback;
@property (copy, nonatomic) id /* block */ errorReponseCallback;
@property (readonly) id reportingAgent;

/* instance methods */
- (id)initWithDelegate:(id)delegate connectionManager:(id)manager reportingAgent:(id)agent;
- (void)resetParticipantGenerationCounter;
- (void)resetPeerSubscribedStreams;
- (void)checkVCIDSSessionInfoNeedUpdate:(unsigned char)update;
- (void)updateVCIDSSessionInfoResponse:(id)response;
- (void)optInStreamIDsForConnection:(id)connection;
- (void)optInAllStreamsForConnection:(id)connection;
- (void)optInStreamIDsForNewPrimaryConnection:(id)connection oldPrimaryConnection:(id)connection;
- (void)optOutStreamIDsForNonPrimaryConnection:(id)connection sentOnConnection:(id)connection;
- (void)periodicTask:(void *)task;
- (void)registerPeriodicTask;
- (void)flushRealTimeReportingStats;
- (void)dealloc;
- (void)setVCIDSSessionInfoSubscribedStreamIDs:(id)ids;
- (void)retryVCIDSSessionInfoSubscribedStreamIDs;
- (void)sendVCIDSSessionInfoSubscribedStreamIDs:(id)ids;
- (void)setVCIDSSessionInfoPublishedStreamIDs:(id)ids;
- (id)sessionInfoSynchronizerDelegate;
- (void)setErrorResponseCallback:(id /* block */)callback;
- (void)deregisterPeriodicTask;
@end

#endif /* VCIDSSessionInfoSynchronizer_h */
