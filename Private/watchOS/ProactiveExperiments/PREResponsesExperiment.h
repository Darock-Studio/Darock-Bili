//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 1226.2.2.1.0
//
#ifndef PREResponsesExperiment_h
#define PREResponsesExperiment_h
@import Foundation;

#include "PREExperimentResolverProtocol-Protocol.h"
#include "PREPredictionExemptTermsDetector.h"
#include "PREResponsesMetricsProtocol-Protocol.h"
#include "PREResponsesProtocol-Protocol.h"

@class NSUserDefaults, RKMessageResponseManager, TIPreferencesController, _PASLRUCache, _PASLock;

@interface PREResponsesExperiment : NSObject {
  /* instance variables */
  NSObject<PREExperimentResolverProtocol> *_experimentResolver;
  NSObject<PREResponsesMetricsProtocol> *_metrics;
  NSObject<PREResponsesProtocol> *_xpcClient;
  RKMessageResponseManager *_rkClient;
  TIPreferencesController *_tiPreferencesController;
  NSUserDefaults *_defaults;
  _PASLRUCache *_responsesGeneratedCache;
  _PASLock *_guardedCachedResponsesGeneratedEvent;
  PREPredictionExemptTermsDetector *_exemptTermsDetector;
}

@property (nonatomic) BOOL registerDisplayed;
@property (nonatomic) BOOL includeCannedResponses;
@property (nonatomic) BOOL includeCustomResponses;
@property (nonatomic) BOOL includeResponsesToRobots;
@property (nonatomic) BOOL useResponseKitAsFallback;

/* class methods */
+ (id)sharedManager;
+ (id)_rawStringsForMessages:(id)messages excludingTapBacks:(BOOL)backs;
+ (BOOL)_isPreferredLocaleValid:(id)valid;
+ (id)_getConversationHistoryFromRequest:(id)request;
+ (id)_getFormattedPREResponseItems:(id)items inputPreferences:(id)preferences;
+ (id)stringArrayFromPreResponseItems:(id)items;
+ (id)_cannedRepliesForLanguage:(id)language inputPreferences:(id)preferences;
+ (BOOL)_shouldInsertSuggestion:(id)suggestion forExistingSuggestions:(id)suggestions;
+ (id)_suggestionsWithDynamicResponseItems:(id)items cannedResponseItems:(id)items inputPreferences:(id)preferences;
+ (id)_inputMethodStringFrom:(int)from;
+ (int)_preInputMethodFrom:(id)from;
+ (BOOL)_isStringEmpty:(id)empty;

/* instance methods */
- (id)initWithExperimentResolver:(id)resolver metricsClient:(id)client xpcClient:(id)client rkClient:(id)client tiPreferencesController:(id)controller;
- (id)init;
- (id)cachedResponsesGeneratedEvent;
- (void)setCachedResponsesGeneratedEvent:(id)event;
- (id)clippedMessageIfNecessary:(id)necessary;
- (id)cacheKeyForMessage:(id)message maxResponses:(unsigned long long)responses time:(id)time language:(id)language;
- (unsigned long long)mode;
- (id)activeExperimentNameForLanguage:(id)language;
- (id)suggestionsForRequest:(id)request;
- (void)suggestionsForRequest:(id)request withCompletion:(id /* block */)completion;
- (id)responsesForMessage:(id)message maximumResponses:(unsigned long long)responses forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language recipients:(id)recipients options:(unsigned long long)options;
- (id)fullNonEditableSuggestionsListForMessage:(id)message context:(id)context additionalSenderMessages:(id)messages date:(id)date keyboardLanguageID:(id)id keyboardLanguageLastChangedDate:(id)date recipients:(id)recipients includeDynamicSuggestions:(BOOL)suggestions;
- (void)fullNonEditableSuggestionsListForMessage:(id)message context:(id)context additionalSenderMessages:(id)messages date:(id)date keyboardLanguageID:(id)id keyboardLanguageLastChangedDate:(id)date recipients:(id)recipients includeDynamicSuggestions:(BOOL)suggestions completion:(id /* block */)completion;
- (id)nonEditableSuggestionsForMessage:(id)message messageDate:(id)date senderID:(id)id recipients:(id)recipients outgoingMessageHistory:(id)history keyboardLanguageID:(id)id keyboardLanguageLastChangedDate:(id)date includeDynamicSuggestions:(BOOL)suggestions;
- (id)nonEditableSuggestionsForMessage:(id)message messageDate:(id)date senderID:(id)id recipientHandles:(id)handles outgoingMessageHistory:(id)history keyboardLanguageID:(id)id keyboardLanguageLastChangedDate:(id)date includeDynamicSuggestions:(BOOL)suggestions;
- (void)nonEditableSuggestionsForMessage:(id)message messageDate:(id)date senderID:(id)id recipients:(id)recipients outgoingMessageHistory:(id)history keyboardLanguageID:(id)id keyboardLanguageLastChangedDate:(id)date includeDynamicSuggestions:(BOOL)suggestions completion:(id /* block */)completion;
- (void)nonEditableSuggestionsForMessage:(id)message messageDate:(id)date senderID:(id)id recipientHandles:(id)handles outgoingMessageHistory:(id)history keyboardLanguageID:(id)id keyboardLanguageLastChangedDate:(id)date includeDynamicSuggestions:(BOOL)suggestions completion:(id /* block */)completion;
- (id)responsesForMessage:(id)message maximumResponses:(unsigned long long)responses forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language recipientHandles:(id)handles options:(unsigned long long)options;
- (id)_responsesForMessage:(id)message maximumResponses:(unsigned long long)responses outgoingMessageHistory:(id)history forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language languageLastChangedDate:(id)date recipientHandles:(id)handles options:(unsigned long long)options preferredLocale:(id)locale;
- (void)responsesForMessage:(id)message maximumResponses:(unsigned long long)responses forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language recipients:(id)recipients options:(unsigned long long)options completionBlock:(id /* block */)block;
- (void)responsesForMessage:(id)message maximumResponses:(unsigned long long)responses forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language recipientHandles:(id)handles options:(unsigned long long)options completionBlock:(id /* block */)block;
- (void)_responsesForMessage:(id)message maximumResponses:(unsigned long long)responses outgoingMessageHistory:(id)history forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language languageLastChangedDate:(id)date recipientHandles:(id)handles options:(unsigned long long)options preferredLocale:(id)locale completionBlock:(id /* block */)block;
- (void)performWithResolvedModelAssetPathsUsingLanguage:(id)language block:(id /* block */)block;
- (void)predictionsForRequest:(id)request heads:(id)heads completion:(id /* block */)completion;
- (void)predictionsForRequest:(id)request plistPath:(id)path espressoBinPath:(id)path vocabPath:(id)path heads:(id)heads completion:(id /* block */)completion;
- (void)preResponseItemsForMessage:(id)message maximumResponses:(unsigned long long)responses forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language recipientHandles:(id)handles options:(unsigned long long)options completionBlock:(id /* block */)block;
- (void)registerResponse:(id)response forMessage:(id)message time:(id)time metadata:(id)metadata withLanguage:(id)language;
- (void)registerResponseDisplayedAtIndex:(id)index;
- (void)primeResponsesExperimentsIfNeeded;
- (id)responsesCache;
- (void)registerGenerationWithPreResponseItems:(id)items language:(id)language isCached:(BOOL)cached responseTimePerf:(unsigned long long)perf promptMessage:(id)message generationStatus:(int)status;
- (id)waitForPreResponseItemsForMessage:(id)message maximumResponses:(unsigned long long)responses forConversationHistory:(id)history forContext:(id)context time:(id)time withLanguage:(id)language recipientHandles:(id)handles options:(unsigned long long)options;
- (id)handlesFromRecipients:(id)recipients;
- (BOOL)shouldUseDefaultRKTreatment;
- (BOOL)shouldUseDefaultRKTreatmentForLanguage:(id)language;
@end

#endif /* PREResponsesExperiment_h */
