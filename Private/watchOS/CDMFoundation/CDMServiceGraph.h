//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 3302.8.1.0.0
//
#ifndef CDMServiceGraph_h
#define CDMServiceGraph_h
@import Foundation;

#include "CDMDataDispatcherContext.h"
#include "CDMServiceGraphNode.h"

@class NSError, NSLock, NSMutableArray, NSMutableDictionary, NSString;

@interface CDMServiceGraph : NSObject {
  /* instance variables */
  NSMutableArray *_nodes;
  NSMutableDictionary *_nodesWithName;
  NSMutableDictionary *_serviceMap;
  id _graphOutput;
  id _graphInput;
  NSString *_language;
  NSString *_handlerId;
  CDMServiceGraphNode *_endNode;
  NSLock *_aneLock;
  NSMutableDictionary *_skipNodes;
}

@property (retain, nonatomic) NSError *error;
@property (retain, nonatomic) CDMDataDispatcherContext *cdmDataDispatcherContext;
@property (retain) NSMutableArray *serviceMetrics;

/* class methods */
+ (id)requiredDAGServices;
+ (int)getCdmRequesterWithConnectionId:(id)id;
+ (BOOL)shouldSkipNode:(id)node service:(id)service;
+ (int)getNLXSchemaCDMServiceGraphName;
+ (void)dispatchServiceGraphRequestLogging:(id)logging dataDispatcherContext:(id)context;
+ (void)dispatchServiceGraphResponseLogging:(id)logging requestId:(id)id dataDispatcherContext:(id)context;
+ (void)dispatchServiceGraphHandleMetricsLogging:(id)logging requestId:(id)id dataDispatcherContext:(id)context;
+ (id)requestFeatureStoreStreamId;
+ (id)serializeFeatureStoreWithRequestCmd:(id)cmd;
+ (id)responseFeatureStoreStreamId;
+ (id)serializeFeatureStoreWithResponseCmd:(id)cmd;

/* instance methods */
- (id)initWithServices:(id)services graphInput:(id)input languageCode:(id)code handlerId:(id)id aneLock:(id)lock dataDispatcherContext:(id)context;
- (id)init;
- (Class)supportedGraphInputType;
- (id)getNodes;
- (id)getNodesWithName;
- (id)getError;
- (void)buildGraph;
- (void)buildGraphInternal;
- (id)toMermaid;
- (id)topoSort;
- (BOOL)isAcyclic;
- (void)setGraphOutput:(id)output;
- (id)getGraphOutput;
- (id)getServiceByClass:(Class)class;
- (id)getGraphInput;
- (id)addNodeWithName:(id)name requestId:(id)id block:(id /* block */)block;
- (id)addNodeWithName:(id)name aneEnabled:(BOOL)enabled requestId:(id)id block:(id /* block */)block;
- (id)addNodeWithName:(id)name bindService:(id)service requestId:(id)id block:(id /* block */)block;
- (id)addNodeWithName:(id)name bindService:(id)service aneEnabled:(BOOL)enabled requestId:(id)id block:(id /* block */)block;
- (id)getLanguage;
- (id)getEndNode;
- (id)getHandlerId;
- (void)failedWithErrorCode:(long long)code errorDomain:(id)domain message:(id)message;
- (void)failedWithError:(id)error;
- (id)validateRequest:(id)request;
- (void)populateRequesterEnumForNluRequest:(id)request;
- (void)skipNode:(id)node basedOnNode:(id)node withCondition:(id /* block */)condition;
- (id)getSkippedNodes;
@end

#endif /* CDMServiceGraph_h */
