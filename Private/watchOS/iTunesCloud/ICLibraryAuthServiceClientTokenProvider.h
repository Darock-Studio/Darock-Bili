//
//   Generated by https://github.com/blacktop/ipsw (Version: 3.1.454, BuildTime: 2024-02-08T22:07:34Z)
//
//    - LC_BUILD_VERSION:  Platform: watchOSSimulator, MinOS: 10.2, SDK: 10.2, Tool: ld (902.8)
//    - LC_SOURCE_VERSION: 4023.330.5.0.0
//
#ifndef ICLibraryAuthServiceClientTokenProvider_h
#define ICLibraryAuthServiceClientTokenProvider_h
@import Foundation;

#include "ICLibraryAuthServiceClientTokenProviderProtocol-Protocol.h"
#include "NSXPCListenerDelegate-Protocol.h"

@class AFMultiUserConnection, NSMutableDictionary, NSMutableSet, NSOperationQueue, NSString, NSXPCConnection, NSXPCListener;
@protocol OS_dispatch_queue;

@interface ICLibraryAuthServiceClientTokenProvider : NSObject<ICLibraryAuthServiceClientTokenProviderProtocol, NSXPCListenerDelegate> {
  /* instance variables */
  NSObject<OS_dispatch_queue> *_accessQueue;
  NSOperationQueue *_operationQueue;
  NSMutableDictionary *_tokenCache;
  BOOL _isService;
  NSXPCListener *_xpcServiceListener;
  NSMutableSet *_xpcConnections;
  NSXPCConnection *_xpcClientConnection;
  AFMultiUserConnection *_siriConnection;
}

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;

/* class methods */
+ (id)sharedProvider;

/* instance methods */
- (id)init;
- (void)dealloc;
- (void)startService;
- (void)stopService;
- (void)getTokenForcingRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (void)getAllTokensForAssistantForcingRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (void)getTokenForDSID:(id)dsid forceRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (void)getTokenResultForDSID:(id)dsid forceRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (void)getTokenResultsForDSIDs:(id)dsids forceRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (id)cachedTokenAndResetCache:(BOOL)cache;
- (void)addTokenResult:(id)result forDSID:(id)dsid completion:(id /* block */)completion;
- (void)getTokenStatusForDSIDs:(id)dsids forcingRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (void)getTokenStatusForcingRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (void)getAllTokenStatusForAssistantForcingRefresh:(BOOL)refresh completion:(id /* block */)completion;
- (void)_refreshTokenForDSID:(id)dsid forExternalRequest:(BOOL)request completion:(id /* block */)completion;
- (void)_refreshTokensForDSIDs:(id)dsids forExternalRequest:(BOOL)request completion:(id /* block */)completion;
- (void)_handleLibraryAuthServiceClientTokenDidChangeDistributedNotification:(id)notification;
- (id)_clientConnection;
- (id)_remoteObjectProxyWithErrorHandler:(id /* block */)handler;
- (void)_loadCache;
- (struct DevicePresetTokenResult { id x0; id x1; BOOL x2; })_checkTokenPresetsForDSID:(id)dsid forceRefresh:(BOOL)refresh;
- (struct DevicePresetTokenResult { id x0; id x1; BOOL x2; })_devicePresetForConfiguration:(id)configuration withDSID:(id)dsid;
- (void)_commitCache;
- (void)_updateRefreshTimer;
- (BOOL)_shouldStopBackgroundRefreshForError:(id)error;
- (void)_updateTokenCacheEntryForDSID:(id)dsid tokenResult:(id)result error:(id)error;
- (BOOL)_isPrivacyAcknowledgementRequired;
- (BOOL)_updateEntriesForAccountsChanges;
- (id)_loggableTokenCacheDictionary;
- (void)_handleUserIdentityStoreDidChangeNotification:(id)notification;
- (BOOL)listener:(id)listener shouldAcceptNewConnection:(id)connection;
- (void)_addConnection:(id)connection;
- (void)_removeConnection:(id)connection;
@end

#endif /* ICLibraryAuthServiceClientTokenProvider_h */
